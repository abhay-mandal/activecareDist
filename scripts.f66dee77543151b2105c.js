!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n=[],r=Object.getPrototypeOf,i=n.slice,o=n.flat?function(e){return n.flat.call(e)}:function(e){return n.concat.apply([],e)},a=n.push,s=n.indexOf,c={},l=c.toString,u=c.hasOwnProperty,d=u.toString,p=d.call(Object),f={},h=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},m=function(e){return null!=e&&e===e.window},g=e.document,v={type:!0,src:!0,nonce:!0,noModule:!0};function y(e,t,n){var r,i,o=(n=n||g).createElement("script");if(o.text=e,t)for(r in v)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function b(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?c[l.call(e)]||"object":typeof e}var _="3.6.0",E=function(e,t){return new E.fn.init(e,t)};function w(e){var t=!!e&&"length"in e&&e.length,n=b(e);return!h(e)&&!m(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}E.fn=E.prototype={jquery:_,constructor:E,length:0,toArray:function(){return i.call(this)},get:function(e){return null==e?i.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=E.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return E.each(this,e)},map:function(e){return this.pushStack(E.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:n.sort,splice:n.splice},E.extend=E.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,c=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||h(a)||(a={}),s===c&&(a=this,s--);s<c;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(E.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||E.isPlainObject(n)?n:{},i=!1,a[t]=E.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},E.extend({expando:"jQuery"+(_+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==l.call(e)||(t=r(e))&&("function"!=typeof(n=u.call(t,"constructor")&&t.constructor)||d.call(n)!==p))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){y(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(w(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(w(Object(e))?E.merge(n,"string"==typeof e?[e]:e):a.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:s.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,a=0,s=[];if(w(e))for(r=e.length;a<r;a++)null!=(i=t(e[a],a,n))&&s.push(i);else for(a in e)null!=(i=t(e[a],a,n))&&s.push(i);return o(s)},guid:1,support:f}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=n[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){c["[object "+t+"]"]=t.toLowerCase()});var S=function(e){var t,n,r,i,o,a,s,c,l,u,d,p,f,h,m,g,v,y,b,_="sizzle"+1*new Date,E=e.document,w=0,S=0,T=ce(),C=ce(),A=ce(),R=ce(),D=function(e,t){return e===t&&(d=!0),0},x={}.hasOwnProperty,k=[],I=k.pop,O=k.push,N=k.push,L=k.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",j="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",U="\\[[\\x20\\t\\r\\n\\f]*("+F+")(?:"+j+"*([*^$|!~]?=)"+j+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+j+"*\\]",B=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+U+")*)|.*)\\)|)",H=new RegExp(j+"+","g"),J=new RegExp("^[\\x20\\t\\r\\n\\f]+|((?:^|[^\\\\])(?:\\\\.)*)[\\x20\\t\\r\\n\\f]+$","g"),G=new RegExp("^[\\x20\\t\\r\\n\\f]*,[\\x20\\t\\r\\n\\f]*"),W=new RegExp("^[\\x20\\t\\r\\n\\f]*([>+~]|[\\x20\\t\\r\\n\\f])[\\x20\\t\\r\\n\\f]*"),V=new RegExp(j+"|>"),z=new RegExp(B),q=new RegExp("^"+F+"$"),K={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+U),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)","i"),bool:new RegExp("^(?:"+M+")$","i"),needsContext:new RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},$=/HTML$/i,X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}[\\x20\\t\\r\\n\\f]?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"ï¿½":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){p()},ae=_e(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{N.apply(k=L.call(E.childNodes),E.childNodes)}catch(Ce){N={apply:k.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function se(e,t,r,i){var o,s,l,u,d,h,v,y=t&&t.ownerDocument,E=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==E&&9!==E&&11!==E)return r;if(!i&&(p(t),t=t||f,m)){if(11!==E&&(d=Q.exec(e)))if(o=d[1]){if(9===E){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(y&&(l=y.getElementById(o))&&b(t,l)&&l.id===o)return r.push(l),r}else{if(d[2])return N.apply(r,t.getElementsByTagName(e)),r;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!R[e+" "]&&(!g||!g.test(e))&&(1!==E||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===E&&(V.test(e)||W.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((u=t.getAttribute("id"))?u=u.replace(re,ie):t.setAttribute("id",u=_)),s=(h=a(e)).length;s--;)h[s]=(u?"#"+u:":scope")+" "+be(h[s]);v=h.join(",")}try{return N.apply(r,y.querySelectorAll(v)),r}catch(w){R(e,!0)}finally{u===_&&t.removeAttribute("id")}}}return c(e.replace(J,"$1"),t,r,i)}function ce(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function le(e){return e[_]=!0,e}function ue(e){var t=f.createElement("fieldset");try{return!!e(t)}catch(Ce){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function fe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function me(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ae(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function ge(e){return le(function(t){return t=+t,le(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=se.support={},o=se.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!$.test(e&&e.namespaceURI||t&&t.nodeName||"HTML")},p=se.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:E;return a!=f&&9===a.nodeType&&a.documentElement?(h=(f=a).documentElement,m=!o(f),E!=f&&(i=f.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",oe,!1):i.attachEvent&&i.attachEvent("onunload",oe)),n.scope=ue(function(e){return h.appendChild(e).appendChild(f.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(f.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Z.test(f.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=_,!f.getElementsByName||!f.getElementsByName(_).length}),n.getById?(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},v=[],g=[],(n.qsa=Z.test(f.querySelectorAll))&&(ue(function(e){var t;h.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|"+M+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),(t=f.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||g.push("\\[[\\x20\\t\\r\\n\\f]*name[\\x20\\t\\r\\n\\f]*=[\\x20\\t\\r\\n\\f]*(?:''|\"\")"),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]"),e.querySelectorAll("\\\f"),g.push("[\\r\\n\\f]")}),ue(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=f.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),h.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Z.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",B)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),t=Z.test(h.compareDocumentPosition),b=t||Z.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},D=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e==f||e.ownerDocument==E&&b(E,e)?-1:t==f||t.ownerDocument==E&&b(E,t)?1:u?P(u,e)-P(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==f?-1:t==f?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);for(n=e;n=n.parentNode;)a.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;a[r]===s[r];)r++;return r?pe(a[r],s[r]):a[r]==E?-1:s[r]==E?1:0},f):f},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(p(e),n.matchesSelector&&m&&!R[t+" "]&&(!v||!v.test(t))&&(!g||!g.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(Ce){R(t,!0)}return se(t,f,null,[e]).length>0},se.contains=function(e,t){return(e.ownerDocument||e)!=f&&p(e),b(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=f&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&x.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(D),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return u=null,e},i=se.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=se.selectors={cacheLength:50,createPseudo:le,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&z.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+e+"("+j+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=se.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,c){var l,u,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!c&&!s,b=!1;if(g){if(o){for(;m;){for(p=t;p=p[m];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&y){for(b=(f=(l=(u=(d=(p=g)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===w&&l[1])&&l[2],p=f&&g.childNodes[f];p=++f&&p&&p[m]||(b=f=0)||h.pop();)if(1===p.nodeType&&++b&&p===t){u[e]=[w,f,b];break}}else if(y&&(b=f=(l=(u=(d=(p=t)[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]||[])[0]===w&&l[1]),!1===b)for(;(p=++f&&p&&p[m]||(b=f=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++b||(y&&((u=(d=p[_]||(p[_]={}))[p.uniqueID]||(d[p.uniqueID]={}))[e]=[w,b]),p!==t)););return(b-=i)===r||b%r==0&&b/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=P(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:le(function(e){var t=[],n=[],r=s(e.replace(J,"$1"));return r[_]?le(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:le(function(e){return function(t){return se(e,t).length>0}}),contains:le(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||i(t)).indexOf(e)>-1}}),lang:le(function(e){return q.test(e||"")||se.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:me(!1),disabled:me(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Y.test(e.nodeName)},input:function(e){return X.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ge(function(){return[0]}),last:ge(function(e,t){return[t-1]}),eq:ge(function(e,t,n){return[n<0?n+t:n]}),even:ge(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ge(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ge(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:ge(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=fe(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=he(t);function ye(){}function be(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function _e(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=S++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,c){var l,u,d,p=[w,s];if(c){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,c))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(u=(d=t[_]||(t[_]={}))[t.uniqueID]||(d[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=u[o])&&l[0]===w&&l[1]===s)return p[2]=l[2];if(u[o]=p,p[2]=e(t,n,c))return!0}return!1}}function Ee(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function we(e,t,n,r,i){for(var o,a=[],s=0,c=e.length,l=null!=t;s<c;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Se(e,t,n,r,i,o){return r&&!r[_]&&(r=Se(r)),i&&!i[_]&&(i=Se(i,o)),le(function(o,a,s,c){var l,u,d,p=[],f=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:we(m,p,e,s,c),v=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,v,s,c),r)for(l=we(v,f),r(l,[],s,c),u=l.length;u--;)(d=l[u])&&(v[f[u]]=!(g[f[u]]=d));if(o){if(i||e){if(i){for(l=[],u=v.length;u--;)(d=v[u])&&l.push(g[u]=d);i(null,v=[],l,c)}for(u=v.length;u--;)(d=v[u])&&(l=i?P(o,d):p[u])>-1&&(o[l]=!(a[l]=d))}}else v=we(v===a?v.splice(h,v.length):v),i?i(null,a,v,c):N.apply(a,v)})}function Te(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],c=a?1:0,u=_e(function(e){return e===t},s,!0),d=_e(function(e){return P(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==l)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];c<o;c++)if(n=r.relative[e[c].type])p=[_e(Ee(p),n)];else{if((n=r.filter[e[c].type].apply(null,e[c].matches))[_]){for(i=++c;i<o&&!r.relative[e[i].type];i++);return Se(c>1&&Ee(p),c>1&&be(e.slice(0,c-1).concat({value:" "===e[c-2].type?"*":""})).replace(J,"$1"),n,c<i&&Te(e.slice(c,i)),i<o&&Te(e=e.slice(i)),i<o&&be(e))}p.push(n)}return Ee(p)}return ye.prototype=r.filters=r.pseudos,r.setFilters=new ye,a=se.tokenize=function(e,t){var n,i,o,a,s,c,l,u=C[e+" "];if(u)return t?0:u.slice(0);for(s=e,c=[],l=r.preFilter;s;){for(a in n&&!(i=G.exec(s))||(i&&(s=s.slice(i[0].length)||s),c.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(J," ")}),s=s.slice(n.length)),r.filter)!(i=K[a].exec(s))||l[a]&&!(i=l[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?se.error(e):C(e,c).slice(0)},s=se.compile=function(e,t){var n,i=[],o=[],s=A[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=Te(t[n]))[_]?i.push(s):o.push(s);(s=A(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,c,u){var d,h,g,v=0,y="0",b=o&&[],_=[],E=l,S=o||i&&r.find.TAG("*",u),T=w+=null==E?1:Math.random()||.1,C=S.length;for(u&&(l=a==f||a||u);y!==C&&null!=(d=S[y]);y++){if(i&&d){for(h=0,a||d.ownerDocument==f||(p(d),s=!m);g=e[h++];)if(g(d,a||f,s)){c.push(d);break}u&&(w=T)}n&&((d=!g&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(h=0;g=t[h++];)g(b,_,a,s);if(o){if(v>0)for(;y--;)b[y]||_[y]||(_[y]=I.call(c));_=we(_)}N.apply(c,_),u&&!o&&_.length>0&&v+t.length>1&&se.uniqueSort(c)}return u&&(w=T,l=E),b};return n?le(o):o}(o,i))).selector=e}return s},c=se.select=function(e,t,n,i){var o,c,l,u,d,p="function"==typeof e&&e,f=!i&&a(e=p.selector||e);if(n=n||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(te,ne),t)||[])[0]))return n;p&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(o=K.needsContext.test(e)?0:c.length;o--&&!r.relative[u=(l=c[o]).type];)if((d=r.find[u])&&(i=d(l.matches[0].replace(te,ne),ee.test(c[0].type)&&ve(t.parentNode)||t))){if(c.splice(o,1),!(e=i.length&&be(c)))return N.apply(n,i),n;break}}return(p||s(e,f))(i,t,!m,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=_.split("").sort(D).join("")===_,n.detectDuplicates=!!d,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(f.createElement("fieldset"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||de("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||de("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||de(M,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(e);E.find=S,E.expr=S.selectors,E.expr[":"]=E.expr.pseudos,E.uniqueSort=E.unique=S.uniqueSort,E.text=S.getText,E.isXMLDoc=S.isXML,E.contains=S.contains,E.escapeSelector=S.escape;var T=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&E(e).is(n))break;r.push(e)}return r},C=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=E.expr.match.needsContext;function R(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function x(e,t,n){return h(t)?E.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?E.grep(e,function(e){return e===t!==n}):"string"!=typeof t?E.grep(e,function(e){return s.call(t,e)>-1!==n}):E.filter(t,e,n)}E.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?E.find.matchesSelector(r,e)?[r]:[]:E.find.matches(e,E.grep(t,function(e){return 1===e.nodeType}))},E.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(E(e).filter(function(){for(t=0;t<r;t++)if(E.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)E.find(e,i[t],n);return r>1?E.uniqueSort(n):n},filter:function(e){return this.pushStack(x(this,e||[],!1))},not:function(e){return this.pushStack(x(this,e||[],!0))},is:function(e){return!!x(this,"string"==typeof e&&A.test(e)?E(e):e||[],!1).length}});var k,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(E.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||k,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:I.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(E.merge(this,E.parseHTML(r[1],(t=t instanceof E?t[0]:t)&&t.nodeType?t.ownerDocument||t:g,!0)),D.test(r[1])&&E.isPlainObject(t))for(r in t)h(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=g.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):h(e)?void 0!==n.ready?n.ready(e):e(E):E.makeArray(e,this)}).prototype=E.fn,k=E(g);var O=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}E.fn.extend({has:function(e){var t=E(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(E.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&E(e);if(!A.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&E.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?E.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?s.call(E(e),this[0]):s.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),E.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return T(e,"parentNode")},parentsUntil:function(e,t,n){return T(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return T(e,"nextSibling")},prevAll:function(e){return T(e,"previousSibling")},nextUntil:function(e,t,n){return T(e,"nextSibling",n)},prevUntil:function(e,t,n){return T(e,"previousSibling",n)},siblings:function(e){return C((e.parentNode||{}).firstChild,e)},children:function(e){return C(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(R(e,"template")&&(e=e.content||e),E.merge([],e.childNodes))}},function(e,t){E.fn[e]=function(n,r){var i=E.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=E.filter(r,i)),this.length>1&&(N[e]||E.uniqueSort(i),O.test(e)&&i.reverse()),this.pushStack(i)}});var P=/[^\x20\t\r\n\f]+/g;function M(e){return e}function j(e){throw e}function F(e,t,n,r){var i;try{e&&h(i=e.promise)?i.call(e).done(t).fail(n):e&&h(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}E.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return E.each(e.match(P)||[],function(e,n){t[n]=!0}),t}(e):E.extend({},e);var t,n,r,i,o=[],a=[],s=-1,c=function(){for(i=i||e.once,r=t=!0;a.length;s=-1)for(n=a.shift();++s<o.length;)!1===o[s].apply(n[0],n[1])&&e.stopOnFalse&&(s=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(s=o.length-1,a.push(n)),function t(n){E.each(n,function(n,r){h(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==b(r)&&t(r)})}(arguments),n&&!t&&c()),this},remove:function(){return E.each(arguments,function(e,t){for(var n;(n=E.inArray(t,o,n))>-1;)o.splice(n,1),n<=s&&s--}),this},has:function(e){return e?E.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=a=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=a=[],n||t||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],a.push(n),t||c()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},E.extend({Deferred:function(t){var n=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return i.then(null,e)},pipe:function(){var e=arguments;return E.Deferred(function(t){E.each(n,function(n,r){var i=h(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&h(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){var o=0;function a(t,n,r,i){return function(){var s=this,c=arguments,l=function(){var e,l;if(!(t<o)){if((e=r.apply(s,c))===n.promise())throw new TypeError("Thenable self-resolution");h(l=e&&("object"==typeof e||"function"==typeof e)&&e.then)?i?l.call(e,a(o,n,M,i),a(o,n,j,i)):(o++,l.call(e,a(o,n,M,i),a(o,n,j,i),a(o,n,M,n.notifyWith))):(r!==M&&(s=void 0,c=[e]),(i||n.resolveWith)(s,c))}},u=i?l:function(){try{l()}catch(e){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(e,u.stackTrace),t+1>=o&&(r!==j&&(s=void 0,c=[e]),n.rejectWith(s,c))}};t?u():(E.Deferred.getStackHook&&(u.stackTrace=E.Deferred.getStackHook()),e.setTimeout(u))}}return E.Deferred(function(e){n[0][3].add(a(0,e,h(i)?i:M,e.notifyWith)),n[1][3].add(a(0,e,h(t)?t:M)),n[2][3].add(a(0,e,h(r)?r:j))}).promise()},promise:function(e){return null!=e?E.extend(e,i):i}},o={};return E.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),o=i.call(arguments),a=E.Deferred(),s=function(e){return function(n){r[e]=this,o[e]=arguments.length>1?i.call(arguments):n,--t||a.resolveWith(r,o)}};if(t<=1&&(F(e,a.done(s(n)).resolve,a.reject,!t),"pending"===a.state()||h(o[n]&&o[n].then)))return a.then();for(;n--;)F(o[n],s(n),a.reject);return a.promise()}});var U=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&U.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},E.readyException=function(t){e.setTimeout(function(){throw t})};var B=E.Deferred();function H(){g.removeEventListener("DOMContentLoaded",H),e.removeEventListener("load",H),E.ready()}E.fn.ready=function(e){return B.then(e).catch(function(e){E.readyException(e)}),this},E.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--E.readyWait:E.isReady)||(E.isReady=!0,!0!==e&&--E.readyWait>0||B.resolveWith(g,[E]))}}),E.ready.then=B.then,"complete"===g.readyState||"loading"!==g.readyState&&!g.documentElement.doScroll?e.setTimeout(E.ready):(g.addEventListener("DOMContentLoaded",H),e.addEventListener("load",H));var J=function(e,t,n,r,i,o,a){var s=0,c=e.length,l=null==n;if("object"===b(n))for(s in i=!0,n)J(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,h(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(E(e),n)})),t))for(;s<c;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):c?t(e[0],n):o},G=/^-ms-/,W=/-([a-z])/g;function V(e,t){return t.toUpperCase()}function z(e){return e.replace(G,"ms-").replace(W,V)}var q=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function K(){this.expando=E.expando+K.uid++}K.uid=1,K.prototype={cache:function(e){var t=e[this.expando];return t||(t={},q(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[z(t)]=n;else for(r in t)i[z(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][z(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(z):(t=z(t))in r?[t]:t.match(P)||[]).length;for(;n--;)delete r[t[n]]}(void 0===t||E.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!E.isEmptyObject(t)}};var $=new K,X=new K,Y=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Z=/[A-Z]/g;function Q(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Z,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Y.test(e)?JSON.parse(e):e)}(n)}catch(i){}X.set(e,t,n)}else n=void 0;return n}E.extend({hasData:function(e){return X.hasData(e)||$.hasData(e)},data:function(e,t,n){return X.access(e,t,n)},removeData:function(e,t){X.remove(e,t)},_data:function(e,t,n){return $.access(e,t,n)},_removeData:function(e,t){$.remove(e,t)}}),E.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=X.get(o),1===o.nodeType&&!$.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=z(r.slice(5)),Q(o,r,i[r]));$.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){X.set(this,e)}):J(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=X.get(o,e))||void 0!==(n=Q(o,e))?n:void 0;this.each(function(){X.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){X.remove(this,e)})}}),E.extend({queue:function(e,t,n){var r;if(e)return r=$.get(e,t=(t||"fx")+"queue"),n&&(!r||Array.isArray(n)?r=$.access(e,t,E.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){var n=E.queue(e,t=t||"fx"),r=n.length,i=n.shift(),o=E._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){E.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $.get(e,n)||$.access(e,n,{empty:E.Callbacks("once memory").add(function(){$.remove(e,[t+"queue",n])})})}}),E.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?E.queue(this[0],e):void 0===t?this:this.each(function(){var n=E.queue(this,e,t);E._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&E.dequeue(this,e)})},dequeue:function(e){return this.each(function(){E.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=E.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=$.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=g.documentElement,ie=function(e){return E.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return E.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===E.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return E.css(e,t,"")},c=s(),l=n&&n[3]||(E.cssNumber[t]?"":"px"),u=e.nodeType&&(E.cssNumber[t]||"px"!==l&&+c)&&te.exec(E.css(e,t));if(u&&u[3]!==l){for(l=l||u[3],u=+(c/=2)||1;a--;)E.style(e,t,u+l),(1-o)*(1-(o=s()/c||.5))<=0&&(a=0),u/=o;E.style(e,t,(u*=2)+l),n=n||[]}return n&&(u=+u||+c||0,i=n[1]?u+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=u,r.end=i)),i}var ce={};function le(e){var t,n=e.ownerDocument,r=e.nodeName,i=ce[r];return i||(t=n.body.appendChild(n.createElement(r)),i=E.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),ce[r]=i,i)}function ue(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)(r=e[o]).style&&(n=r.style.display,t?("none"===n&&(i[o]=$.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&ae(r)&&(i[o]=le(r))):"none"!==n&&(i[o]="none",$.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}E.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?E(this).show():E(this).hide()})}});var de,pe,fe=/^(?:checkbox|radio)$/i,he=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,me=/^$|^module$|\/(?:java|ecma)script/i;de=g.createDocumentFragment().appendChild(g.createElement("div")),(pe=g.createElement("input")).setAttribute("type","radio"),pe.setAttribute("checked","checked"),pe.setAttribute("name","t"),de.appendChild(pe),f.checkClone=de.cloneNode(!0).cloneNode(!0).lastChild.checked,de.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!de.cloneNode(!0).lastChild.defaultValue,de.innerHTML="<option></option>",f.option=!!de.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&R(e,t)?E.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)$.set(e[n],"globalEval",!t||$.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,f.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var be=/<|&#?\w+;/;function _e(e,t,n,r,i){for(var o,a,s,c,l,u,d=t.createDocumentFragment(),p=[],f=0,h=e.length;f<h;f++)if((o=e[f])||0===o)if("object"===b(o))E.merge(p,o.nodeType?[o]:o);else if(be.test(o)){for(a=a||d.appendChild(t.createElement("div")),s=(he.exec(o)||["",""])[1].toLowerCase(),a.innerHTML=(c=ge[s]||ge._default)[1]+E.htmlPrefilter(o)+c[2],u=c[0];u--;)a=a.lastChild;E.merge(p,a.childNodes),(a=d.firstChild).textContent=""}else p.push(t.createTextNode(o));for(d.textContent="",f=0;o=p[f++];)if(r&&E.inArray(o,r)>-1)i&&i.push(o);else if(l=ie(o),a=ve(d.appendChild(o),"script"),l&&ye(a),n)for(u=0;o=a[u++];)me.test(o.type||"")&&n.push(o);return d}var Ee=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Se(){return!1}function Te(e,t){return e===function(){try{return g.activeElement}catch(e){}}()==("focus"===t)}function Ce(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ce(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Se;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return E().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=E.guid++)),e.each(function(){E.event.add(this,t,i,r,n)})}function Ae(e,t,n){n?($.set(e,t,!1),E.event.add(e,t,{namespace:!1,handler:function(e){var r,o,a=$.get(this,t);if(1&e.isTrigger&&this[t]){if(a.length)(E.event.special[t]||{}).delegateType&&e.stopPropagation();else if(a=i.call(arguments),$.set(this,t,a),r=n(this,t),this[t](),a!==(o=$.get(this,t))||r?$.set(this,t,!1):o={},a!==o)return e.stopImmediatePropagation(),e.preventDefault(),o&&o.value}else a.length&&($.set(this,t,{value:E.event.trigger(E.extend(a[0],E.Event.prototype),a.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===$.get(e,t)&&E.event.add(e,t,we)}E.event={global:{},add:function(e,t,n,r,i){var o,a,s,c,l,u,d,p,f,h,m,g=$.get(e);if(q(e))for(n.handler&&(n=(o=n).handler,i=o.selector),i&&E.find.matchesSelector(re,i),n.guid||(n.guid=E.guid++),(c=g.events)||(c=g.events=Object.create(null)),(a=g.handle)||(a=g.handle=function(t){return void 0!==E&&E.event.triggered!==t.type?E.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(P)||[""]).length;l--;)f=m=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),f&&(d=E.event.special[f]||{},d=E.event.special[f=(i?d.delegateType:d.bindType)||f]||{},u=E.extend({type:f,origType:m,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&E.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=c[f])||((p=c[f]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,h,a)||e.addEventListener&&e.addEventListener(f,a)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),E.event.global[f]=!0)},remove:function(e,t,n,r,i){var o,a,s,c,l,u,d,p,f,h,m,g=$.hasData(e)&&$.get(e);if(g&&(c=g.events)){for(l=(t=(t||"").match(P)||[""]).length;l--;)if(f=m=(s=Ee.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),f){for(d=E.event.special[f]||{},p=c[f=(r?d.delegateType:d.bindType)||f]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)u=p[o],!i&&m!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(o,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));a&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,h,g.handle)||E.removeEvent(e,f,g.handle),delete c[f])}else for(f in c)E.event.remove(e,f+t[l],n,r,!0);E.isEmptyObject(c)&&$.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),c=E.event.fix(e),l=($.get(this,"events")||Object.create(null))[c.type]||[],u=E.event.special[c.type]||{};for(s[0]=c,t=1;t<arguments.length;t++)s[t]=arguments[t];if(c.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,c)){for(a=E.event.handlers.call(this,c,l),t=0;(i=a[t++])&&!c.isPropagationStopped();)for(c.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!c.isImmediatePropagationStopped();)c.rnamespace&&!1!==o.namespace&&!c.rnamespace.test(o.namespace)||(c.handleObj=o,c.data=o.data,void 0!==(r=((E.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(c.result=r)&&(c.preventDefault(),c.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,c),c.result}},handlers:function(e,t){var n,r,i,o,a,s=[],c=t.delegateCount,l=e.target;if(c&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<c;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?E(i,this).index(l)>-1:E.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,c<t.length&&s.push({elem:l,handlers:t.slice(c)}),s},addProp:function(e,t){Object.defineProperty(E.Event.prototype,e,{enumerable:!0,configurable:!0,get:h(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[E.expando]?e:new E.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&R(t,"input")&&Ae(t,"click",we),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&R(t,"input")&&Ae(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&R(t,"input")&&$.get(t,"click")||R(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},E.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},E.Event=function(e,t){if(!(this instanceof E.Event))return new E.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&E.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(e,t){E.event.special[e]={setup:function(){return Ae(this,e,Te),!1},trigger:function(){return Ae(this,e),!0},_default:function(){return!0},delegateType:t}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){E.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||E.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),E.fn.extend({on:function(e,t,n,r){return Ce(this,e,t,n,r)},one:function(e,t,n,r){return Ce(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,E(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each(function(){E.event.remove(this,e,n,t)})}});var Re=/<script|<style|<link/i,De=/checked\s*(?:[^=]|=\s*.checked.)/i,xe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function ke(e,t){return R(e,"table")&&R(11!==t.nodeType?t:t.firstChild,"tr")&&E(e).children("tbody")[0]||e}function Ie(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Oe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Ne(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if($.hasData(e)&&(s=$.get(e).events))for(i in $.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)E.event.add(t,i,s[i][n]);X.hasData(e)&&(o=X.access(e),a=E.extend({},o),X.set(t,a))}}function Le(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Pe(e,t,n,r){t=o(t);var i,a,s,c,l,u,d=0,p=e.length,m=p-1,g=t[0],v=h(g);if(v||p>1&&"string"==typeof g&&!f.checkClone&&De.test(g))return e.each(function(i){var o=e.eq(i);v&&(t[0]=g.call(this,i,o.html())),Pe(o,t,n,r)});if(p&&(a=(i=_e(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=a),a||r)){for(c=(s=E.map(ve(i,"script"),Ie)).length;d<p;d++)l=i,d!==m&&(l=E.clone(l,!0,!0),c&&E.merge(s,ve(l,"script"))),n.call(e[d],l,d);if(c)for(u=s[s.length-1].ownerDocument,E.map(s,Oe),d=0;d<c;d++)me.test((l=s[d]).type||"")&&!$.access(l,"globalEval")&&E.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?E._evalUrl&&!l.noModule&&E._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):y(l.textContent.replace(xe,""),l,u))}return e}function Me(e,t,n){for(var r,i=t?E.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||E.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}E.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),c=ie(e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||E.isXMLDoc(e)))for(a=ve(s),r=0,i=(o=ve(e)).length;r<i;r++)Le(o[r],a[r]);if(t)if(n)for(o=o||ve(e),a=a||ve(s),r=0,i=o.length;r<i;r++)Ne(o[r],a[r]);else Ne(e,s);return(a=ve(s,"script")).length>0&&ye(a,!c&&ve(e,"script")),s},cleanData:function(e){for(var t,n,r,i=E.event.special,o=0;void 0!==(n=e[o]);o++)if(q(n)){if(t=n[$.expando]){if(t.events)for(r in t.events)i[r]?E.event.remove(n,r):E.removeEvent(n,r,t.handle);n[$.expando]=void 0}n[X.expando]&&(n[X.expando]=void 0)}}}),E.fn.extend({detach:function(e){return Me(this,e,!0)},remove:function(e){return Me(this,e)},text:function(e){return J(this,function(e){return void 0===e?E.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Pe(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ke(this,e).appendChild(e)})},prepend:function(){return Pe(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ke(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Pe(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(E.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return E.clone(this,e,t)})},html:function(e){return J(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Re.test(e)&&!ge[(he.exec(e)||["",""])[1].toLowerCase()]){e=E.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(E.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Pe(this,arguments,function(t){var n=this.parentNode;E.inArray(this,e)<0&&(E.cleanData(ve(this)),n&&n.replaceChild(t,this))},e)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){E.fn[e]=function(e){for(var n,r=[],i=E(e),o=i.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),E(i[s])[t](n),a.apply(r,n.get());return this.pushStack(r)}});var je=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Fe=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Ue=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Be=new RegExp(ne.join("|"),"i");function He(e,t,n){var r,i,o,a,s=e.style;return(n=n||Fe(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=E.style(e,t)),!f.pixelBoxStyles()&&je.test(a)&&Be.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function t(){if(u){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(l).appendChild(u);var t=e.getComputedStyle(u);r="1%"!==t.top,c=12===n(t.marginLeft),u.style.right="60%",a=36===n(t.right),i=36===n(t.width),u.style.position="absolute",o=12===n(u.offsetWidth/3),re.removeChild(l),u=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,c,l=g.createElement("div"),u=g.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===u.style.backgroundClip,E.extend(f,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),c},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=g.createElement("table"),n=g.createElement("tr"),r=g.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",re.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,re.removeChild(t)),s}}))}();var Ge=["Webkit","Moz","ms"],We=g.createElement("div").style,Ve={};function ze(e){return E.cssProps[e]||Ve[e]||(e in We?e:Ve[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ge.length;n--;)if((e=Ge[n]+t)in We)return e}(e)||e)}var qe=/^(none|table(?!-c[ea]).+)/,Ke=/^--/,$e={position:"absolute",visibility:"hidden",display:"block"},Xe={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Ze(e,t,n,r,i,o){var a="width"===t?1:0,s=0,c=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(c+=E.css(e,n+ne[a],!0,i)),r?("content"===n&&(c-=E.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(c-=E.css(e,"border"+ne[a]+"Width",!0,i))):(c+=E.css(e,"padding"+ne[a],!0,i),"padding"!==n?c+=E.css(e,"border"+ne[a]+"Width",!0,i):s+=E.css(e,"border"+ne[a]+"Width",!0,i));return!r&&o>=0&&(c+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-c-s-.5))||0),c}function Qe(e,t,n){var r=Fe(e),i=(!f.boxSizingReliable()||n)&&"border-box"===E.css(e,"boxSizing",!1,r),o=i,a=He(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(je.test(a)){if(!n)return a;a="auto"}return(!f.boxSizingReliable()&&i||!f.reliableTrDimensions()&&R(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===E.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===E.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Ze(e,t,n||(i?"border":"content"),o,r,a)+"px"}function et(e,t,n,r,i){return new et.prototype.init(e,t,n,r,i)}E.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=He(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=z(t),c=Ke.test(t),l=e.style;if(c||(t=ze(s)),a=E.cssHooks[t]||E.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"==(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||c||(n+=i&&i[3]||(E.cssNumber[s]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(c?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=z(t);return Ke.test(t)||(t=ze(s)),(a=E.cssHooks[t]||E.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=He(e,t,r)),"normal"===i&&t in Xe&&(i=Xe[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),E.each(["height","width"],function(e,t){E.cssHooks[t]={get:function(e,n,r){if(n)return!qe.test(E.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Qe(e,t,r):Ue(e,$e,function(){return Qe(e,t,r)})},set:function(e,n,r){var i,o=Fe(e),a=!f.scrollboxSize()&&"absolute"===o.position,s=(a||r)&&"border-box"===E.css(e,"boxSizing",!1,o),c=r?Ze(e,t,r,s,o):0;return s&&a&&(c-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),c&&(i=te.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=E.css(e,t)),Ye(0,n,c)}}}),E.cssHooks.marginLeft=Je(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(He(e,"marginLeft"))||e.getBoundingClientRect().left-Ue(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(e,t){E.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+ne[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(E.cssHooks[e+t].set=Ye)}),E.fn.extend({css:function(e,t){return J(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Fe(e),i=t.length;a<i;a++)o[t[a]]=E.css(e,t[a],!1,r);return o}return void 0!==n?E.style(e,t,n):E.css(e,t)},e,t,arguments.length>1)}}),E.Tween=et,(et.prototype={constructor:et,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||E.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(E.cssNumber[n]?"":"px")},cur:function(){var e=et.propHooks[this.prop];return e&&e.get?e.get(this):et.propHooks._default.get(this)},run:function(e){var t,n=et.propHooks[this.prop];return this.pos=t=this.options.duration?E.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):et.propHooks._default.set(this),this}}).init.prototype=et.prototype,(et.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=E.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){E.fx.step[e.prop]?E.fx.step[e.prop](e):1!==e.elem.nodeType||!E.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:E.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=et.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},E.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},E.fx=et.prototype.init,E.fx.step={};var tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){nt&&(!1===g.hidden&&e.requestAnimationFrame?e.requestAnimationFrame(ot):e.setTimeout(ot,E.fx.interval),E.fx.tick())}function at(){return e.setTimeout(function(){tt=void 0}),tt=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ct(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(e,t,n){var r,i,o=0,a=lt.prefilters.length,s=E.Deferred().always(function(){delete c.elem}),c=function(){if(i)return!1;for(var t=tt||at(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,a=l.tweens.length;o<a;o++)l.tweens[o].run(r);return s.notifyWith(e,[l,r,n]),r<1&&a?n:(a||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:E.extend({},t),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},n),originalProperties:t,originalOptions:n,startTime:tt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var r=E.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),u=l.props;for(function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=z(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=E.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(u,l.opts.specialEasing);o<a;o++)if(r=lt.prefilters[o].call(l,e,u,l.opts))return h(r.stop)&&(E._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return E.map(u,ct,l),h(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),E.fx.timer(E.extend(c,{elem:e,anim:l,queue:l.opts.queue})),l}E.Animation=E.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){h(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)(lt.tweeners[n=e[r]]=lt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,c,l,u,d="width"in t||"height"in t,p=this,f={},h=e.style,m=e.nodeType&&ae(e),g=$.get(e,"fxshow");for(r in n.queue||(null==(a=E._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,E.queue(e,"fx").length||a.empty.fire()})})),t)if(rt.test(i=t[r])){if(delete t[r],o=o||"toggle"===i,i===(m?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;m=!0}f[r]=g&&g[r]||E.style(e,r)}if((c=!E.isEmptyObject(t))||!E.isEmptyObject(f))for(r in d&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=g&&g.display)&&(l=$.get(e,"display")),"none"===(u=E.css(e,"display"))&&(l?u=l:(ue([e],!0),l=e.style.display||l,u=E.css(e,"display"),ue([e]))),("inline"===u||"inline-block"===u&&null!=l)&&"none"===E.css(e,"float")&&(c||(p.done(function(){h.display=l}),null==l&&(l="none"===(u=h.display)?"":u)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),c=!1,f)c||(g?"hidden"in g&&(m=g.hidden):g=$.access(e,"fxshow",{display:l}),o&&(g.hidden=!m),m&&ue([e],!0),p.done(function(){for(r in m||ue([e]),$.remove(e,"fxshow"),f)E.style(e,r,f[r])})),c=ct(m?g[r]:0,r,p),r in g||(g[r]=c.start,m&&(c.end=c.start,c.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),E.speed=function(e,t,n){var r=e&&"object"==typeof e?E.extend({},e):{complete:n||!n&&t||h(e)&&e,duration:e,easing:n&&t||t&&!h(t)&&t};return E.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration=r.duration in E.fx.speeds?E.fx.speeds[r.duration]:E.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){h(r.old)&&r.old.call(this),r.queue&&E.dequeue(this,r.queue)},r},E.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=E.isEmptyObject(e),o=E.speed(t,n,r),a=function(){var t=lt(this,E.extend({},e),o);(i||$.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=E.timers,a=$.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&it.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||E.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=$.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=E.timers,a=r?r.length:0;for(n.finish=!0,E.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),E.each(["toggle","show","hide"],function(e,t){var n=E.fn[t];E.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(st(t,!0),e,r,i)}}),E.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){E.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),E.timers=[],E.fx.tick=function(){var e,t=0,n=E.timers;for(tt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||E.fx.stop(),tt=void 0},E.fx.timer=function(e){E.timers.push(e),E.fx.start()},E.fx.interval=13,E.fx.start=function(){nt||(nt=!0,ot())},E.fx.stop=function(){nt=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(t,n){return t=E.fx&&E.fx.speeds[t]||t,this.queue(n=n||"fx",function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=g.createElement("input"),t=g.createElement("select").appendChild(g.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=t.selected,(e=g.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var ut,dt=E.expr.attrHandle;E.fn.extend({attr:function(e,t){return J(this,E.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){E.removeAttr(this,e)})}}),E.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?E.prop(e,t,n):(1===o&&E.isXMLDoc(e)||(i=E.attrHooks[t.toLowerCase()]||(E.expr.match.bool.test(t)?ut:void 0)),void 0!==n?null===n?void E.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=E.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&R(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),ut={set:function(e,t,n){return!1===t?E.removeAttr(e,n):e.setAttribute(n,n),n}},E.each(E.expr.match.bool.source.match(/\w+/g),function(e,t){var n=dt[t]||E.find.attr;dt[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=dt[a],dt[a]=i,i=null!=n(e,t,r)?a:null,dt[a]=o),i}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function mt(e){return e.getAttribute&&e.getAttribute("class")||""}function gt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}E.fn.extend({prop:function(e,t){return J(this,E.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[E.propFix[e]||e]})}}),E.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&E.isXMLDoc(e)||(i=E.propHooks[t=E.propFix[t]||t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=E.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(E.propHooks.selected={get:function(e){return null},set:function(e){}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,c=0;if(h(e))return this.each(function(t){E(this).addClass(e.call(this,t,mt(this)))});if((t=gt(e)).length)for(;n=this[c++];)if(i=mt(n),r=1===n.nodeType&&" "+ht(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,c=0;if(h(e))return this.each(function(t){E(this).removeClass(e.call(this,t,mt(this)))});if(!arguments.length)return this.attr("class","");if((t=gt(e)).length)for(;n=this[c++];)if(i=mt(n),r=1===n.nodeType&&" "+ht(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):h(e)?this.each(function(n){E(this).toggleClass(e.call(this,n,mt(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=E(this),a=gt(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=mt(this))&&$.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":$.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+ht(mt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;E.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=h(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,E(this).val()):e)?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=E.map(i,function(e){return null==e?"":e+""})),(t=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=E.valHooks[i.type]||E.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(vt,""):null==n?"":n:void 0}}),E.extend({valHooks:{option:{get:function(e){var t=E.find.attr(e,"value");return null!=t?t:ht(E.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],c=a?o+1:i.length;for(r=o<0?c:a?o:0;r<c;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!R(n.parentNode,"optgroup"))){if(t=E(n).val(),a)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=E.makeArray(t),a=i.length;a--;)((r=i[a]).selected=E.inArray(E.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=E.inArray(E(e).val(),t)>-1}},f.checkOn||(E.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),f.focusin="onfocusin"in e;var yt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};E.extend(E.event,{trigger:function(t,n,r,i){var o,a,s,c,l,d,p,f,v=[r||g],y=u.call(t,"type")?t.type:t,b=u.call(t,"namespace")?t.namespace.split("."):[];if(a=f=s=r=r||g,3!==r.nodeType&&8!==r.nodeType&&!yt.test(y+E.event.triggered)&&(y.indexOf(".")>-1&&(b=y.split("."),y=b.shift(),b.sort()),l=y.indexOf(":")<0&&"on"+y,(t=t[E.expando]?t:new E.Event(y,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=b.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+b.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:E.makeArray(n,[t]),p=E.event.special[y]||{},i||!p.trigger||!1!==p.trigger.apply(r,n))){if(!i&&!p.noBubble&&!m(r)){for(yt.test((c=p.delegateType||y)+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),s=a;s===(r.ownerDocument||g)&&v.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=v[o++])&&!t.isPropagationStopped();)f=a,t.type=o>1?c:p.bindType||y,(d=($.get(a,"events")||Object.create(null))[t.type]&&$.get(a,"handle"))&&d.apply(a,n),(d=l&&a[l])&&d.apply&&q(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=y,i||t.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),n)||!q(r)||l&&h(r[y])&&!m(r)&&((s=r[l])&&(r[l]=null),E.event.triggered=y,t.isPropagationStopped()&&f.addEventListener(y,bt),r[y](),t.isPropagationStopped()&&f.removeEventListener(y,bt),E.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=E.extend(new E.Event,n,{type:e,isSimulated:!0});E.event.trigger(r,null,t)}}),E.fn.extend({trigger:function(e,t){return this.each(function(){E.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return E.event.trigger(e,t,n,!0)}}),f.focusin||E.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){E.event.simulate(t,e.target,E.event.fix(e))};E.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=$.access(r,t);i||r.addEventListener(e,n,!0),$.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=$.access(r,t)-1;i?$.access(r,t,i):(r.removeEventListener(e,n,!0),$.remove(r,t))}}});var _t=e.location,Et={guid:Date.now()},wt=/\?/;E.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||E.error("Invalid XML: "+(r?E.map(r.childNodes,function(e){return e.textContent}).join("\n"):t)),n};var St=/\[\]$/,Tt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,At=/^(?:input|select|textarea|keygen)/i;function Rt(e,t,n,r){var i;if(Array.isArray(t))E.each(t,function(t,i){n||St.test(e)?r(e,i):Rt(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==b(t))r(e,t);else for(i in t)Rt(e+"["+i+"]",t[i],n,r)}E.param=function(e,t){var n,r=[],i=function(e,t){var n=h(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!E.isPlainObject(e))E.each(e,function(){i(this.name,this.value)});else for(n in e)Rt(n,e[n],t,i);return r.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=E.prop(this,"elements");return e?E.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!E(this).is(":disabled")&&At.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!fe.test(e))}).map(function(e,t){var n=E(this).val();return null==n?null:Array.isArray(n)?E.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}});var Dt=/%20/g,xt=/#.*$/,kt=/([?&])_=[^&]*/,It=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ot=/^(?:GET|HEAD)$/,Nt=/^\/\//,Lt={},Pt={},Mt="*/".concat("*"),jt=g.createElement("a");function Ft(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(P)||[];if(h(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function Ut(e,t,n,r){var i={},o=e===Pt;function a(s){var c;return i[s]=!0,E.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||o||i[l]?o?!(c=l):void 0:(t.dataTypes.unshift(l),a(l),!1)}),c}return a(t.dataTypes[0])||!i["*"]&&a("*")}function Bt(e,t){var n,r,i=E.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&E.extend(!0,e,r),e}jt.href=_t.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_t.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_t.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Bt(Bt(e,E.ajaxSettings),t):Bt(E.ajaxSettings,e)},ajaxPrefilter:Ft(Lt),ajaxTransport:Ft(Pt),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0);var r,i,o,a,s,c,l,u,d,p,f=E.ajaxSetup({},n=n||{}),h=f.context||f,m=f.context&&(h.nodeType||h.jquery)?E(h):E.event,v=E.Deferred(),y=E.Callbacks("once memory"),b=f.statusCode||{},_={},w={},S="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(l){if(!a)for(a={};t=It.exec(o);)a[t[1].toLowerCase()+" "]=(a[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=a[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return l?o:null},setRequestHeader:function(e,t){return null==l&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,_[e]=t),this},overrideMimeType:function(e){return null==l&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(l)T.always(e[T.status]);else for(t in e)b[t]=[b[t],e[t]];return this},abort:function(e){var t=e||S;return r&&r.abort(t),C(0,t),this}};if(v.promise(T),f.url=((t||f.url||_t.href)+"").replace(Nt,_t.protocol+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(P)||[""],null==f.crossDomain){c=g.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=jt.protocol+"//"+jt.host!=c.protocol+"//"+c.host}catch(A){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=E.param(f.data,f.traditional)),Ut(Lt,f,n,T),l)return T;for(d in(u=E.event&&f.global)&&0==E.active++&&E.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ot.test(f.type),i=f.url.replace(xt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(Dt,"+")):(p=f.url.slice(i.length),f.data&&(f.processData||"string"==typeof f.data)&&(i+=(wt.test(i)?"&":"?")+f.data,delete f.data),!1===f.cache&&(i=i.replace(kt,"$1"),p=(wt.test(i)?"&":"?")+"_="+Et.guid+++p),f.url=i+p),f.ifModified&&(E.lastModified[i]&&T.setRequestHeader("If-Modified-Since",E.lastModified[i]),E.etag[i]&&T.setRequestHeader("If-None-Match",E.etag[i])),(f.data&&f.hasContent&&!1!==f.contentType||n.contentType)&&T.setRequestHeader("Content-Type",f.contentType),T.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Mt+"; q=0.01":""):f.accepts["*"]),f.headers)T.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(h,T,f)||l))return T.abort();if(S="abort",y.add(f.complete),T.done(f.success),T.fail(f.error),r=Ut(Pt,f,n,T)){if(T.readyState=1,u&&m.trigger("ajaxSend",[T,f]),l)return T;f.async&&f.timeout>0&&(s=e.setTimeout(function(){T.abort("timeout")},f.timeout));try{l=!1,r.send(_,C)}catch(A){if(l)throw A;C(-1,A)}}else C(-1,"No Transport");function C(t,n,a,c){var d,p,g,_,w,S=n;l||(l=!0,s&&e.clearTimeout(s),r=void 0,o=c||"",T.readyState=t>0?4:0,d=t>=200&&t<300||304===t,a&&(_=function(e,t,n){for(var r,i,o,a,s=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){c.unshift(i);break}if(c[0]in n)o=c[0];else{for(i in n){if(!c[0]||e.converters[i+" "+c[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==c[0]&&c.unshift(o),n[o]}(f,T,a)),!d&&E.inArray("script",f.dataTypes)>-1&&E.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),_=function(e,t,n,r){var i,o,a,s,c,l={},u=e.dataTypes.slice();if(u[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!c&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(!(a=l[c+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[c+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],u.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(A){return{state:"parsererror",error:a?A:"No conversion from "+c+" to "+o}}}return{state:"success",data:t}}(f,_,T,d),d?(f.ifModified&&((w=T.getResponseHeader("Last-Modified"))&&(E.lastModified[i]=w),(w=T.getResponseHeader("etag"))&&(E.etag[i]=w)),204===t||"HEAD"===f.type?S="nocontent":304===t?S="notmodified":(S=_.state,p=_.data,d=!(g=_.error))):(g=S,!t&&S||(S="error",t<0&&(t=0))),T.status=t,T.statusText=(n||S)+"",d?v.resolveWith(h,[p,S,T]):v.rejectWith(h,[T,S,g]),T.statusCode(b),b=void 0,u&&m.trigger(d?"ajaxSuccess":"ajaxError",[T,f,d?p:g]),y.fireWith(h,[T,S]),u&&(m.trigger("ajaxComplete",[T,f]),--E.active||E.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return E.get(e,t,n,"json")},getScript:function(e,t){return E.get(e,void 0,t,"script")}}),E.each(["get","post"],function(e,t){E[t]=function(e,n,r,i){return h(n)&&(i=i||r,r=n,n=void 0),E.ajax(E.extend({url:e,type:t,dataType:i,data:n,success:r},E.isPlainObject(e)&&e))}}),E.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),E._evalUrl=function(e,t,n){return E.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){E.globalEval(e,t,n)}})},E.fn.extend({wrapAll:function(e){var t;return this[0]&&(h(e)&&(e=e.call(this[0])),t=E(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return h(e)?this.each(function(t){E(this).wrapInner(e.call(this,t))}):this.each(function(){var t=E(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=h(e);return this.each(function(n){E(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(e){return!E.expr.pseudos.visible(e)},E.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Ht={0:200,1223:204},Jt=E.ajaxSettings.xhr();f.cors=!!Jt&&"withCredentials"in Jt,f.ajax=Jt=!!Jt,E.ajaxTransport(function(t){var n,r;if(f.cors||Jt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];for(a in t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Ht[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(c){if(n)throw c}},abort:function(){n&&n()}}}),E.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return E.globalEval(e),e}}}),E.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),E.ajaxTransport("script",function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(r,i){t=E("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),g.head.appendChild(t[0])},abort:function(){n&&n()}}});var Gt,Wt=[],Vt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Wt.pop()||E.expando+"_"+Et.guid++;return this[e]=!0,e}}),E.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(Vt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=h(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Vt,"$1"+i):!1!==t.jsonp&&(t.url+=(wt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||E.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?E(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Wt.push(i)),a&&h(o)&&o(a[0]),a=o=void 0}),"script"}),f.createHTMLDocument=((Gt=g.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Gt.childNodes.length),E.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(f.createHTMLDocument?((r=(t=g.implementation.createHTMLDocument("")).createElement("base")).href=g.location.href,t.head.appendChild(r)):t=g),o=!n&&[],(i=D.exec(e))?[t.createElement(i[1])]:(i=_e([e],t,o),o&&o.length&&E(o).remove(),E.merge([],i.childNodes)));var r,i,o},E.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=ht(e.slice(s)),e=e.slice(0,s)),h(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&E.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?E("<div>").append(E.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},E.expr.pseudos.animated=function(e){return E.grep(E.timers,function(t){return e===t.elem}).length},E.offset={setOffset:function(e,t,n){var r,i,o,a,s,c,l=E.css(e,"position"),u=E(e),d={};"static"===l&&(e.style.position="relative"),s=u.offset(),o=E.css(e,"top"),c=E.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+c).indexOf("auto")>-1?(a=(r=u.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(c)||0),h(t)&&(t=t.call(e,n,E.extend({},s))),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},E.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){E.offset.setOffset(this,e,t)});var t,n,r=this[0];return r?r.getClientRects().length?{top:(t=r.getBoundingClientRect()).top+(n=r.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===E.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===E.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=E(e).offset()).top+=E.css(e,"borderTopWidth",!0),i.left+=E.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-E.css(r,"marginTop",!0),left:t.left-i.left-E.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===E.css(e,"position");)e=e.offsetParent;return e||re})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;E.fn[e]=function(r){return J(this,function(e,r,i){var o;if(m(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),E.each(["top","left"],function(e,t){E.cssHooks[t]=Je(f.pixelPosition,function(e,n){if(n)return n=He(e,t),je.test(n)?E(e).position()[t]+"px":n})}),E.each({Height:"height",Width:"width"},function(e,t){E.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){E.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(!0===i||!0===o?"margin":"border");return J(this,function(t,n,i){var o;return m(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?E.css(t,n,s):E.style(t,n,i,s)},t,a?i:void 0,a)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){E.fn[t]=function(e){return this.on(t,e)}}),E.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){E.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var zt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;E.proxy=function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),h(e))return r=i.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||E.guid++,o},E.holdReady=function(e){e?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=R,E.isFunction=h,E.isWindow=m,E.camelCase=z,E.type=b,E.now=Date.now,E.isNumeric=function(e){var t=E.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},E.trim=function(e){return null==e?"":(e+"").replace(zt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return E});var qt=e.jQuery,Kt=e.$;return E.noConflict=function(t){return e.$===E&&(e.$=Kt),t&&e.jQuery===E&&(e.jQuery=qt),E},void 0===t&&(e.jQuery=e.$=E),E}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(t){return e(t,window,document)}):"object"==typeof exports?module.exports=function(t,n){return t||(t=window),n||(n="undefined"!=typeof window?require("jquery"):require("jquery")(t)),e(n,t,t.document)}:window.DataTable=e(jQuery,window,document)}(function(e,t,n,r){"use strict";var i,o,a,s,c=function(t,n){if(this instanceof c)return e(t).DataTable(n);n=t,this.$=function(e,t){return this.api(!0).$(e,t)},this._=function(e,t){return this.api(!0).rows(e,t).data()},this.api=function(e){return new o(e?ct(this[i.iApiIndex]):this)},this.fnAddData=function(t,n){var i=this.api(!0),o=Array.isArray(t)&&(Array.isArray(t[0])||e.isPlainObject(t[0]))?i.rows.add(t):i.row.add(t);return(n===r||n)&&i.draw(),o.flatten().toArray()},this.fnAdjustColumnSizing=function(e){var t=this.api(!0).columns.adjust(),n=t.settings()[0],i=n.oScroll;e===r||e?t.draw(!1):""===i.sX&&""===i.sY||Ge(n)},this.fnClearTable=function(e){var t=this.api(!0).clear();(e===r||e)&&t.draw()},this.fnClose=function(e){this.api(!0).row(e).child.hide()},this.fnDeleteRow=function(e,t,n){var i=this.api(!0),o=i.rows(e),a=o.settings()[0],s=a.aoData[o[0][0]];return o.remove(),t&&t.call(this,a,s),(n===r||n)&&i.draw(),s},this.fnDestroy=function(e){this.api(!0).destroy(e)},this.fnDraw=function(e){this.api(!0).draw(e)},this.fnFilter=function(e,t,n,i,o,a){var s=this.api(!0);null===t||t===r?s.search(e,n,i,a):s.column(t).search(e,n,i,a),s.draw()},this.fnGetData=function(e,t){var n=this.api(!0);if(e!==r){var i=e.nodeName?e.nodeName.toLowerCase():"";return t!==r||"td"==i||"th"==i?n.cell(e,t).data():n.row(e).data()||null}return n.data().toArray()},this.fnGetNodes=function(e){var t=this.api(!0);return e!==r?t.row(e).node():t.rows().nodes().flatten().toArray()},this.fnGetPosition=function(e){var t=this.api(!0),n=e.nodeName.toUpperCase();if("TR"==n)return t.row(e).index();if("TD"==n||"TH"==n){var r=t.cell(e).index();return[r.row,r.columnVisible,r.column]}return null},this.fnIsOpen=function(e){return this.api(!0).row(e).child.isShown()},this.fnOpen=function(e,t,n){return this.api(!0).row(e).child(t,n).show().child()[0]},this.fnPageChange=function(e,t){var n=this.api(!0).page(e);(t===r||t)&&n.draw(!1)},this.fnSetColumnVis=function(e,t,n){var i=this.api(!0).column(e).visible(t);(n===r||n)&&i.columns.adjust().draw()},this.fnSettings=function(){return ct(this[i.iApiIndex])},this.fnSort=function(e){this.api(!0).order(e).draw()},this.fnSortListener=function(e,t,n){this.api(!0).order.listener(e,t,n)},this.fnUpdate=function(e,t,n,i,o){var a=this.api(!0);return n===r||null===n?a.row(t).data(e):a.cell(t,n).data(e),(o===r||o)&&a.columns.adjust(),(i===r||i)&&a.draw(),0},this.fnVersionCheck=i.fnVersionCheck;var a=this,s=n===r,l=this.length;for(var u in s&&(n={}),this.oApi=this.internal=i.internal,c.ext.internal)u&&(this[u]=jt(u));return this.each(function(){var t,i=l>1?dt({},n,!0):n,o=0,u=this.getAttribute("id"),d=!1,p=c.defaults,f=e(this);if("table"==this.nodeName.toLowerCase()){O(p),N(p.column),x(p,p,!0),x(p.column,p.column,!0),x(p,e.extend(i,f.data()),!0);var h=c.settings;for(o=0,t=h.length;o<t;o++){var m=h[o];if(m.nTable==this||m.nTHead&&m.nTHead.parentNode==this||m.nTFoot&&m.nTFoot.parentNode==this){if(s||(i.bRetrieve!==r?i.bRetrieve:p.bRetrieve))return m.oInstance;if(i.bDestroy!==r?i.bDestroy:p.bDestroy){m.oInstance.fnDestroy();break}return void lt(m,0,"Cannot reinitialise DataTable",3)}if(m.sTableId==this.id){h.splice(o,1);break}}null!==u&&""!==u||(u="DataTables_Table_"+c.ext._unique++,this.id=u);var g=e.extend(!0,{},c.models.oSettings,{sDestroyWidth:f[0].style.width,sInstance:u,sTableId:u});g.nTable=this,g.oApi=a.internal,g.oInit=i,h.push(g),g.oInstance=1===a.length?a:f.dataTable(),O(i),k(i.oLanguage),i.aLengthMenu&&!i.iDisplayLength&&(i.iDisplayLength=Array.isArray(i.aLengthMenu[0])?i.aLengthMenu[0][0]:i.aLengthMenu[0]),i=dt(e.extend(!0,{},p),i),ut(g.oFeatures,i,["bPaginate","bLengthChange","bFilter","bSort","bSortMulti","bInfo","bProcessing","bAutoWidth","bSortClasses","bServerSide","bDeferRender"]),ut(g,i,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),ut(g.oScroll,i,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),ut(g.oLanguage,i,"fnInfoCallback"),ft(g,"aoDrawCallback",i.fnDrawCallback,"user"),ft(g,"aoServerParams",i.fnServerParams,"user"),ft(g,"aoStateSaveParams",i.fnStateSaveParams,"user"),ft(g,"aoStateLoadParams",i.fnStateLoadParams,"user"),ft(g,"aoStateLoaded",i.fnStateLoaded,"user"),ft(g,"aoRowCallback",i.fnRowCallback,"user"),ft(g,"aoRowCreatedCallback",i.fnCreatedRow,"user"),ft(g,"aoHeaderCallback",i.fnHeaderCallback,"user"),ft(g,"aoFooterCallback",i.fnFooterCallback,"user"),ft(g,"aoInitComplete",i.fnInitComplete,"user"),ft(g,"aoPreDrawCallback",i.fnPreDrawCallback,"user"),g.rowIdFn=Z(i.rowId),L(g);var v=g.oClasses;if(e.extend(v,c.ext.classes,i.oClasses),f.addClass(v.sTable),g.iInitDisplayStart===r&&(g.iInitDisplayStart=i.iDisplayStart,g._iDisplayStart=i.iDisplayStart),null!==i.iDeferLoading){g.bDeferLoading=!0;var y=Array.isArray(i.iDeferLoading);g._iRecordsDisplay=y?i.iDeferLoading[0]:i.iDeferLoading,g._iRecordsTotal=y?i.iDeferLoading[1]:i.iDeferLoading}var b=g.oLanguage;e.extend(!0,b,i.oLanguage),b.sUrl?(e.ajax({dataType:"json",url:b.sUrl,success:function(t){x(p.oLanguage,t),k(t),e.extend(!0,b,t),ht(g,null,"i18n",[g]),Le(g)},error:function(){Le(g)}}),d=!0):ht(g,null,"i18n",[g]),null===i.asStripeClasses&&(g.asStripeClasses=[v.sStripeOdd,v.sStripeEven]);var _=g.asStripeClasses,E=f.children("tbody").find("tr").eq(0);-1!==e.inArray(!0,e.map(_,function(e,t){return E.hasClass(e)}))&&(e("tbody tr",this).removeClass(_.join(" ")),g.asDestroyStripes=_.slice());var w,S=[],T=this.getElementsByTagName("thead");if(0!==T.length&&(pe(g.aoHeader,T[0]),S=fe(g)),null===i.aoColumns)for(w=[],o=0,t=S.length;o<t;o++)w.push(null);else w=i.aoColumns;for(o=0,t=w.length;o<t;o++)M(g,S?S[o]:null);if(W(g,i.aoColumnDefs,w,function(e,t){j(g,e,t)}),E.length){var C=function(e,t){return null!==e.getAttribute("data-"+t)?t:null};e(E[0]).children("th, td").each(function(e,t){var n=g.aoColumns[e];if(n.mData===e){var i=C(t,"sort")||C(t,"order"),o=C(t,"filter")||C(t,"search");null===i&&null===o||(n.mData={_:e+".display",sort:null!==i?e+".@data-"+i:r,type:null!==i?e+".@data-"+i:r,filter:null!==o?e+".@data-"+o:r},j(g,e))}})}var A=g.oFeatures,R=function(){if(i.aaSorting===r){var n=g.aaSorting;for(o=0,t=n.length;o<t;o++)n[o][1]=g.aoColumns[o].asSorting[0]}rt(g),A.bSort&&ft(g,"aoDrawCallback",function(){if(g.bSorted){var t=Ze(g),n={};e.each(t,function(e,t){n[t.src]=t.dir}),ht(g,null,"order",[g,t,n]),et(g)}}),ft(g,"aoDrawCallback",function(){(g.bSorted||"ssp"===vt(g)||A.bDeferRender)&&rt(g)},"sc");var a=f.children("caption").each(function(){this._captionSide=e(this).css("caption-side")}),s=f.children("thead");0===s.length&&(s=e("<thead/>").appendTo(f)),g.nTHead=s[0];var c=f.children("tbody");0===c.length&&(c=e("<tbody/>").insertAfter(s)),g.nTBody=c[0];var l=f.children("tfoot");if(0===l.length&&a.length>0&&(""!==g.oScroll.sX||""!==g.oScroll.sY)&&(l=e("<tfoot/>").appendTo(f)),0===l.length||0===l.children().length?f.addClass(v.sNoFooter):l.length>0&&(g.nTFoot=l[0],pe(g.aoFooter,g.nTFoot)),i.aaData)for(o=0;o<i.aaData.length;o++)V(g,i.aaData[o]);else(g.bDeferLoading||"dom"==vt(g))&&z(g,e(g.nTBody).children("tr"));g.aiDisplay=g.aiDisplayMaster.slice(),g.bInitialised=!0,!1===d&&Le(g)};ft(g,"aoDrawCallback",ot,"state_save"),i.bStateSave?(A.bStateSave=!0,at(g,0,R)):R()}else lt(null,0,"Non-table node initialisation ("+this.nodeName+")",2)}),a=null,this},l={},u=/[\r\n\u2028]/g,d=/<.*?>/g,p=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,f=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^","-"].join("|\\")+")","g"),h=/['\u00A0,$Â£â¬Â¥%\u2009\u202F\u20BD\u20a9\u20BArfkÉÎ]/gi,m=function(e){return!e||!0===e||"-"===e},g=function(e){var t=parseInt(e,10);return!isNaN(t)&&isFinite(e)?t:null},v=function(e,t){return l[t]||(l[t]=new RegExp(Ce(t),"g")),"string"==typeof e&&"."!==t?e.replace(/\./g,"").replace(l[t],"."):e},y=function(e,t,n){var r="string"==typeof e;return!!m(e)||(t&&r&&(e=v(e,t)),n&&r&&(e=e.replace(h,"")),!isNaN(parseFloat(e))&&isFinite(e))},b=function(e,t,n){return!!m(e)||function(e){return m(e)||"string"==typeof e}(e)&&!!y(T(e),t,n)||null},_=function(e,t,n){var i=[],o=0,a=e.length;if(n!==r)for(;o<a;o++)e[o]&&e[o][t]&&i.push(e[o][t][n]);else for(;o<a;o++)e[o]&&i.push(e[o][t]);return i},E=function(e,t,n,i){var o=[],a=0,s=t.length;if(i!==r)for(;a<s;a++)e[t[a]][n]&&o.push(e[t[a]][n][i]);else for(;a<s;a++)o.push(e[t[a]][n]);return o},w=function(e,t){var n,i=[];t===r?(t=0,n=e):(n=t,t=e);for(var o=t;o<n;o++)i.push(o);return i},S=function(e){for(var t=[],n=0,r=e.length;n<r;n++)e[n]&&t.push(e[n]);return t},T=function(e){return e.replace(d,"")},C=function(e){if(function(e){if(e.length<2)return!0;for(var t=e.slice().sort(),n=t[0],r=1,i=t.length;r<i;r++){if(t[r]===n)return!1;n=t[r]}return!0}(e))return e.slice();var t,n,r,i=[],o=e.length,a=0;e:for(n=0;n<o;n++){for(t=e[n],r=0;r<a;r++)if(i[r]===t)continue e;i.push(t),a++}return i},A=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)A(e,t[n]);else e.push(t);return e},R=function(e,t){return t===r&&(t=0),-1!==this.indexOf(e,t)};function D(t){var n,r,i={};e.each(t,function(e,o){(n=e.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(n[1]+" ")&&(r=e.replace(n[0],n[2].toLowerCase()),i[r]=e,"o"===n[1]&&D(t[e]))}),t._hungarianMap=i}function x(t,n,i){var o;t._hungarianMap||D(t),e.each(n,function(a,s){(o=t._hungarianMap[a])===r||!i&&n[o]!==r||("o"===o.charAt(0)?(n[o]||(n[o]={}),e.extend(!0,n[o],n[a]),x(t[o],n[o],i)):n[o]=n[a])})}function k(e){var t=c.defaults.oLanguage,n=t.sDecimal;if(n&&Pt(n),e){var r=e.sZeroRecords;!e.sEmptyTable&&r&&"No data available in table"===t.sEmptyTable&&ut(e,e,"sZeroRecords","sEmptyTable"),!e.sLoadingRecords&&r&&"Loading..."===t.sLoadingRecords&&ut(e,e,"sZeroRecords","sLoadingRecords"),e.sInfoThousands&&(e.sThousands=e.sInfoThousands);var i=e.sDecimal;i&&n!==i&&Pt(i)}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)}),Array.prototype.includes||(Array.prototype.includes=R),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),String.prototype.includes||(String.prototype.includes=R),c.util={throttle:function(e,t){var n,i,o=t!==r?t:200;return function(){var t=this,a=+new Date,s=arguments;n&&a<n+o?(clearTimeout(i),i=setTimeout(function(){n=r,e.apply(t,s)},o)):(n=a,e.apply(t,s))}},escapeRegex:function(e){return e.replace(f,"\\$1")},set:function(t){if(e.isPlainObject(t))return c.util.set(t._);if(null===t)return function(){};if("function"==typeof t)return function(e,n,r){t(e,"set",n,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){e[t]=n};var n=function(e,t,i){for(var o,a,s,c,l,u=Y(i),d=u[u.length-1],p=0,f=u.length-1;p<f;p++){if("__proto__"===u[p]||"constructor"===u[p])throw new Error("Cannot set prototype values");if(a=u[p].match($),s=u[p].match(X),a){if(u[p]=u[p].replace($,""),e[u[p]]=[],(o=u.slice()).splice(0,p+1),l=o.join("."),Array.isArray(t))for(var h=0,m=t.length;h<m;h++)n(c={},t[h],l),e[u[p]].push(c);else e[u[p]]=t;return}s&&(u[p]=u[p].replace(X,""),e=e[u[p]](t)),null!==e[u[p]]&&e[u[p]]!==r||(e[u[p]]={}),e=e[u[p]]}d.match(X)?e=e[d.replace(X,"")](t):e[d.replace($,"")]=t};return function(e,r){return n(e,r,t)}},get:function(t){if(e.isPlainObject(t)){var n={};return e.each(t,function(e,t){t&&(n[e]=c.util.get(t))}),function(e,t,i,o){var a=n[t]||n._;return a!==r?a(e,t,i,o):e}}if(null===t)return function(e){return e};if("function"==typeof t)return function(e,n,r,i){return t(e,n,r,i)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(e,n){return e[t]};var i=function(e,t,n){var o,a,s,c;if(""!==n)for(var l=Y(n),u=0,d=l.length;u<d;u++){if(o=l[u].match($),a=l[u].match(X),o){if(l[u]=l[u].replace($,""),""!==l[u]&&(e=e[l[u]]),s=[],l.splice(0,u+1),c=l.join("."),Array.isArray(e))for(var p=0,f=e.length;p<f;p++)s.push(i(e[p],t,c));var h=o[0].substring(1,o[0].length-1);e=""===h?s:s.join(h);break}if(a)l[u]=l[u].replace(X,""),e=e[l[u]]();else{if(null===e||e[l[u]]===r)return r;e=e[l[u]]}}return e};return function(e,n){return i(e,n,t)}}};var I=function(e,t,n){e[t]!==r&&(e[n]=e[t])};function O(e){I(e,"ordering","bSort"),I(e,"orderMulti","bSortMulti"),I(e,"orderClasses","bSortClasses"),I(e,"orderCellsTop","bSortCellsTop"),I(e,"order","aaSorting"),I(e,"orderFixed","aaSortingFixed"),I(e,"paging","bPaginate"),I(e,"pagingType","sPaginationType"),I(e,"pageLength","iDisplayLength"),I(e,"searching","bFilter"),"boolean"==typeof e.sScrollX&&(e.sScrollX=e.sScrollX?"100%":""),"boolean"==typeof e.scrollX&&(e.scrollX=e.scrollX?"100%":"");var t=e.aoSearchCols;if(t)for(var n=0,r=t.length;n<r;n++)t[n]&&x(c.models.oSearch,t[n])}function N(e){I(e,"orderable","bSortable"),I(e,"orderData","aDataSort"),I(e,"orderSequence","asSorting"),I(e,"orderDataType","sortDataType");var t=e.aDataSort;"number"!=typeof t||Array.isArray(t)||(e.aDataSort=[t])}function L(n){if(!c.__browser){var r={};c.__browser=r;var i=e("<div/>").css({position:"fixed",top:0,left:-1*e(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(e("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(e("<div/>").css({width:"100%",height:10}))).appendTo("body"),o=i.children(),a=o.children();r.barWidth=o[0].offsetWidth-o[0].clientWidth,r.bScrollOversize=100===a[0].offsetWidth&&100!==o[0].clientWidth,r.bScrollbarLeft=1!==Math.round(a.offset().left),r.bBounding=!!i[0].getBoundingClientRect().width,i.remove()}e.extend(n.oBrowser,c.__browser),n.oScroll.iBarWidth=c.__browser.barWidth}function P(e,t,n,i,o,a){var s,c=i,l=!1;for(n!==r&&(s=n,l=!0);c!==o;)e.hasOwnProperty(c)&&(s=l?t(s,e[c],c,e):e[c],l=!0,c+=a);return s}function M(t,r){var i=c.defaults.column,o=t.aoColumns.length,a=e.extend({},c.models.oColumn,i,{nTh:r||n.createElement("th"),sTitle:i.sTitle?i.sTitle:r?r.innerHTML:"",aDataSort:i.aDataSort?i.aDataSort:[o],mData:i.mData?i.mData:o,idx:o});t.aoColumns.push(a);var s=t.aoPreSearchCols;s[o]=e.extend({},c.models.oSearch,s[o]),j(t,o,e(r).data())}function j(t,n,i){var o=t.aoColumns[n],a=t.oClasses,s=e(o.nTh);if(!o.sWidthOrig){o.sWidthOrig=s.attr("width")||null;var l=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/);l&&(o.sWidthOrig=l[1])}i!==r&&null!==i&&(N(i),x(c.defaults.column,i,!0),i.mDataProp===r||i.mData||(i.mData=i.mDataProp),i.sType&&(o._sManualType=i.sType),i.className&&!i.sClass&&(i.sClass=i.className),i.sClass&&s.addClass(i.sClass),e.extend(o,i),ut(o,i,"sWidth","sWidthOrig"),i.iDataSort!==r&&(o.aDataSort=[i.iDataSort]),ut(o,i,"aDataSort"));var u=o.mData,d=Z(u),p=o.mRender?Z(o.mRender):null,f=function(e){return"string"==typeof e&&-1!==e.indexOf("@")};o._bAttrSrc=e.isPlainObject(u)&&(f(u.sort)||f(u.type)||f(u.filter)),o._setter=null,o.fnGetData=function(e,t,n){var i=d(e,t,r,n);return p&&t?p(i,t,e,n):i},o.fnSetData=function(e,t,n){return Q(u)(e,t,n)},"number"!=typeof u&&(t._rowReadObject=!0),t.oFeatures.bSort||(o.bSortable=!1,s.addClass(a.sSortableNone));var h=-1!==e.inArray("asc",o.asSorting),m=-1!==e.inArray("desc",o.asSorting);o.bSortable&&(h||m)?h&&!m?(o.sSortingClass=a.sSortableAsc,o.sSortingClassJUI=a.sSortJUIAscAllowed):!h&&m?(o.sSortingClass=a.sSortableDesc,o.sSortingClassJUI=a.sSortJUIDescAllowed):(o.sSortingClass=a.sSortable,o.sSortingClassJUI=a.sSortJUI):(o.sSortingClass=a.sSortableNone,o.sSortingClassJUI="")}function F(e){if(!1!==e.oFeatures.bAutoWidth){var t=e.aoColumns;ze(e);for(var n=0,r=t.length;n<r;n++)t[n].nTh.style.width=t[n].sWidth}var i=e.oScroll;""===i.sY&&""===i.sX||Ge(e),ht(e,null,"column-sizing",[e])}function U(e,t){var n=J(e,"bVisible");return"number"==typeof n[t]?n[t]:null}function B(t,n){var r=J(t,"bVisible"),i=e.inArray(n,r);return-1!==i?i:null}function H(t){var n=0;return e.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==e(r.nTh).css("display")&&n++}),n}function J(t,n){var r=[];return e.map(t.aoColumns,function(e,t){e[n]&&r.push(t)}),r}function G(e){var t,n,i,o,a,s,l,u,d,p=e.aoColumns,f=e.aoData,h=c.ext.type.detect;for(t=0,n=p.length;t<n;t++)if(d=[],!(l=p[t]).sType&&l._sManualType)l.sType=l._sManualType;else if(!l.sType){for(i=0,o=h.length;i<o;i++){for(a=0,s=f.length;a<s&&(d[a]===r&&(d[a]=q(e,a,t,"type")),(u=h[i](d[a],e))||i===h.length-1)&&("html"!==u||m(d[a]));a++);if(u){l.sType=u;break}}l.sType||(l.sType="string")}}function W(t,n,i,o){var a,s,c,l,u,d,p,f=t.aoColumns;if(n)for(a=n.length-1;a>=0;a--){var h=(p=n[a]).targets!==r?p.targets:p.aTargets;for(Array.isArray(h)||(h=[h]),c=0,l=h.length;c<l;c++)if("number"==typeof h[c]&&h[c]>=0){for(;f.length<=h[c];)M(t);o(h[c],p)}else if("number"==typeof h[c]&&h[c]<0)o(f.length+h[c],p);else if("string"==typeof h[c])for(u=0,d=f.length;u<d;u++)("_all"==h[c]||e(f[u].nTh).hasClass(h[c]))&&o(u,p)}if(i)for(a=0,s=i.length;a<s;a++)o(a,i[a])}function V(t,n,i,o){var a=t.aoData.length,s=e.extend(!0,{},c.models.oRow,{src:i?"dom":"data",idx:a});s._aData=n,t.aoData.push(s);for(var l=t.aoColumns,u=0,d=l.length;u<d;u++)l[u].sType=null;t.aiDisplayMaster.push(a);var p=t.rowIdFn(n);return p!==r&&(t.aIds[p]=s),!i&&t.oFeatures.bDeferRender||oe(t,a,i,o),a}function z(t,n){var r;return n instanceof e||(n=e(n)),n.map(function(e,n){return r=ie(t,n),V(t,r.data,n,r.cells)})}function q(e,t,n,i){"search"===i?i="filter":"order"===i&&(i="sort");var o=e.iDraw,a=e.aoColumns[n],s=e.aoData[t]._aData,l=a.sDefaultContent,u=a.fnGetData(s,i,{settings:e,row:t,col:n});if(u===r)return e.iDrawError!=o&&null===l&&(lt(e,0,"Requested unknown parameter "+("function"==typeof a.mData?"{function}":"'"+a.mData+"'")+" for row "+t+", column "+n,4),e.iDrawError=o),l;if(u!==s&&null!==u||null===l||i===r){if("function"==typeof u)return u.call(s)}else u=l;if(null===u&&"display"===i)return"";if("filter"===i){var d=c.ext.type.search;d[a.sType]&&(u=d[a.sType](u))}return u}function K(e,t,n,r){e.aoColumns[n].fnSetData(e.aoData[t]._aData,r,{settings:e,row:t,col:n})}var $=/\[.*?\]$/,X=/\(\)$/;function Y(t){return e.map(t.match(/(\\.|[^\.])+/g)||[""],function(e){return e.replace(/\\\./g,".")})}var Z=c.util.get,Q=c.util.set;function ee(e){return _(e.aoData,"_aData")}function te(e){e.aoData.length=0,e.aiDisplayMaster.length=0,e.aiDisplay.length=0,e.aIds={}}function ne(e,t,n){for(var i=-1,o=0,a=e.length;o<a;o++)e[o]==t?i=o:e[o]>t&&e[o]--;-1!=i&&n===r&&e.splice(i,1)}function re(e,t,n,i){var o,a,s=e.aoData[t],c=function(n,r){for(;n.childNodes.length;)n.removeChild(n.firstChild);n.innerHTML=q(e,t,r,"display")};if("dom"!==n&&(n&&"auto"!==n||"dom"!==s.src)){var l=s.anCells;if(l)if(i!==r)c(l[i],i);else for(o=0,a=l.length;o<a;o++)c(l[o],o)}else s._aData=ie(e,s,i,i===r?r:s._aData).data;s._aSortData=null,s._aFilterData=null;var u=e.aoColumns;if(i!==r)u[i].sType=null;else{for(o=0,a=u.length;o<a;o++)u[o].sType=null;ae(e,s)}}function ie(e,t,n,i){var o,a,s,c=[],l=t.firstChild,u=0,d=e.aoColumns,p=e._rowReadObject;i=i!==r?i:p?{}:[];var f=function(e,t){if("string"==typeof e){var n=e.indexOf("@");if(-1!==n){var r=e.substring(n+1);Q(e)(i,t.getAttribute(r))}}},h=function(e){n!==r&&n!==u||(a=d[u],s=e.innerHTML.trim(),a&&a._bAttrSrc?(Q(a.mData._)(i,s),f(a.mData.sort,e),f(a.mData.type,e),f(a.mData.filter,e)):p?(a._setter||(a._setter=Q(a.mData)),a._setter(i,s)):i[u]=s),u++};if(l)for(;l;)"TD"!=(o=l.nodeName.toUpperCase())&&"TH"!=o||(h(l),c.push(l)),l=l.nextSibling;else for(var m=0,g=(c=t.anCells).length;m<g;m++)h(c[m]);var v=t.firstChild?t:t.nTr;if(v){var y=v.getAttribute("id");y&&Q(e.rowId)(i,y)}return{data:i,cells:c}}function oe(t,r,i,o){var a,s,c,l,u,d,p=t.aoData[r],f=p._aData,h=[];if(null===p.nTr){for(a=i||n.createElement("tr"),p.nTr=a,p.anCells=h,a._DT_RowIndex=r,ae(t,p),l=0,u=t.aoColumns.length;l<u;l++)c=t.aoColumns[l],(s=(d=!i)?n.createElement(c.sCellType):o[l])._DT_CellIndex={row:r,column:l},h.push(s),!d&&(!c.mRender&&c.mData===l||e.isPlainObject(c.mData)&&c.mData._===l+".display")||(s.innerHTML=q(t,r,l,"display")),c.sClass&&(s.className+=" "+c.sClass),c.bVisible&&!i?a.appendChild(s):!c.bVisible&&i&&s.parentNode.removeChild(s),c.fnCreatedCell&&c.fnCreatedCell.call(t.oInstance,s,q(t,r,l),f,r,l);ht(t,"aoRowCreatedCallback",null,[a,f,r,h])}}function ae(t,n){var r=n.nTr,i=n._aData;if(r){var o=t.rowIdFn(i);if(o&&(r.id=o),i.DT_RowClass){var a=i.DT_RowClass.split(" ");n.__rowc=n.__rowc?C(n.__rowc.concat(a)):a,e(r).removeClass(n.__rowc.join(" ")).addClass(i.DT_RowClass)}i.DT_RowAttr&&e(r).attr(i.DT_RowAttr),i.DT_RowData&&e(r).data(i.DT_RowData)}}function se(t){var n,r,i,o,a,s=t.nTHead,c=t.nTFoot,l=0===e("th, td",s).length,u=t.oClasses,d=t.aoColumns;for(l&&(o=e("<tr/>").appendTo(s)),n=0,r=d.length;n<r;n++)i=e((a=d[n]).nTh).addClass(a.sClass),l&&i.appendTo(o),t.oFeatures.bSort&&(i.addClass(a.sSortingClass),!1!==a.bSortable&&(i.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),nt(t,a.nTh,n))),a.sTitle!=i[0].innerHTML&&i.html(a.sTitle),gt(t,"header")(t,i,a,u);if(l&&pe(t.aoHeader,s),e(s).children("tr").children("th, td").addClass(u.sHeaderTH),e(c).children("tr").children("th, td").addClass(u.sFooterTH),null!==c){var p=t.aoFooter[0];for(n=0,r=p.length;n<r;n++)(a=d[n]).nTf=p[n].cell,a.sClass&&e(a.nTf).addClass(a.sClass)}}function ce(t,n,i){var o,a,s,c,l,u,d,p,f,h=[],m=[],g=t.aoColumns.length;if(n){for(i===r&&(i=!1),o=0,a=n.length;o<a;o++){for(h[o]=n[o].slice(),h[o].nTr=n[o].nTr,s=g-1;s>=0;s--)t.aoColumns[s].bVisible||i||h[o].splice(s,1);m.push([])}for(o=0,a=h.length;o<a;o++){if(d=h[o].nTr)for(;u=d.firstChild;)d.removeChild(u);for(s=0,c=h[o].length;s<c;s++)if(p=1,f=1,m[o][s]===r){for(d.appendChild(h[o][s].cell),m[o][s]=1;h[o+p]!==r&&h[o][s].cell==h[o+p][s].cell;)m[o+p][s]=1,p++;for(;h[o][s+f]!==r&&h[o][s].cell==h[o][s+f].cell;){for(l=0;l<p;l++)m[o+l][s+f]=1;f++}e(h[o][s].cell).attr("rowspan",p).attr("colspan",f)}}}}function le(t,n){var i=ht(t,"aoPreDrawCallback","preDraw",[t]);if(-1===e.inArray(!1,i)){var o=[],a=0,s=t.asStripeClasses,c=s.length,l=t.oLanguage,u=t.iInitDisplayStart,d="ssp"==vt(t),p=t.aiDisplay;t.bDrawing=!0,u!==r&&-1!==u&&(t._iDisplayStart=d?u:u>=t.fnRecordsDisplay()?0:u,t.iInitDisplayStart=-1);var f=t._iDisplayStart,h=t.fnDisplayEnd();if(t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,He(t,!1);else if(d){if(!t.bDestroying&&!n)return void me(t)}else t.iDraw++;if(0!==p.length)for(var m=d?t.aoData.length:h,g=d?0:f;g<m;g++){var v=p[g],y=t.aoData[v];null===y.nTr&&oe(t,v);var b=y.nTr;if(0!==c){var _=s[a%c];y._sRowStripe!=_&&(e(b).removeClass(y._sRowStripe).addClass(_),y._sRowStripe=_)}ht(t,"aoRowCallback",null,[b,y._aData,a,g,v]),o.push(b),a++}else{var E=l.sZeroRecords;1==t.iDraw&&"ajax"==vt(t)?E=l.sLoadingRecords:l.sEmptyTable&&0===t.fnRecordsTotal()&&(E=l.sEmptyTable),o[0]=e("<tr/>",{class:c?s[0]:""}).append(e("<td />",{valign:"top",colSpan:H(t),class:t.oClasses.sRowEmpty}).html(E))[0]}ht(t,"aoHeaderCallback","header",[e(t.nTHead).children("tr")[0],ee(t),f,h,p]),ht(t,"aoFooterCallback","footer",[e(t.nTFoot).children("tr")[0],ee(t),f,h,p]);var w=e(t.nTBody);w.children().detach(),w.append(e(o)),ht(t,"aoDrawCallback","draw",[t]),t.bSorted=!1,t.bFiltered=!1,t.bDrawing=!1}else He(t,!1)}function ue(e,t){var n=e.oFeatures,r=n.bFilter;n.bSort&&Qe(e),r?_e(e,e.oPreviousSearch):e.aiDisplay=e.aiDisplayMaster.slice(),!0!==t&&(e._iDisplayStart=0),e._drawHold=t,le(e),e._drawHold=!1}function de(t){var n=t.oClasses,r=e(t.nTable),i=e("<div/>").insertBefore(r),o=t.oFeatures,a=e("<div/>",{id:t.sTableId+"_wrapper",class:n.sWrapper+(t.nTFoot?"":" "+n.sNoFooter)});t.nHolding=i[0],t.nTableWrapper=a[0],t.nTableReinsertBefore=t.nTable.nextSibling;for(var s,l,u,d,p,f,h=t.sDom.split(""),m=0;m<h.length;m++){if(s=null,"<"==(l=h[m])){if(u=e("<div/>")[0],"'"==(d=h[m+1])||'"'==d){for(p="",f=2;h[m+f]!=d;)p+=h[m+f],f++;if("H"==p?p=n.sJUIHeader:"F"==p&&(p=n.sJUIFooter),-1!=p.indexOf(".")){var g=p.split(".");u.id=g[0].substr(1,g[0].length-1),u.className=g[1]}else"#"==p.charAt(0)?u.id=p.substr(1,p.length-1):u.className=p;m+=f}a.append(u),a=e(u)}else if(">"==l)a=a.parent();else if("l"==l&&o.bPaginate&&o.bLengthChange)s=je(t);else if("f"==l&&o.bFilter)s=be(t);else if("r"==l&&o.bProcessing)s=Be(t);else if("t"==l)s=Je(t);else if("i"==l&&o.bInfo)s=Ie(t);else if("p"==l&&o.bPaginate)s=Fe(t);else if(0!==c.ext.feature.length)for(var v=c.ext.feature,y=0,b=v.length;y<b;y++)if(l==v[y].cFeature){s=v[y].fnInit(t);break}if(s){var _=t.aanFeatures;_[l]||(_[l]=[]),_[l].push(s),a.append(s)}}i.replaceWith(a),t.nHolding=null}function pe(t,n){var r,i,o,a,s,c,l,u,d,p,f=e(n).children("tr"),h=function(e,t,n){for(var r=e[t];r[n];)n++;return n};for(t.splice(0,t.length),o=0,c=f.length;o<c;o++)t.push([]);for(o=0,c=f.length;o<c;o++)for(i=(r=f[o]).firstChild;i;){if("TD"==i.nodeName.toUpperCase()||"TH"==i.nodeName.toUpperCase())for(u=(u=1*i.getAttribute("colspan"))&&0!==u&&1!==u?u:1,d=(d=1*i.getAttribute("rowspan"))&&0!==d&&1!==d?d:1,l=h(t,o,0),p=1===u,s=0;s<u;s++)for(a=0;a<d;a++)t[o+a][l+s]={cell:i,unique:p},t[o+a].nTr=r;i=i.nextSibling}}function fe(e,t,n){var r=[];n||(n=e.aoHeader,t&&pe(n=[],t));for(var i=0,o=n.length;i<o;i++)for(var a=0,s=n[i].length;a<s;a++)!n[i][a].unique||r[a]&&e.bSortCellsTop||(r[a]=n[i][a].cell);return r}function he(t,n,r){if(ht(t,"aoServerParams","serverParams",[n]),n&&Array.isArray(n)){var i={},o=/(.*?)\[\]$/;e.each(n,function(e,t){var n=t.name.match(o);if(n){var r=n[0];i[r]||(i[r]=[]),i[r].push(t.value)}else i[t.name]=t.value}),n=i}var a,s=t.ajax,c=t.oInstance,l=function(e){var n=t.jqXhr?t.jqXhr.status:null;(null===e||"number"==typeof n&&204==n)&&ye(t,e={},[]);var i=e.error||e.sError;i&&lt(t,0,i),t.json=e,ht(t,null,"xhr",[t,e,t.jqXHR]),r(e)};if(e.isPlainObject(s)&&s.data){var u="function"==typeof(a=s.data)?a(n,t):a;n="function"==typeof a&&u?u:e.extend(!0,n,u),delete s.data}var d={data:n,success:l,dataType:"json",cache:!1,type:t.sServerMethod,error:function(n,r,i){var o=ht(t,null,"xhr",[t,null,t.jqXHR]);-1===e.inArray(!0,o)&&("parsererror"==r?lt(t,0,"Invalid JSON response",1):4===n.readyState&&lt(t,0,"Ajax error",7)),He(t,!1)}};t.oAjaxData=n,ht(t,null,"preXhr",[t,n]),t.fnServerData?t.fnServerData.call(c,t.sAjaxSource,e.map(n,function(e,t){return{name:t,value:e}}),l,t):t.sAjaxSource||"string"==typeof s?t.jqXHR=e.ajax(e.extend(d,{url:s||t.sAjaxSource})):"function"==typeof s?t.jqXHR=s.call(c,n,l,t):(t.jqXHR=e.ajax(e.extend(d,s)),s.data=a)}function me(e){e.iDraw++,He(e,!0),he(e,ge(e),function(t){ve(e,t)})}function ge(t){var n,r,i,o,a=t.aoColumns,s=a.length,l=t.oFeatures,u=t.oPreviousSearch,d=t.aoPreSearchCols,p=[],f=Ze(t),h=t._iDisplayStart,m=!1!==l.bPaginate?t._iDisplayLength:-1,g=function(e,t){p.push({name:e,value:t})};g("sEcho",t.iDraw),g("iColumns",s),g("sColumns",_(a,"sName").join(",")),g("iDisplayStart",h),g("iDisplayLength",m);var v={draw:t.iDraw,columns:[],order:[],start:h,length:m,search:{value:u.sSearch,regex:u.bRegex}};for(n=0;n<s;n++)v.columns.push({data:r="function"==typeof(i=a[n]).mData?"function":i.mData,name:i.sName,searchable:i.bSearchable,orderable:i.bSortable,search:{value:(o=d[n]).sSearch,regex:o.bRegex}}),g("mDataProp_"+n,r),l.bFilter&&(g("sSearch_"+n,o.sSearch),g("bRegex_"+n,o.bRegex),g("bSearchable_"+n,i.bSearchable)),l.bSort&&g("bSortable_"+n,i.bSortable);l.bFilter&&(g("sSearch",u.sSearch),g("bRegex",u.bRegex)),l.bSort&&(e.each(f,function(e,t){v.order.push({column:t.col,dir:t.dir}),g("iSortCol_"+e,t.col),g("sSortDir_"+e,t.dir)}),g("iSortingCols",f.length));var y=c.ext.legacy.ajax;return null===y?t.sAjaxSource?p:v:y?p:v}function ve(e,t){var n=function(e,n){return t[e]!==r?t[e]:t[n]},i=ye(e,t),o=n("sEcho","draw"),a=n("iTotalRecords","recordsTotal"),s=n("iTotalDisplayRecords","recordsFiltered");if(o!==r){if(1*o<e.iDraw)return;e.iDraw=1*o}i||(i=[]),te(e),e._iRecordsTotal=parseInt(a,10),e._iRecordsDisplay=parseInt(s,10);for(var c=0,l=i.length;c<l;c++)V(e,i[c]);e.aiDisplay=e.aiDisplayMaster.slice(),le(e,!0),e._bInitComplete||Pe(e,t),He(e,!1)}function ye(t,n,i){var o=e.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp;if(!i)return"data"===o?n.aaData||n[o]:""!==o?Z(o)(n):n;Q(o)(n,i)}function be(t){var r=t.oClasses,i=t.sTableId,o=t.oLanguage,a=t.oPreviousSearch,s=t.aanFeatures,c='<input type="search" class="'+r.sFilterInput+'"/>',l=o.sSearch;l=l.match(/_INPUT_/)?l.replace("_INPUT_",c):l+c;var u=e("<div/>",{id:s.f?null:i+"_filter",class:r.sFilter}).append(e("<label/>").append(l)),d=function(e){var n=this.value?this.value:"";a.return&&"Enter"!==e.key||n!=a.sSearch&&(_e(t,{sSearch:n,bRegex:a.bRegex,bSmart:a.bSmart,bCaseInsensitive:a.bCaseInsensitive,return:a.return}),t._iDisplayStart=0,le(t))},p=null!==t.searchDelay?t.searchDelay:"ssp"===vt(t)?400:0,f=e("input",u).val(a.sSearch).attr("placeholder",o.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",p?qe(d,p):d).on("mouseup",function(e){setTimeout(function(){d.call(f[0],e)},10)}).on("keypress.DT",function(e){if(13==e.keyCode)return!1}).attr("aria-controls",i);return e(t.nTable).on("search.dt.DT",function(e,r){if(t===r)try{f[0]!==n.activeElement&&f.val(a.sSearch)}catch(i){}}),u[0]}function _e(e,t,n){var i=e.oPreviousSearch,o=e.aoPreSearchCols,a=function(e){i.sSearch=e.sSearch,i.bRegex=e.bRegex,i.bSmart=e.bSmart,i.bCaseInsensitive=e.bCaseInsensitive,i.return=e.return},s=function(e){return e.bEscapeRegex!==r?!e.bEscapeRegex:e.bRegex};if(G(e),"ssp"!=vt(e)){Se(e,t.sSearch,n,s(t),t.bSmart,t.bCaseInsensitive),a(t);for(var c=0;c<o.length;c++)we(e,o[c].sSearch,c,s(o[c]),o[c].bSmart,o[c].bCaseInsensitive);Ee(e)}else a(t);e.bFiltered=!0,ht(e,null,"search",[e])}function Ee(t){for(var n,r,i=c.ext.search,o=t.aiDisplay,a=0,s=i.length;a<s;a++){for(var l=[],u=0,d=o.length;u<d;u++)i[a](t,(n=t.aoData[r=o[u]])._aFilterData,r,n._aData,u)&&l.push(r);o.length=0,e.merge(o,l)}}function we(e,t,n,r,i,o){if(""!==t){for(var a=[],s=e.aiDisplay,c=Te(t,r,i,o),l=0;l<s.length;l++)c.test(e.aoData[s[l]]._aFilterData[n])&&a.push(s[l]);e.aiDisplay=a}}function Se(e,t,n,r,i,o){var a,s,l,u=Te(t,r,i,o),d=e.oPreviousSearch.sSearch,p=e.aiDisplayMaster,f=[];if(0!==c.ext.search.length&&(n=!0),s=De(e),t.length<=0)e.aiDisplay=p.slice();else{for((s||n||r||d.length>t.length||0!==t.indexOf(d)||e.bSorted)&&(e.aiDisplay=p.slice()),a=e.aiDisplay,l=0;l<a.length;l++)u.test(e.aoData[a[l]]._sFilterRow)&&f.push(a[l]);e.aiDisplay=f}}function Te(t,n,r,i){if(t=n?t:Ce(t),r){var o=e.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(e){if('"'===e.charAt(0)){var t=e.match(/^"(.*)"$/);e=t?t[1]:e}return e.replace('"',"")});t="^(?=.*?"+o.join(")(?=.*?")+").*$"}return new RegExp(t,i?"i":"")}var Ce=c.util.escapeRegex,Ae=e("<div>")[0],Re=Ae.textContent!==r;function De(e){var t,n,r,i,o,a,s,c=e.aoColumns,l=!1;for(t=0,r=e.aoData.length;t<r;t++)if(!(s=e.aoData[t])._aFilterData){for(o=[],n=0,i=c.length;n<i;n++)c[n].bSearchable?(null===(a=q(e,t,n,"filter"))&&(a=""),"string"!=typeof a&&a.toString&&(a=a.toString())):a="",a.indexOf&&-1!==a.indexOf("&")&&(Ae.innerHTML=a,a=Re?Ae.textContent:Ae.innerText),a.replace&&(a=a.replace(/[\r\n\u2028]/g,"")),o.push(a);s._aFilterData=o,s._sFilterRow=o.join("  "),l=!0}return l}function xe(e){return{search:e.sSearch,smart:e.bSmart,regex:e.bRegex,caseInsensitive:e.bCaseInsensitive}}function ke(e){return{sSearch:e.search,bSmart:e.smart,bRegex:e.regex,bCaseInsensitive:e.caseInsensitive}}function Ie(t){var n=t.sTableId,r=t.aanFeatures.i,i=e("<div/>",{class:t.oClasses.sInfo,id:r?null:n+"_info"});return r||(t.aoDrawCallback.push({fn:Oe,sName:"information"}),i.attr("role","status").attr("aria-live","polite"),e(t.nTable).attr("aria-describedby",n+"_info")),i[0]}function Oe(t){var n=t.aanFeatures.i;if(0!==n.length){var r=t.oLanguage,i=t._iDisplayStart+1,o=t.fnDisplayEnd(),a=t.fnRecordsTotal(),s=t.fnRecordsDisplay(),c=s?r.sInfo:r.sInfoEmpty;s!==a&&(c+=" "+r.sInfoFiltered),c=Ne(t,c+=r.sInfoPostFix);var l=r.fnInfoCallback;null!==l&&(c=l.call(t.oInstance,t,i,o,a,s,c)),e(n).html(c)}}function Ne(e,t){var n=e.fnFormatNumber,r=e._iDisplayStart+1,i=e._iDisplayLength,o=e.fnRecordsDisplay(),a=-1===i;return t.replace(/_START_/g,n.call(e,r)).replace(/_END_/g,n.call(e,e.fnDisplayEnd())).replace(/_MAX_/g,n.call(e,e.fnRecordsTotal())).replace(/_TOTAL_/g,n.call(e,o)).replace(/_PAGE_/g,n.call(e,a?1:Math.ceil(r/i))).replace(/_PAGES_/g,n.call(e,a?1:Math.ceil(o/i)))}function Le(e){var t,n,r,i=e.iInitDisplayStart,o=e.aoColumns,a=e.oFeatures,s=e.bDeferLoading;if(e.bInitialised){for(de(e),se(e),ce(e,e.aoHeader),ce(e,e.aoFooter),He(e,!0),a.bAutoWidth&&ze(e),t=0,n=o.length;t<n;t++)(r=o[t]).sWidth&&(r.nTh.style.width=Ye(r.sWidth));ht(e,null,"preInit",[e]),ue(e);var c=vt(e);("ssp"!=c||s)&&("ajax"==c?he(e,[],function(n){var r=ye(e,n);for(t=0;t<r.length;t++)V(e,r[t]);e.iInitDisplayStart=i,ue(e),He(e,!1),Pe(e,n)}):(He(e,!1),Pe(e)))}else setTimeout(function(){Le(e)},200)}function Pe(e,t){e._bInitComplete=!0,(t||e.oInit.aaData)&&F(e),ht(e,null,"plugin-init",[e,t]),ht(e,"aoInitComplete","init",[e,t])}function Me(e,t){var n=parseInt(t,10);e._iDisplayLength=n,mt(e),ht(e,null,"length",[e,n])}function je(t){for(var n=t.oClasses,r=t.sTableId,i=t.aLengthMenu,o=Array.isArray(i[0]),a=o?i[0]:i,s=o?i[1]:i,c=e("<select/>",{name:r+"_length","aria-controls":r,class:n.sLengthSelect}),l=0,u=a.length;l<u;l++)c[0][l]=new Option("number"==typeof s[l]?t.fnFormatNumber(s[l]):s[l],a[l]);var d=e("<div><label/></div>").addClass(n.sLength);return t.aanFeatures.l||(d[0].id=r+"_length"),d.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",c[0].outerHTML)),e("select",d).val(t._iDisplayLength).on("change.DT",function(n){Me(t,e(this).val()),le(t)}),e(t.nTable).on("length.dt.DT",function(n,r,i){t===r&&e("select",d).val(i)}),d[0]}function Fe(t){var n=t.sPaginationType,r=c.ext.pager[n],i="function"==typeof r,o=function(e){le(e)},a=e("<div/>").addClass(t.oClasses.sPaging+n)[0],s=t.aanFeatures;return i||r.fnInit(t,a,o),s.p||(a.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(e){if(i){var t,n,a=e._iDisplayStart,c=e._iDisplayLength,l=e.fnRecordsDisplay(),u=-1===c,d=u?0:Math.ceil(a/c),p=u?1:Math.ceil(l/c),f=r(d,p);for(t=0,n=s.p.length;t<n;t++)gt(e,"pageButton")(e,s.p[t],t,f,d,p)}else r.fnUpdate(e,o)},sName:"pagination"})),a}function Ue(e,t,n){var r=e._iDisplayStart,i=e._iDisplayLength,o=e.fnRecordsDisplay();0===o||-1===i?r=0:"number"==typeof t?(r=t*i)>o&&(r=0):"first"==t?r=0:"previous"==t?(r=i>=0?r-i:0)<0&&(r=0):"next"==t?r+i<o&&(r+=i):"last"==t?r=Math.floor((o-1)/i)*i:lt(e,0,"Unknown paging action: "+t,5);var a=e._iDisplayStart!==r;return e._iDisplayStart=r,a&&(ht(e,null,"page",[e]),n&&le(e)),a}function Be(t){return e("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing",class:t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function He(t,n){t.oFeatures.bProcessing&&e(t.aanFeatures.r).css("display",n?"block":"none"),ht(t,null,"processing",[t,n])}function Je(t){var n=e(t.nTable),r=t.oScroll;if(""===r.sX&&""===r.sY)return t.nTable;var i=r.sX,o=r.sY,a=t.oClasses,s=n.children("caption"),c=s.length?s[0]._captionSide:null,l=e(n[0].cloneNode(!1)),u=e(n[0].cloneNode(!1)),d=n.children("tfoot"),p="<div/>",f=function(e){return e?Ye(e):null};d.length||(d=null);var h=e(p,{class:a.sScrollWrapper}).append(e(p,{class:a.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:i?f(i):"100%"}).append(e(p,{class:a.sScrollHeadInner}).css({"box-sizing":"content-box",width:r.sXInner||"100%"}).append(l.removeAttr("id").css("margin-left",0).append("top"===c?s:null).append(n.children("thead"))))).append(e(p,{class:a.sScrollBody}).css({position:"relative",overflow:"auto",width:f(i)}).append(n));d&&h.append(e(p,{class:a.sScrollFoot}).css({overflow:"hidden",border:0,width:i?f(i):"100%"}).append(e(p,{class:a.sScrollFootInner}).append(u.removeAttr("id").css("margin-left",0).append("bottom"===c?s:null).append(n.children("tfoot")))));var m=h.children(),g=m[0],v=m[1],y=d?m[2]:null;return i&&e(v).on("scroll.DT",function(e){var t=this.scrollLeft;g.scrollLeft=t,d&&(y.scrollLeft=t)}),e(v).css("max-height",o),r.bCollapse||e(v).css("height",o),t.nScrollHead=g,t.nScrollBody=v,t.nScrollFoot=y,t.aoDrawCallback.push({fn:Ge,sName:"scrolling"}),h[0]}function Ge(n){var i,o,a,s,c,l,u,d,p,f=n.oScroll,h=f.sX,m=f.sXInner,g=f.sY,v=f.iBarWidth,y=e(n.nScrollHead),b=y[0].style,E=y.children("div"),w=E[0].style,S=E.children("table"),T=n.nScrollBody,C=e(T),A=T.style,R=e(n.nScrollFoot).children("div"),D=R.children("table"),x=e(n.nTHead),k=e(n.nTable),I=k[0],O=I.style,N=n.nTFoot?e(n.nTFoot):null,L=n.oBrowser,P=L.bScrollOversize,M=(_(n.aoColumns,"nTh"),[]),j=[],B=[],H=[],J=function(e){var t=e.style;t.paddingTop="0",t.paddingBottom="0",t.borderTopWidth="0",t.borderBottomWidth="0",t.height=0},G=T.scrollHeight>T.clientHeight;if(n.scrollBarVis!==G&&n.scrollBarVis!==r)return n.scrollBarVis=G,void F(n);n.scrollBarVis=G,k.children("thead, tfoot").remove(),N&&(l=N.clone().prependTo(k),o=N.find("tr"),s=l.find("tr")),c=x.clone().prependTo(k),i=x.find("tr"),a=c.find("tr"),c.find("th, td").removeAttr("tabindex"),h||(A.width="100%",y[0].style.width="100%"),e.each(fe(n,c),function(e,t){u=U(n,e),t.style.width=n.aoColumns[u].sWidth}),N&&We(function(e){e.style.width=""},s),p=k.outerWidth(),""===h?(O.width="100%",P&&(k.find("tbody").height()>T.offsetHeight||"scroll"==C.css("overflow-y"))&&(O.width=Ye(k.outerWidth()-v)),p=k.outerWidth()):""!==m&&(O.width=Ye(m),p=k.outerWidth()),We(J,a),We(function(n){var r=t.getComputedStyle?t.getComputedStyle(n).width:Ye(e(n).width());B.push(n.innerHTML),M.push(r)},a),We(function(e,t){e.style.width=M[t]},i),e(a).height(0),N&&(We(J,s),We(function(t){H.push(t.innerHTML),j.push(Ye(e(t).css("width")))},s),We(function(e,t){e.style.width=j[t]},o),e(s).height(0)),We(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+B[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=M[t]},a),N&&We(function(e,t){e.innerHTML='<div class="dataTables_sizing">'+H[t]+"</div>",e.childNodes[0].style.height="0",e.childNodes[0].style.overflow="hidden",e.style.width=j[t]},s),k.outerWidth()<p?(d=T.scrollHeight>T.offsetHeight||"scroll"==C.css("overflow-y")?p+v:p,P&&(T.scrollHeight>T.offsetHeight||"scroll"==C.css("overflow-y"))&&(O.width=Ye(d-v)),""!==h&&""===m||lt(n,1,"Possible column misalignment",6)):d="100%",A.width=Ye(d),b.width=Ye(d),N&&(n.nScrollFoot.style.width=Ye(d)),g||P&&(A.height=Ye(I.offsetHeight+v));var W=k.outerWidth();S[0].style.width=Ye(W),w.width=Ye(W);var V=k.height()>T.clientHeight||"scroll"==C.css("overflow-y"),z="padding"+(L.bScrollbarLeft?"Left":"Right");w[z]=V?v+"px":"0px",N&&(D[0].style.width=Ye(W),R[0].style.width=Ye(W),R[0].style[z]=V?v+"px":"0px"),k.children("colgroup").insertBefore(k.children("thead")),C.trigger("scroll"),!n.bSorted&&!n.bFiltered||n._drawHold||(T.scrollTop=0)}function We(e,t,n){for(var r,i,o=0,a=0,s=t.length;a<s;){for(r=t[a].firstChild,i=n?n[a].firstChild:null;r;)1===r.nodeType&&(n?e(r,i,o):e(r,o),o++),r=r.nextSibling,i=n?i.nextSibling:null;a++}}var Ve=/<.*?>/g;function ze(n){var r,i,o,a=n.nTable,s=n.aoColumns,c=n.oScroll,l=c.sY,u=c.sX,d=c.sXInner,p=s.length,f=J(n,"bVisible"),h=e("th",n.nTHead),m=a.getAttribute("width"),g=a.parentNode,v=!1,y=n.oBrowser,b=y.bScrollOversize,_=a.style.width;for(_&&-1!==_.indexOf("%")&&(m=_),r=0;r<f.length;r++)null!==(i=s[f[r]]).sWidth&&(i.sWidth=Ke(i.sWidthOrig,g),v=!0);if(b||!v&&!u&&!l&&p==H(n)&&p==h.length)for(r=0;r<p;r++){var E=U(n,r);null!==E&&(s[E].sWidth=Ye(h.eq(r).width()))}else{var w=e(a).clone().css("visibility","hidden").removeAttr("id");w.find("tbody tr").remove();var S=e("<tr/>").appendTo(w.find("tbody"));for(w.find("thead, tfoot").remove(),w.append(e(n.nTHead).clone()).append(e(n.nTFoot).clone()),w.find("tfoot th, tfoot td").css("width",""),h=fe(n,w.find("thead")[0]),r=0;r<f.length;r++)h[r].style.width=null!==(i=s[f[r]]).sWidthOrig&&""!==i.sWidthOrig?Ye(i.sWidthOrig):"",i.sWidthOrig&&u&&e(h[r]).append(e("<div/>").css({width:i.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(n.aoData.length)for(r=0;r<f.length;r++)i=s[o=f[r]],e($e(n,o)).clone(!1).append(i.sContentPadding).appendTo(S);e("[name]",w).removeAttr("name");var T=e("<div/>").css(u||l?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(w).appendTo(g);u&&d?w.width(d):u?(w.css("width","auto"),w.removeAttr("width"),w.width()<g.clientWidth&&m&&w.width(g.clientWidth)):l?w.width(g.clientWidth):m&&w.width(m);var C=0;for(r=0;r<f.length;r++){var A=e(h[r]),R=A.outerWidth()-A.width(),D=y.bBounding?Math.ceil(h[r].getBoundingClientRect().width):A.outerWidth();C+=D,s[f[r]].sWidth=Ye(D-R)}a.style.width=Ye(C),T.remove()}if(m&&(a.style.width=Ye(m)),(m||u)&&!n._reszEvt){var x=function(){e(t).on("resize.DT-"+n.sInstance,qe(function(){F(n)}))};b?setTimeout(x,1e3):x(),n._reszEvt=!0}}var qe=c.util.throttle;function Ke(t,r){if(!t)return 0;var i=e("<div/>").css("width",Ye(t)).appendTo(r||n.body),o=i[0].offsetWidth;return i.remove(),o}function $e(t,n){var r=Xe(t,n);if(r<0)return null;var i=t.aoData[r];return i.nTr?i.anCells[n]:e("<td/>").html(q(t,r,n,"display"))[0]}function Xe(e,t){for(var n,r=-1,i=-1,o=0,a=e.aoData.length;o<a;o++)(n=(n=(n=q(e,o,t,"display")+"").replace(Ve,"")).replace(/&nbsp;/g," ")).length>r&&(r=n.length,i=o);return i}function Ye(e){return null===e?"0px":"number"==typeof e?e<0?"0px":e+"px":e.match(/\d$/)?e+"px":e}function Ze(t){var n,i,o,a,s,l,u,d=[],p=t.aoColumns,f=t.aaSortingFixed,h=e.isPlainObject(f),m=[],g=function(t){t.length&&!Array.isArray(t[0])?m.push(t):e.merge(m,t)};for(Array.isArray(f)&&g(f),h&&f.pre&&g(f.pre),g(t.aaSorting),h&&f.post&&g(f.post),n=0;n<m.length;n++)for(i=0,o=(a=p[u=m[n][0]].aDataSort).length;i<o;i++)l=p[s=a[i]].sType||"string",m[n]._idx===r&&(m[n]._idx=e.inArray(m[n][1],p[s].asSorting)),d.push({src:u,col:s,dir:m[n][1],index:m[n]._idx,type:l,formatter:c.ext.type.order[l+"-pre"]});return d}function Qe(e){var t,n,r,i,o,a=[],s=c.ext.type.order,l=e.aoData,u=0,d=e.aiDisplayMaster;for(G(e),t=0,n=(o=Ze(e)).length;t<n;t++)(i=o[t]).formatter&&u++,it(e,i.col);if("ssp"!=vt(e)&&0!==o.length){for(t=0,r=d.length;t<r;t++)a[d[t]]=t;d.sort(u===o.length?function(e,t){var n,r,i,s,c,u=o.length,d=l[e]._aSortData,p=l[t]._aSortData;for(i=0;i<u;i++)if(0!=(s=(n=d[(c=o[i]).col])<(r=p[c.col])?-1:n>r?1:0))return"asc"===c.dir?s:-s;return(n=a[e])<(r=a[t])?-1:n>r?1:0}:function(e,t){var n,r,i,c,u,d=o.length,p=l[e]._aSortData,f=l[t]._aSortData;for(i=0;i<d;i++)if(0!==(c=(s[(u=o[i]).type+"-"+u.dir]||s["string-"+u.dir])(n=p[u.col],r=f[u.col])))return c;return(n=a[e])<(r=a[t])?-1:n>r?1:0})}e.bSorted=!0}function et(e){for(var t,n,r=e.aoColumns,i=Ze(e),o=e.oLanguage.oAria,a=0,s=r.length;a<s;a++){var c=r[a],l=c.asSorting,u=c.ariaTitle||c.sTitle.replace(/<.*?>/g,""),d=c.nTh;d.removeAttribute("aria-sort"),c.bSortable?(i.length>0&&i[0].col==a?(d.setAttribute("aria-sort","asc"==i[0].dir?"ascending":"descending"),n=l[i[0].index+1]||l[0]):n=l[0],t=u+("asc"===n?o.sSortAscending:o.sSortDescending)):t=u,d.setAttribute("aria-label",t)}}function tt(t,n,i,o){var a,s=t.aaSorting,c=t.aoColumns[n].asSorting,l=function(t,n){var i=t._idx;return i===r&&(i=e.inArray(t[1],c)),i+1<c.length?i+1:n?null:0};if("number"==typeof s[0]&&(s=t.aaSorting=[s]),i&&t.oFeatures.bSortMulti){var u=e.inArray(n,_(s,"0"));-1!==u?(null===(a=l(s[u],!0))&&1===s.length&&(a=0),null===a?s.splice(u,1):(s[u][1]=c[a],s[u]._idx=a)):(s.push([n,c[0],0]),s[s.length-1]._idx=0)}else s.length&&s[0][0]==n?(a=l(s[0]),s.length=1,s[0][1]=c[a],s[0]._idx=a):(s.length=0,s.push([n,c[0]]),s[0]._idx=0);ue(t),"function"==typeof o&&o(t)}function nt(e,t,n,r){var i=e.aoColumns[n];pt(t,{},function(t){!1!==i.bSortable&&(e.oFeatures.bProcessing?(He(e,!0),setTimeout(function(){tt(e,n,t.shiftKey,r),"ssp"!==vt(e)&&He(e,!1)},0)):tt(e,n,t.shiftKey,r))})}function rt(t){var n,r,i=t.aLastSort,o=t.oClasses.sSortColumn,a=Ze(t),s=t.oFeatures;if(s.bSort&&s.bSortClasses){for(n=0,r=i.length;n<r;n++)e(_(t.aoData,"anCells",i[n].src)).removeClass(o+(n<2?n+1:3));for(n=0,r=a.length;n<r;n++)e(_(t.aoData,"anCells",a[n].src)).addClass(o+(n<2?n+1:3))}t.aLastSort=a}function it(e,t){var n,r,i,o=e.aoColumns[t],a=c.ext.order[o.sSortDataType];a&&(n=a.call(e.oInstance,e,t,B(e,t)));for(var s=c.ext.type.order[o.sType+"-pre"],l=0,u=e.aoData.length;l<u;l++)(r=e.aoData[l])._aSortData||(r._aSortData=[]),r._aSortData[t]&&!a||(i=a?n[l]:q(e,l,t,"sort"),r._aSortData[t]=s?s(i):i)}function ot(t){if(!t._bLoadingState){var n={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:e.extend(!0,[],t.aaSorting),search:xe(t.oPreviousSearch),columns:e.map(t.aoColumns,function(e,n){return{visible:e.bVisible,search:xe(t.aoPreSearchCols[n])}})};t.oSavedState=n,ht(t,"aoStateSaveParams","stateSaveParams",[t,n]),t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,n)}}function at(e,t,n){if(e.oFeatures.bStateSave){var i=e.fnStateLoadCallback.call(e.oInstance,e,function(t){st(e,t,n)});return i!==r&&st(e,i,n),!0}n()}function st(t,n,i){var o,a,s=t.aoColumns;t._bLoadingState=!0;var l=t._bInitComplete?new c.Api(t):null;if(!n||!n.time)return t._bLoadingState=!1,void i();var u=ht(t,"aoStateLoadParams","stateLoadParams",[t,n]);if(-1!==e.inArray(!1,u))return t._bLoadingState=!1,void i();var d=t.iStateDuration;if(d>0&&n.time<+new Date-1e3*d)return t._bLoadingState=!1,void i();if(n.columns&&s.length!==n.columns.length)return t._bLoadingState=!1,void i();if(t.oLoadedState=e.extend(!0,{},n),n.start!==r&&(t._iDisplayStart=n.start,null===l&&(t.iInitDisplayStart=n.start)),n.length!==r&&(t._iDisplayLength=n.length),n.order!==r&&(t.aaSorting=[],e.each(n.order,function(e,n){t.aaSorting.push(n[0]>=s.length?[0,n[1]]:n)})),n.search!==r&&e.extend(t.oPreviousSearch,ke(n.search)),n.columns){for(o=0,a=n.columns.length;o<a;o++){var p=n.columns[o];p.visible!==r&&(l?l.column(o).visible(p.visible,!1):s[o].bVisible=p.visible),p.search!==r&&e.extend(t.aoPreSearchCols[o],ke(p.search))}l&&l.columns.adjust()}t._bLoadingState=!1,ht(t,"aoStateLoaded","stateLoaded",[t,n]),i()}function ct(t){var n=c.settings,r=e.inArray(t,_(n,"nTable"));return-1!==r?n[r]:null}function lt(e,n,r,i){if(r="DataTables warning: "+(e?"table id="+e.sTableId+" - ":"")+r,i&&(r+=". For more information about this error, please see http://datatables.net/tn/"+i),n)t.console&&console.log&&console.log(r);else{var o=c.ext,a=o.sErrMode||o.errMode;if(e&&ht(e,null,"error",[e,i,r]),"alert"==a)alert(r);else{if("throw"==a)throw new Error(r);"function"==typeof a&&a(e,i,r)}}}function ut(t,n,i,o){Array.isArray(i)?e.each(i,function(e,r){Array.isArray(r)?ut(t,n,r[0],r[1]):ut(t,n,r)}):(o===r&&(o=i),n[i]!==r&&(t[o]=n[i]))}function dt(t,n,r){var i;for(var o in n)n.hasOwnProperty(o)&&(e.isPlainObject(i=n[o])?(e.isPlainObject(t[o])||(t[o]={}),e.extend(!0,t[o],i)):t[o]=r&&"data"!==o&&"aaData"!==o&&Array.isArray(i)?i.slice():i);return t}function pt(t,n,r){e(t).on("click.DT",n,function(n){e(t).trigger("blur"),r(n)}).on("keypress.DT",n,function(e){13===e.which&&(e.preventDefault(),r(e))}).on("selectstart.DT",function(){return!1})}function ft(e,t,n,r){n&&e[t].push({fn:n,sName:r})}function ht(t,n,r,i){var o=[];if(n&&(o=e.map(t[n].slice().reverse(),function(e,n){return e.fn.apply(t.oInstance,i)})),null!==r){var a=e.Event(r+".dt");e(t.nTable).trigger(a,i),o.push(a.result)}return o}function mt(e){var t=e._iDisplayStart,n=e.fnDisplayEnd(),r=e._iDisplayLength;t>=n&&(t=n-r),t-=t%r,(-1===r||t<0)&&(t=0),e._iDisplayStart=t}function gt(t,n){var r=t.renderer,i=c.ext.renderer[n];return e.isPlainObject(r)&&r[n]?i[r[n]]||i._:"string"==typeof r&&i[r]||i._}function vt(e){return e.oFeatures.bServerSide?"ssp":e.ajax||e.sAjaxSource?"ajax":"dom"}var yt=[],bt=Array.prototype;c.Api=o=function(t,n){if(!(this instanceof o))return new o(t,n);var r=[],i=function(t){var n=function(t){var n,r,i=c.settings,o=e.map(i,function(e,t){return e.nTable});return t?t.nTable&&t.oApi?[t]:t.nodeName&&"table"===t.nodeName.toLowerCase()?-1!==(n=e.inArray(t,o))?[i[n]]:null:t&&"function"==typeof t.settings?t.settings().toArray():("string"==typeof t?r=e(t):t instanceof e&&(r=t),r?r.map(function(t){return-1!==(n=e.inArray(this,o))?i[n]:null}).toArray():void 0):[]}(t);n&&r.push.apply(r,n)};if(Array.isArray(t))for(var a=0,s=t.length;a<s;a++)i(t[a]);else i(t);this.context=C(r),n&&e.merge(this,n),this.selector={rows:null,cols:null,opts:null},o.extend(this,this,yt)},e.extend(o.prototype,{any:function(){return 0!==this.count()},concat:bt.concat,context:[],count:function(){return this.flatten().length},each:function(e){for(var t=0,n=this.length;t<n;t++)e.call(this,this[t],t,this);return this},eq:function(e){var t=this.context;return t.length>e?new o(t[e],this[e]):null},filter:function(e){var t=[];if(bt.filter)t=bt.filter.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)e.call(this,this[n],n,this)&&t.push(this[n]);return new o(this.context,t)},flatten:function(){var e=[];return new o(this.context,e.concat.apply(e,this.toArray()))},join:bt.join,indexOf:bt.indexOf||function(e,t){for(var n=t||0,r=this.length;n<r;n++)if(this[n]===e)return n;return-1},iterator:function(e,t,n,i){var a,s,c,l,u,d,p,f,h=[],m=this.context,g=this.selector;for("string"==typeof e&&(i=n,n=t,t=e,e=!1),s=0,c=m.length;s<c;s++){var v=new o(m[s]);if("table"===t)(a=n.call(v,m[s],s))!==r&&h.push(a);else if("columns"===t||"rows"===t)(a=n.call(v,m[s],this[s],s))!==r&&h.push(a);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(p=this[s],"column-rows"===t&&(d=Ct(m[s],g.opts)),l=0,u=p.length;l<u;l++)f=p[l],(a="cell"===t?n.call(v,m[s],f.row,f.column,s,l):n.call(v,m[s],f,s,l,d))!==r&&h.push(a)}if(h.length||i){var y=new o(m,e?h.concat.apply([],h):h),b=y.selector;return b.rows=g.rows,b.cols=g.cols,b.opts=g.opts,y}return this},lastIndexOf:bt.lastIndexOf||function(e,t){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(e){var t=[];if(bt.map)t=bt.map.call(this,e,this);else for(var n=0,r=this.length;n<r;n++)t.push(e.call(this,this[n],n));return new o(this.context,t)},pluck:function(e){return this.map(function(t){return t[e]})},pop:bt.pop,push:bt.push,reduce:bt.reduce||function(e,t){return P(this,e,t,0,this.length,1)},reduceRight:bt.reduceRight||function(e,t){return P(this,e,t,this.length-1,-1,-1)},reverse:bt.reverse,selector:null,shift:bt.shift,slice:function(){return new o(this.context,this)},sort:bt.sort,splice:bt.splice,toArray:function(){return bt.slice.call(this)},to$:function(){return e(this)},toJQuery:function(){return e(this)},unique:function(){return new o(this.context,C(this))},unshift:bt.unshift}),o.extend=function(e,t,n){if(n.length&&t&&(t instanceof o||t.__dt_wrapper)){var r,i,a,s=function(e,t,n){return function(){var r=t.apply(e,arguments);return o.extend(r,r,n.methodExt),r}};for(r=0,i=n.length;r<i;r++)t[(a=n[r]).name]="function"===a.type?s(e,a.val,a):"object"===a.type?{}:a.val,t[a.name].__dt_wrapper=!0,o.extend(e,t[a.name],a.propExt)}},o.register=a=function(t,n){if(Array.isArray(t))for(var r=0,i=t.length;r<i;r++)o.register(t[r],n);else{var a,s,c,l,u=t.split("."),d=yt,p=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n].name===t)return e[n];return null};for(a=0,s=u.length;a<s;a++){var f=p(d,c=(l=-1!==u[a].indexOf("()"))?u[a].replace("()",""):u[a]);f||d.push(f={name:c,val:{},methodExt:[],propExt:[],type:"object"}),a===s-1?(f.val=n,f.type="function"==typeof n?"function":e.isPlainObject(n)?"object":"other"):d=l?f.methodExt:f.propExt}}},o.registerPlural=s=function(e,t,n){o.register(e,n),o.register(t,function(){var e=n.apply(this,arguments);return e===this?this:e instanceof o?e.length?Array.isArray(e[0])?new o(e.context,e[0]):e[0]:r:e})};var _t=function(t,n){if(Array.isArray(t))return e.map(t,function(e){return _t(e,n)});if("number"==typeof t)return[n[t]];var r=e.map(n,function(e,t){return e.nTable});return e(r).filter(t).map(function(t){var i=e.inArray(this,r);return n[i]}).toArray()};a("tables()",function(e){return e!==r&&null!==e?new o(_t(e,this.context)):this}),a("table()",function(e){var t=this.tables(e),n=t.context;return n.length?new o(n[0]):t}),s("tables().nodes()","table().node()",function(){return this.iterator("table",function(e){return e.nTable},1)}),s("tables().body()","table().body()",function(){return this.iterator("table",function(e){return e.nTBody},1)}),s("tables().header()","table().header()",function(){return this.iterator("table",function(e){return e.nTHead},1)}),s("tables().footer()","table().footer()",function(){return this.iterator("table",function(e){return e.nTFoot},1)}),s("tables().containers()","table().container()",function(){return this.iterator("table",function(e){return e.nTableWrapper},1)}),a("draw()",function(e){return this.iterator("table",function(t){"page"===e?le(t):("string"==typeof e&&(e="full-hold"!==e),ue(t,!1===e))})}),a("page()",function(e){return e===r?this.page.info().page:this.iterator("table",function(t){Ue(t,e)})}),a("page.info()",function(e){if(0===this.context.length)return r;var t=this.context[0],n=t._iDisplayStart,i=t.oFeatures.bPaginate?t._iDisplayLength:-1,o=t.fnRecordsDisplay(),a=-1===i;return{page:a?0:Math.floor(n/i),pages:a?1:Math.ceil(o/i),start:n,end:t.fnDisplayEnd(),length:i,recordsTotal:t.fnRecordsTotal(),recordsDisplay:o,serverSide:"ssp"===vt(t)}}),a("page.len()",function(e){return e===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){Me(t,e)})});var Et=function(e,t,n){if(n){var r=new o(e);r.one("draw",function(){n(r.ajax.json())})}if("ssp"==vt(e))ue(e,t);else{He(e,!0);var i=e.jqXHR;i&&4!==i.readyState&&i.abort(),he(e,[],function(n){te(e);for(var r=ye(e,n),i=0,o=r.length;i<o;i++)V(e,r[i]);ue(e,t),He(e,!1)})}};a("ajax.json()",function(){var e=this.context;if(e.length>0)return e[0].json}),a("ajax.params()",function(){var e=this.context;if(e.length>0)return e[0].oAjaxData}),a("ajax.reload()",function(e,t){return this.iterator("table",function(n){Et(n,!1===t,e)})}),a("ajax.url()",function(t){var n=this.context;return t===r?0===n.length?r:(n=n[0]).ajax?e.isPlainObject(n.ajax)?n.ajax.url:n.ajax:n.sAjaxSource:this.iterator("table",function(n){e.isPlainObject(n.ajax)?n.ajax.url=t:n.ajax=t})}),a("ajax.url().load()",function(e,t){return this.iterator("table",function(n){Et(n,!1===t,e)})});var wt=function(e,t,n,o,a){var s,c,l,u,d,p,f=[],h=typeof t;for(t&&"string"!==h&&"function"!==h&&t.length!==r||(t=[t]),l=0,u=t.length;l<u;l++)for(d=0,p=(c=t[l]&&t[l].split&&!t[l].match(/[\[\(:]/)?t[l].split(","):[t[l]]).length;d<p;d++)(s=n("string"==typeof c[d]?c[d].trim():c[d]))&&s.length&&(f=f.concat(s));var m=i.selector[e];if(m.length)for(l=0,u=m.length;l<u;l++)f=m[l](o,a,f);return C(f)},St=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),e.extend({search:"none",order:"current",page:"all"},t)},Tt=function(e){for(var t=0,n=e.length;t<n;t++)if(e[t].length>0)return e[0]=e[t],e[0].length=1,e.length=1,e.context=[e.context[t]],e;return e.length=0,e},Ct=function(t,n){var r,i=[],o=t.aiDisplay,a=t.aiDisplayMaster,s=n.search,c=n.order,l=n.page;if("ssp"==vt(t))return"removed"===s?[]:w(0,a.length);if("current"==l)for(d=t._iDisplayStart,p=t.fnDisplayEnd();d<p;d++)i.push(o[d]);else if("current"==c||"applied"==c){if("none"==s)i=a.slice();else if("applied"==s)i=o.slice();else if("removed"==s){for(var u={},d=0,p=o.length;d<p;d++)u[o[d]]=null;i=e.map(a,function(e){return u.hasOwnProperty(e)?null:e})}}else if("index"==c||"original"==c)for(d=0,p=t.aoData.length;d<p;d++)("none"==s||-1===(r=e.inArray(d,o))&&"removed"==s||r>=0&&"applied"==s)&&i.push(d);return i};a("rows()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=St(n);var i=this.iterator("table",function(i){return function(t,n,i){var o;return wt("row",n,function(n){var a=g(n),s=t.aoData;if(null!==a&&!i)return[a];if(o||(o=Ct(t,i)),null!==a&&-1!==e.inArray(a,o))return[a];if(null===n||n===r||""===n)return o;if("function"==typeof n)return e.map(o,function(e){var t=s[e];return n(e,t._aData,t.nTr)?e:null});if(n.nodeName){var c=n._DT_RowIndex,l=n._DT_CellIndex;if(c!==r)return s[c]&&s[c].nTr===n?[c]:[];if(l)return s[l.row]&&s[l.row].nTr===n.parentNode?[l.row]:[];var u=e(n).closest("*[data-dt-row]");return u.length?[u.data("dt-row")]:[]}if("string"==typeof n&&"#"===n.charAt(0)){var d=t.aIds[n.replace(/^#/,"")];if(d!==r)return[d.idx]}var p=S(E(t.aoData,o,"nTr"));return e(p).filter(n).map(function(){return this._DT_RowIndex}).toArray()},t,i)}(i,t,n)},1);return i.selector.rows=t,i.selector.opts=n,i}),a("rows().nodes()",function(){return this.iterator("row",function(e,t){return e.aoData[t].nTr||r},1)}),a("rows().data()",function(){return this.iterator(!0,"rows",function(e,t){return E(e.aoData,t,"_aData")},1)}),s("rows().cache()","row().cache()",function(e){return this.iterator("row",function(t,n){var r=t.aoData[n];return"search"===e?r._aFilterData:r._aSortData},1)}),s("rows().invalidate()","row().invalidate()",function(e){return this.iterator("row",function(t,n){re(t,n,e)})}),s("rows().indexes()","row().index()",function(){return this.iterator("row",function(e,t){return t},1)}),s("rows().ids()","row().id()",function(e){for(var t=[],n=this.context,r=0,i=n.length;r<i;r++)for(var a=0,s=this[r].length;a<s;a++){var c=n[r].rowIdFn(n[r].aoData[this[r][a]]._aData);t.push((!0===e?"#":"")+c)}return new o(n,t)}),s("rows().remove()","row().remove()",function(){var e=this;return this.iterator("row",function(t,n,i){var o,a,s,c,l,u,d=t.aoData,p=d[n];for(d.splice(n,1),o=0,a=d.length;o<a;o++)if(u=(l=d[o]).anCells,null!==l.nTr&&(l.nTr._DT_RowIndex=o),null!==u)for(s=0,c=u.length;s<c;s++)u[s]._DT_CellIndex.row=o;ne(t.aiDisplayMaster,n),ne(t.aiDisplay,n),ne(e[i],n,!1),t._iRecordsDisplay>0&&t._iRecordsDisplay--,mt(t);var f=t.rowIdFn(p._aData);f!==r&&delete t.aIds[f]}),this.iterator("table",function(e){for(var t=0,n=e.aoData.length;t<n;t++)e.aoData[t].idx=t}),this}),a("rows.add()",function(t){var n=this.iterator("table",function(e){var n,r,i,o=[];for(r=0,i=t.length;r<i;r++)(n=t[r]).nodeName&&"TR"===n.nodeName.toUpperCase()?o.push(z(e,n)[0]):o.push(V(e,n));return o},1),r=this.rows(-1);return r.pop(),e.merge(r,n),r}),a("row()",function(e,t){return Tt(this.rows(e,t))}),a("row().data()",function(e){var t=this.context;if(e===r)return t.length&&this.length?t[0].aoData[this[0]]._aData:r;var n=t[0].aoData[this[0]];return n._aData=e,Array.isArray(e)&&n.nTr&&n.nTr.id&&Q(t[0].rowId)(e,n.nTr.id),re(t[0],this[0],"data"),this}),a("row().node()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]].nTr||null}),a("row.add()",function(t){t instanceof e&&t.length&&(t=t[0]);var n=this.iterator("table",function(e){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?z(e,t)[0]:V(e,t)});return this.row(n[0])}),e(n).on("plugin-init.dt",function(e,t){var n=new o(t);n.on("stateSaveParams",function(e,t,i){var o=n.rows().iterator("row",function(e,t){return e.aoData[t]._detailsShow?t:r});i.childRows=n.rows(o).ids(!0).toArray()});var i=n.state.loaded();i&&i.childRows&&n.rows(i.childRows).every(function(){ht(t,null,"requestChild",[this])})});var At=function(t,n){var i=t.context;if(i.length){var o=i[0].aoData[n!==r?n:t[0]];o&&o._details&&(o._details.remove(),o._detailsShow=r,o._details=r,e(o.nTr).removeClass("dt-hasChild"),ot(i[0]))}},Rt=function(t,n){var r=t.context;if(r.length&&t.length){var i=r[0].aoData[t[0]];i._details&&(i._detailsShow=n,n?(i._details.insertAfter(i.nTr),e(i.nTr).addClass("dt-hasChild")):(i._details.detach(),e(i.nTr).removeClass("dt-hasChild")),ht(r[0],null,"childRow",[n,t.row(t[0])]),Dt(r[0]),ot(r[0]))}},Dt=function(e){var t=new o(e),n=".dt.DT_details",r="draw"+n,i="column-visibility"+n,a="destroy"+n,s=e.aoData;t.off(r+" "+i+" "+a),_(s,"_details").length>0&&(t.on(r,function(n,r){e===r&&t.rows({page:"current"}).eq(0).each(function(e){var t=s[e];t._detailsShow&&t._details.insertAfter(t.nTr)})}),t.on(i,function(t,n,r,i){if(e===n)for(var o,a=H(n),c=0,l=s.length;c<l;c++)(o=s[c])._details&&o._details.children("td[colspan]").attr("colspan",a)}),t.on(a,function(n,r){if(e===r)for(var i=0,o=s.length;i<o;i++)s[i]._details&&At(t,i)}))},xt="row().child()";a(xt,function(t,n){var i=this.context;return t===r?i.length&&this.length?i[0].aoData[this[0]]._details:r:(!0===t?this.child.show():!1===t?At(this):i.length&&this.length&&function(t,n,r,i){var o=[],a=function(n,r){if(Array.isArray(n)||n instanceof e)for(var i=0,s=n.length;i<s;i++)a(n[i],r);else if(n.nodeName&&"tr"===n.nodeName.toLowerCase())o.push(n);else{var c=e("<tr><td></td></tr>").addClass(r);e("td",c).addClass(r).html(n)[0].colSpan=H(t),o.push(c[0])}};a(r,i),n._details&&n._details.detach(),n._details=e(o),n._detailsShow&&n._details.insertAfter(n.nTr)}(i[0],i[0].aoData[this[0]],t,n),this)}),a(["row().child.show()",xt+".show()"],function(e){return Rt(this,!0),this}),a(["row().child.hide()",xt+".hide()"],function(){return Rt(this,!1),this}),a(["row().child.remove()",xt+".remove()"],function(){return At(this),this}),a("row().child.isShown()",function(){var e=this.context;return e.length&&this.length&&e[0].aoData[this[0]]._detailsShow||!1});var kt=/^([^:]+):(name|visIdx|visible)$/,It=function(e,t,n,r,i){for(var o=[],a=0,s=i.length;a<s;a++)o.push(q(e,i[a],t));return o};a("columns()",function(t,n){t===r?t="":e.isPlainObject(t)&&(n=t,t=""),n=St(n);var i=this.iterator("table",function(r){return function(t,n,r){var i=t.aoColumns,o=_(i,"sName"),a=_(i,"nTh");return wt("column",n,function(n){var s=g(n);if(""===n)return w(i.length);if(null!==s)return[s>=0?s:i.length+s];if("function"==typeof n){var c=Ct(t,r);return e.map(i,function(e,r){return n(r,It(t,r,0,0,c),a[r])?r:null})}var l="string"==typeof n?n.match(kt):"";if(l)switch(l[2]){case"visIdx":case"visible":var u=parseInt(l[1],10);if(u<0){var d=e.map(i,function(e,t){return e.bVisible?t:null});return[d[d.length+u]]}return[U(t,u)];case"name":return e.map(o,function(e,t){return e===l[1]?t:null});default:return[]}if(n.nodeName&&n._DT_CellIndex)return[n._DT_CellIndex.column];var p=e(a).filter(n).map(function(){return e.inArray(this,a)}).toArray();if(p.length||!n.nodeName)return p;var f=e(n).closest("*[data-dt-column]");return f.length?[f.data("dt-column")]:[]},t,r)}(r,t,n)},1);return i.selector.cols=t,i.selector.opts=n,i}),s("columns().header()","column().header()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTh},1)}),s("columns().footer()","column().footer()",function(e,t){return this.iterator("column",function(e,t){return e.aoColumns[t].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",It,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(e,t){return e.aoColumns[t].mData},1)}),s("columns().cache()","column().cache()",function(e){return this.iterator("column-rows",function(t,n,r,i,o){return E(t.aoData,o,"search"===e?"_aFilterData":"_aSortData",n)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(e,t,n,r,i){return E(e.aoData,i,"anCells",t)},1)}),s("columns().visible()","column().visible()",function(t,n){var i=this,o=this.iterator("column",function(n,i){if(t===r)return n.aoColumns[i].bVisible;!function(t,n,i){var o,a,s,c,l=t.aoColumns,u=l[n],d=t.aoData;if(i===r)return u.bVisible;if(u.bVisible!==i){if(i){var p=e.inArray(!0,_(l,"bVisible"),n+1);for(a=0,s=d.length;a<s;a++)o=d[a].anCells,(c=d[a].nTr)&&c.insertBefore(o[n],o[p]||null)}else e(_(t.aoData,"anCells",n)).detach();u.bVisible=i}}(n,i,t)});return t!==r&&this.iterator("table",function(o){ce(o,o.aoHeader),ce(o,o.aoFooter),o.aiDisplay.length||e(o.nTBody).find("td[colspan]").attr("colspan",H(o)),ot(o),i.iterator("column",function(e,r){ht(e,null,"column-visibility",[e,r,t,n])}),(n===r||n)&&i.columns.adjust()}),o}),s("columns().indexes()","column().index()",function(e){return this.iterator("column",function(t,n){return"visible"===e?B(t,n):n},1)}),a("columns.adjust()",function(){return this.iterator("table",function(e){F(e)},1)}),a("column.index()",function(e,t){if(0!==this.context.length){var n=this.context[0];if("fromVisible"===e||"toData"===e)return U(n,t);if("fromData"===e||"toVisible"===e)return B(n,t)}}),a("column()",function(e,t){return Tt(this.columns(e,t))}),a("cells()",function(t,n,i){if(e.isPlainObject(t)&&(t.row===r?(i=t,t=null):(i=n,n=null)),e.isPlainObject(n)&&(i=n,n=null),null===n||n===r)return this.iterator("table",function(n){return function(t,n,i){var o,a,s,c,l,u,d,p=t.aoData,f=Ct(t,i),h=S(E(p,f,"anCells")),m=e(A([],h)),g=t.aoColumns.length;return wt("cell",n,function(n){var i="function"==typeof n;if(null===n||n===r||i){for(a=[],s=0,c=f.length;s<c;s++)for(o=f[s],l=0;l<g;l++)u={row:o,column:l},i?(d=p[o],n(u,q(t,o,l),d.anCells?d.anCells[l]:null)&&a.push(u)):a.push(u);return a}if(e.isPlainObject(n))return n.column!==r&&n.row!==r&&-1!==e.inArray(n.row,f)?[n]:[];var h=m.filter(n).map(function(e,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray();return h.length||!n.nodeName?h:(d=e(n).closest("*[data-dt-row]")).length?[{row:d.data("dt-row"),column:d.data("dt-column")}]:[]},t,i)}(n,t,St(i))});var o,a,s,c,l=i?{page:i.page,order:i.order,search:i.search}:{},u=this.columns(n,l),d=this.rows(t,l),p=this.iterator("table",function(e,t){var n=[];for(o=0,a=d[t].length;o<a;o++)for(s=0,c=u[t].length;s<c;s++)n.push({row:d[t][o],column:u[t][s]});return n},1),f=i&&i.selected?this.cells(p,i):p;return e.extend(f.selector,{cols:n,rows:t,opts:i}),f}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(e,t,n){var i=e.aoData[t];return i&&i.anCells?i.anCells[n]:r},1)}),a("cells().data()",function(){return this.iterator("cell",function(e,t,n){return q(e,t,n)},1)}),s("cells().cache()","cell().cache()",function(e){return e="search"===e?"_aFilterData":"_aSortData",this.iterator("cell",function(t,n,r){return t.aoData[n][e][r]},1)}),s("cells().render()","cell().render()",function(e){return this.iterator("cell",function(t,n,r){return q(t,n,r,e)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(e,t,n){return{row:t,column:n,columnVisible:B(e,n)}},1)}),s("cells().invalidate()","cell().invalidate()",function(e){return this.iterator("cell",function(t,n,r){re(t,n,e,r)})}),a("cell()",function(e,t,n){return Tt(this.cells(e,t,n))}),a("cell().data()",function(e){var t=this.context,n=this[0];return e===r?t.length&&n.length?q(t[0],n[0].row,n[0].column):r:(K(t[0],n[0].row,n[0].column,e),re(t[0],n[0].row,"data",n[0].column),this)}),a("order()",function(e,t){var n=this.context;return e===r?0!==n.length?n[0].aaSorting:r:("number"==typeof e?e=[[e,t]]:e.length&&!Array.isArray(e[0])&&(e=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=e.slice()}))}),a("order.listener()",function(e,t,n){return this.iterator("table",function(r){nt(r,e,t,n)})}),a("order.fixed()",function(t){if(!t){var n=this.context,i=n.length?n[0].aaSortingFixed:r;return Array.isArray(i)?{pre:i}:i}return this.iterator("table",function(n){n.aaSortingFixed=e.extend(!0,{},t)})}),a(["columns().order()","column().order()"],function(t){var n=this;return this.iterator("table",function(r,i){var o=[];e.each(n[i],function(e,n){o.push([n,t])}),r.aaSorting=o})}),a("search()",function(t,n,i,o){var a=this.context;return t===r?0!==a.length?a[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&_e(r,e.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),1)})}),s("columns().search()","column().search()",function(t,n,i,o){return this.iterator("column",function(a,s){var c=a.aoPreSearchCols;if(t===r)return c[s].sSearch;a.oFeatures.bFilter&&(e.extend(c[s],{sSearch:t+"",bRegex:null!==n&&n,bSmart:null===i||i,bCaseInsensitive:null===o||o}),_e(a,a.oPreviousSearch,1))})}),a("state()",function(){return this.context.length?this.context[0].oSavedState:null}),a("state.clear()",function(){return this.iterator("table",function(e){e.fnStateSaveCallback.call(e.oInstance,e,{})})}),a("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),a("state.save()",function(){return this.iterator("table",function(e){ot(e)})}),c.versionCheck=c.fnVersionCheck=function(e){for(var t,n,r=c.version.split("."),i=e.split("."),o=0,a=i.length;o<a;o++)if((t=parseInt(r[o],10)||0)!==(n=parseInt(i[o],10)||0))return t>n;return!0},c.isDataTable=c.fnIsDataTable=function(t){var n=e(t).get(0),r=!1;return t instanceof c.Api||(e.each(c.settings,function(t,i){var o=i.nScrollHead?e("table",i.nScrollHead)[0]:null,a=i.nScrollFoot?e("table",i.nScrollFoot)[0]:null;i.nTable!==n&&o!==n&&a!==n||(r=!0)}),r)},c.tables=c.fnTables=function(t){var n=!1;e.isPlainObject(t)&&(n=t.api,t=t.visible);var r=e.map(c.settings,function(n){if(!t||t&&e(n.nTable).is(":visible"))return n.nTable});return n?new o(r):r},c.camelToHungarian=x,a("$()",function(t,n){var r=this.rows(n).nodes(),i=e(r);return e([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),e.each(["on","one","off"],function(t,n){a(n+"()",function(){var t=Array.prototype.slice.call(arguments);t[0]=e.map(t[0].split(/\s/),function(e){return e.match(/\.dt\b/)?e:e+".dt"}).join(" ");var r=e(this.tables().nodes());return r[n].apply(r,t),this})}),a("clear()",function(){return this.iterator("table",function(e){te(e)})}),a("settings()",function(){return new o(this.context,this.context)}),a("init()",function(){var e=this.context;return e.length?e[0].oInit:null}),a("data()",function(){return this.iterator("table",function(e){return _(e.aoData,"_aData")}).flatten()}),a("destroy()",function(n){return n=n||!1,this.iterator("table",function(r){var i,a=r.nTableWrapper.parentNode,s=r.oClasses,l=r.nTable,u=r.nTBody,d=r.nTHead,p=r.nTFoot,f=e(l),h=e(u),m=e(r.nTableWrapper),g=e.map(r.aoData,function(e){return e.nTr});r.bDestroying=!0,ht(r,"aoDestroyCallback","destroy",[r]),n||new o(r).columns().visible(!0),m.off(".DT").find(":not(tbody *)").off(".DT"),e(t).off(".DT-"+r.sInstance),l!=d.parentNode&&(f.children("thead").detach(),f.append(d)),p&&l!=p.parentNode&&(f.children("tfoot").detach(),f.append(p)),r.aaSorting=[],r.aaSortingFixed=[],rt(r),e(g).removeClass(r.asStripeClasses.join(" ")),e("th, td",d).removeClass(s.sSortable+" "+s.sSortableAsc+" "+s.sSortableDesc+" "+s.sSortableNone),h.children().detach(),h.append(g);var v=n?"remove":"detach";f[v](),m[v](),!n&&a&&(a.insertBefore(l,r.nTableReinsertBefore),f.css("width",r.sDestroyWidth).removeClass(s.sTable),(i=r.asDestroyStripes.length)&&h.children().each(function(t){e(this).addClass(r.asDestroyStripes[t%i])}));var y=e.inArray(r,c.settings);-1!==y&&c.settings.splice(y,1)})}),e.each(["column","row","cell"],function(e,t){a(t+"s().every()",function(e){var n=this.selector.opts,i=this;return this.iterator(t,function(o,a,s,c,l){e.call(i[t](a,"cell"===t?s:n,"cell"===t?n:r),a,s,c,l)})})}),a("i18n()",function(t,n,i){var o=this.context[0],a=Z(t)(o.oLanguage);return a===r&&(a=n),i!==r&&e.isPlainObject(a)&&(a=a[i]!==r?a[i]:a._),a.replace("%d",i)}),c.version="1.11.3",c.settings=[],c.models={},c.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,return:!1},c.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},c.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},c.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(e){try{return JSON.parse((-1===e.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+e.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(e,t){try{(-1===e.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+e.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(n){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:e.extend({},c.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},D(c.defaults),c.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},D(c.defaults.column),c.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==vt(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==vt(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var e=this._iDisplayLength,t=this._iDisplayStart,n=t+e,r=this.aiDisplay.length,i=this.oFeatures,o=i.bPaginate;return i.bServerSide?!1===o||-1===e?t+r:Math.min(t+e,this._iRecordsDisplay):!o||n>r||-1===e?r:n},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},c.ext=i={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:c.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:c.version},e.extend(i,{afnFiltering:i.search,aTypes:i.type.detect,ofnSearch:i.type.search,oSort:i.type.order,afnSortData:i.order,aoFeatures:i.feature,oApi:i.internal,oStdClasses:i.classes,oPagination:i.pager}),e.extend(c.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""});var Ot=c.ext.pager;function Nt(e,t){var n=[],r=Ot.numbers_length,i=Math.floor(r/2);return t<=r?n=w(0,t):e<=i?((n=w(0,r-2)).push("ellipsis"),n.push(t-1)):e>=t-1-i?((n=w(t-(r-2),t)).splice(0,0,"ellipsis"),n.splice(0,0,0)):((n=w(e-i+2,e+i-1)).push("ellipsis"),n.push(t-1),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}e.extend(Ot,{simple:function(e,t){return["previous","next"]},full:function(e,t){return["first","previous","next","last"]},numbers:function(e,t){return[Nt(e,t)]},simple_numbers:function(e,t){return["previous",Nt(e,t),"next"]},full_numbers:function(e,t){return["first","previous",Nt(e,t),"next","last"]},first_last_numbers:function(e,t){return["first",Nt(e,t),"last"]},_numbers:Nt,numbers_length:7}),e.extend(!0,c.ext.renderer,{pageButton:{_:function(t,i,o,a,s,c){var l,u,d,p=t.oClasses,f=t.oLanguage.oPaginate,h=t.oLanguage.oAria.paginate||{},m=0,g=function(n,r){var i,a,d,v,y=p.sPageButtonDisabled,b=function(e){Ue(t,e.data.action,!0)};for(i=0,a=r.length;i<a;i++)if(d=r[i],Array.isArray(d)){var _=e("<"+(d.DT_el||"div")+"/>").appendTo(n);g(_,d)}else{switch(l=null,u=d,v=t.iTabIndex,d){case"ellipsis":n.append('<span class="ellipsis">&#x2026;</span>');break;case"first":l=f.sFirst,0===s&&(v=-1,u+=" "+y);break;case"previous":l=f.sPrevious,0===s&&(v=-1,u+=" "+y);break;case"next":l=f.sNext,0!==c&&s!==c-1||(v=-1,u+=" "+y);break;case"last":l=f.sLast,0!==c&&s!==c-1||(v=-1,u+=" "+y);break;default:l=t.fnFormatNumber(d+1),u=s===d?p.sPageButtonActive:""}null!==l&&(pt(e("<a>",{class:p.sPageButton+" "+u,"aria-controls":t.sTableId,"aria-label":h[d],"data-dt-idx":m,tabindex:v,id:0===o&&"string"==typeof d?t.sTableId+"_"+d:null}).html(l).appendTo(n),{action:d},b),m++)}};try{d=e(i).find(n.activeElement).data("dt-idx")}catch(v){}g(e(i).empty(),a),d!==r&&e(i).find("[data-dt-idx="+d+"]").trigger("focus")}}}),e.extend(c.ext.type.detect,[function(e,t){var n=t.oLanguage.sDecimal;return y(e,n)?"num"+n:null},function(e,t){if(e&&!(e instanceof Date)&&!p.test(e))return null;var n=Date.parse(e);return null!==n&&!isNaN(n)||m(e)?"date":null},function(e,t){var n=t.oLanguage.sDecimal;return y(e,n,!0)?"num-fmt"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return b(e,n)?"html-num"+n:null},function(e,t){var n=t.oLanguage.sDecimal;return b(e,n,!0)?"html-num-fmt"+n:null},function(e,t){return m(e)||"string"==typeof e&&-1!==e.indexOf("<")?"html":null}]),e.extend(c.ext.type.search,{html:function(e){return m(e)?e:"string"==typeof e?e.replace(u," ").replace(d,""):""},string:function(e){return m(e)?e:"string"==typeof e?e.replace(u," "):e}});var Lt=function(e,t,n,r){return 0===e||e&&"-"!==e?(t&&(e=v(e,t)),e.replace&&(n&&(e=e.replace(n,"")),r&&(e=e.replace(r,""))),1*e):-1/0};function Pt(t){e.each({num:function(e){return Lt(e,t)},"num-fmt":function(e){return Lt(e,t,h)},"html-num":function(e){return Lt(e,t,d)},"html-num-fmt":function(e){return Lt(e,t,d,h)}},function(e,n){i.type.order[e+t+"-pre"]=n,e.match(/^html\-/)&&(i.type.search[e+t]=i.type.search.html)})}e.extend(i.type.order,{"date-pre":function(e){var t=Date.parse(e);return isNaN(t)?-1/0:t},"html-pre":function(e){return m(e)?"":e.replace?e.replace(/<.*?>/g,"").toLowerCase():e+""},"string-pre":function(e){return m(e)?"":"string"==typeof e?e.toLowerCase():e.toString?e.toString():""},"string-asc":function(e,t){return e<t?-1:e>t?1:0},"string-desc":function(e,t){return e<t?1:e>t?-1:0}}),Pt(""),e.extend(!0,c.ext.renderer,{header:{_:function(t,n,r,i){e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var c=r.idx;n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[c]?i.sSortAsc:"desc"==s[c]?i.sSortDesc:r.sSortingClass)}})},jqueryui:function(t,n,r,i){e("<div/>").addClass(i.sSortJUIWrapper).append(n.contents()).append(e("<span/>").addClass(i.sSortIcon+" "+r.sSortingClassJUI)).appendTo(n),e(t.nTable).on("order.dt.DT",function(e,o,a,s){if(t===o){var c=r.idx;n.removeClass(i.sSortAsc+" "+i.sSortDesc).addClass("asc"==s[c]?i.sSortAsc:"desc"==s[c]?i.sSortDesc:r.sSortingClass),n.find("span."+i.sSortIcon).removeClass(i.sSortJUIAsc+" "+i.sSortJUIDesc+" "+i.sSortJUI+" "+i.sSortJUIAscAllowed+" "+i.sSortJUIDescAllowed).addClass("asc"==s[c]?i.sSortJUIAsc:"desc"==s[c]?i.sSortJUIDesc:r.sSortingClassJUI)}})}}});var Mt=function(e){return Array.isArray(e)&&(e=e.join(",")),"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):e};function jt(e){return function(){var t=[ct(this[c.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return c.ext.internal[e].apply(this,t)}}return c.render={number:function(e,t,n,r,i){return{display:function(o){if("number"!=typeof o&&"string"!=typeof o)return o;var a=o<0?"-":"",s=parseFloat(o);if(isNaN(s))return Mt(o);s=s.toFixed(n),o=Math.abs(s);var c=parseInt(o,10),l=n?t+(o-c).toFixed(n).substring(2):"";return 0===c&&0===parseFloat(l)&&(a=""),a+(r||"")+c.toString().replace(/\B(?=(\d{3})+(?!\d))/g,e)+l+(i||"")}}},text:function(){return{display:Mt,filter:Mt}}},e.extend(c.ext.internal,{_fnExternApiFunc:jt,_fnBuildAjax:he,_fnAjaxUpdate:me,_fnAjaxParameters:ge,_fnAjaxUpdateDraw:ve,_fnAjaxDataSrc:ye,_fnAddColumn:M,_fnColumnOptions:j,_fnAdjustColumnSizing:F,_fnVisibleToColumnIndex:U,_fnColumnIndexToVisible:B,_fnVisbleColumns:H,_fnGetColumns:J,_fnColumnTypes:G,_fnApplyColumnDefs:W,_fnHungarianMap:D,_fnCamelToHungarian:x,_fnLanguageCompat:k,_fnBrowserDetect:L,_fnAddData:V,_fnAddTr:z,_fnNodeToDataIndex:function(e,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,n,r){return e.inArray(r,t.aoData[n].anCells)},_fnGetCellData:q,_fnSetCellData:K,_fnSplitObjNotation:Y,_fnGetObjectDataFn:Z,_fnSetObjectDataFn:Q,_fnGetDataMaster:ee,_fnClearTable:te,_fnDeleteIndex:ne,_fnInvalidate:re,_fnGetRowElements:ie,_fnCreateTr:oe,_fnBuildHead:se,_fnDrawHead:ce,_fnDraw:le,_fnReDraw:ue,_fnAddOptionsHtml:de,_fnDetectHeader:pe,_fnGetUniqueThs:fe,_fnFeatureHtmlFilter:be,_fnFilterComplete:_e,_fnFilterCustom:Ee,_fnFilterColumn:we,_fnFilter:Se,_fnFilterCreateSearch:Te,_fnEscapeRegex:Ce,_fnFilterData:De,_fnFeatureHtmlInfo:Ie,_fnUpdateInfo:Oe,_fnInfoMacros:Ne,_fnInitialise:Le,_fnInitComplete:Pe,_fnLengthChange:Me,_fnFeatureHtmlLength:je,_fnFeatureHtmlPaginate:Fe,_fnPageChange:Ue,_fnFeatureHtmlProcessing:Be,_fnProcessingDisplay:He,_fnFeatureHtmlTable:Je,_fnScrollDraw:Ge,_fnApplyToChildren:We,_fnCalculateColumnWidths:ze,_fnThrottle:qe,_fnConvertToWidth:Ke,_fnGetWidestNode:$e,_fnGetMaxLenString:Xe,_fnStringToCss:Ye,_fnSortFlatten:Ze,_fnSort:Qe,_fnSortAria:et,_fnSortListener:tt,_fnSortAttachListener:nt,_fnSortingClasses:rt,_fnSortData:it,_fnSaveState:ot,_fnLoadState:at,_fnImplementState:st,_fnSettingsFromNode:ct,_fnLog:lt,_fnMap:ut,_fnBindAction:pt,_fnCallbackReg:ft,_fnCallbackFire:ht,_fnLengthOverflow:mt,_fnRenderer:gt,_fnDataSource:vt,_fnRowAttributes:ae,_fnExtend:dt,_fnCalculateEnd:function(){}}),e.fn.dataTable=c,c.$=e,e.fn.dataTableSettings=c.settings,e.fn.dataTableExt=c.ext,e.fn.DataTable=function(t){return e(this).dataTable(t).api()},e.each(c,function(t,n){e.fn.DataTable[t]=n}),c}),function(e,t){var n=function(){return window.JitsiMeetJS=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){(function(t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){return-1!==t.devices.indexOf("audio")&&(e+=".audio"),-1!==t.devices.indexOf("desktop")&&(e+=".desktop"),-1!==t.devices.indexOf("video")&&(e+=".video."+t.resolution),e}var o=r(n(1)),a=r(n(2)),s=r(n(3)),c=r(n(4)),l=r(n(5)),u=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),d=r(n(7)),p=r(n(8)),f=n(9).getLogger(t),h=n(11),m=n(12),g=n(154),v=n(41),y=n(9),b=n(36),_=n(48),E=n(155),w=n(59),S=n(51),T=n(114),C=n(39),A=n(32),R={version:"development",JitsiConnection:m,events:{conference:a,connection:c,track:p,mediaDevices:l},errors:{conference:o,connection:s,recorder:v,track:d},errorTypes:{JitsiTrackError:u.default},logLevels:y.levels,mediaDevices:g,analytics:null,init:function(e){var t=void 0,n=void 0;if(w.init(e),this.analytics=w.analytics,e.enableWindowOnErrorHandler&&C.addHandler(this.getGlobalOnErrorHandler.bind(this)),window.jitsiRegionInfo&&Object.keys(window.jitsiRegionInfo).length>0){for(n in t={},window.jitsiRegionInfo)window.jitsiRegionInfo.hasOwnProperty(n)&&(t[n]=window.jitsiRegionInfo[n]);t.id="deployment_info",w.sendLog(JSON.stringify(t))}return this.version&&(t={id:"component_version",component:"lib-jitsi-meet",version:this.version},w.sendLog(JSON.stringify(t))),_.init(e||{})},isDesktopSharingEnabled:function(){return _.isDesktopSharingEnabled()},setLogLevel:function(e){y.setLogLevel(e)},createLocalTracks:function(e,t){var n=!1;return!0===t&&window.setTimeout(function(){n||g.emitEvent(l.PERMISSION_PROMPT_IS_SHOWN,A.getBrowserName())},500),window.connectionTimes||(window.connectionTimes={}),window.connectionTimes["obtainPermissions.start"]=window.performance.now(),_.obtainAudioAndVideoPermissions(e||{}).then(function(t){if(n=!0,window.connectionTimes["obtainPermissions.end"]=window.performance.now(),w.analytics.sendEvent(i("getUserMedia.success",e),{value:e}),!_.options.disableAudioLevels)for(var r=0;r<t.length;r++){var o=t[r],a=o.getOriginalStream();o.getType()===b.AUDIO&&(w.startLocalStats(a,o.setAudioLevel.bind(o)),o.addEventListener(p.LOCAL_TRACK_STOPPED,function(){w.stopLocalStats(a)}))}var s=_.getCurrentlyAvailableMediaDevices();if(s)for(var c=0;c<t.length;c++)t[c]._setRealDeviceIdFromDeviceList(s);return t}).catch((function(t){if(n=!0,t.name===d.UNSUPPORTED_RESOLUTION){var r=e.resolution||"360",o=function(e){if(!S[e])return null;var t=S[e].order,n=null,r=null;for(var i in S){var o=S[i];(!n||n.order<o.order&&o.order<t)&&(r=i,n=o)}return r}(r);if(null!==o)return e.resolution=o,f.debug("Retry createLocalTracks with resolution",o),w.analytics.sendEvent("getUserMedia.fail.resolution."+r),R.createLocalTracks(e)}return d.CHROME_EXTENSION_USER_CANCELED===t.name?(w.sendLog(JSON.stringify({id:"chrome_extension_user_canceled",message:t.message})),w.analytics.sendEvent("getUserMedia.userCancel.extensionInstall")):d.NOT_FOUND===t.name?(w.sendLog(JSON.stringify({id:"usermedia_missing_device",status:t.gum.devices})),w.analytics.sendEvent("getUserMedia.deviceNotFound."+t.gum.devices.join("."))):(w.sendGetUserMediaFailed(t),w.analytics.sendEvent(i("getUserMedia.failed",e)+"."+t.name,{value:e})),window.connectionTimes["obtainPermissions.end"]=window.performance.now(),Promise.reject(t)}).bind(this))},isDeviceListAvailable:function(){return f.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceListAvailable instead"),this.mediaDevices.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return f.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.isDeviceChangeAvailable instead"),this.mediaDevices.isDeviceChangeAvailable(e)},enumerateDevices:function(e){f.warn("This method is deprecated, use JitsiMeetJS.mediaDevices.enumerateDevices instead"),this.mediaDevices.enumerateDevices(e)},getGlobalOnErrorHandler:function(e,t,n,r,i){f.error("UnhandledError: "+e,"Script: "+t,"Line: "+n,"Column: "+r,"StackTrace: ",i),w.reportGlobalError(i)},util:{ScriptUtil:T,RTCUIHelper:E,AuthUtil:h}};e.exports=R}).call(t,"JitsiMeetJS.js")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTHENTICATION_REQUIRED="conference.authenticationRequired",t.CHAT_ERROR="conference.chatError",t.CONFERENCE_DESTROYED="conference.destroyed",t.CONFERENCE_MAX_USERS="conference.max_users",t.CONNECTION_ERROR="conference.connectionError",t.NOT_ALLOWED_ERROR="conference.connectionError.notAllowed",t.FOCUS_DISCONNECTED="conference.focusDisconnected",t.FOCUS_LEFT="conference.focusLeft",t.GRACEFUL_SHUTDOWN="conference.gracefulShutdown",t.INCOMPATIBLE_SERVER_VERSIONS="conference.incompatible_server_versions",t.JINGLE_FATAL_ERROR="conference.jingleFatalError",t.PASSWORD_NOT_SUPPORTED="conference.passwordNotSupported",t.PASSWORD_REQUIRED="conference.passwordRequired",t.RESERVATION_ERROR="conference.reservationError",t.SETUP_FAILED="conference.setup_failed",t.VIDEOBRIDGE_NOT_AVAILABLE="conference.videobridgeNotAvailable"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_STATUS_CHANGED="conference.auth_status_changed",t.AVAILABLE_DEVICES_CHANGED="conference.availableDevicesChanged",t.AVATAR_CHANGED="conference.avatarChanged",t.CONFERENCE_ERROR="conference.error",t.CONFERENCE_FAILED="conference.failed",t.CONFERENCE_JOINED="conference.joined",t.CONFERENCE_LEFT="conference.left",t.CONNECTION_INTERRUPTED="conference.connectionInterrupted",t.CONNECTION_RESTORED="conference.connectionRestored",t.CONNECTION_STATS="conference.connectionStats",t.DISPLAY_NAME_CHANGED="conference.displayNameChanged",t.DOMINANT_SPEAKER_CHANGED="conference.dominantSpeaker",t.DTMF_SUPPORT_CHANGED="conference.dtmfSupportChanged",t.ENDPOINT_MESSAGE_RECEIVED="conference.endpoint_message_received",t.IN_LAST_N_CHANGED="conference.inLastNChanged",t.KICKED="conferenece.kicked",t.LAST_N_ENDPOINTS_CHANGED="conference.lastNEndpointsChanged",t.LOCK_STATE_CHANGED="conference.lock_state_changed",t.MESSAGE_RECEIVED="conference.messageReceived",t.PARTICIPANT_CONN_STATUS_CHANGED="conference.participant_conn_status_changed",t.PARTICIPANT_PROPERTY_CHANGED="conference.participant_property_changed",t.PHONE_NUMBER_CHANGED="conference.phoneNumberChanged",t.RECORDER_STATE_CHANGED="conference.recorderStateChanged",t.START_MUTED_POLICY_CHANGED="conference.start_muted_policy_changed",t.STARTED_MUTED="conference.started_muted",t.SUBJECT_CHANGED="conference.subjectChanged",t.TALK_WHILE_MUTED="conference.talk_while_muted",t.TRACK_ADDED="conference.trackAdded",t.TRACK_AUDIO_LEVEL_CHANGED="conference.audioLevelsChanged",t.TRACK_MUTE_CHANGED="conference.trackMuteChanged",t.TRACK_REMOVED="conference.trackRemoved",t.USER_JOINED="conference.userJoined",t.USER_LEFT="conference.userLeft",t.USER_ROLE_CHANGED="conference.roleChanged",t.USER_STATUS_CHANGED="conference.statusChanged"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_ERROR="connection.connectionError",t.OTHER_ERROR="connection.otherError",t.PASSWORD_REQUIRED="connection.passwordRequired"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONNECTION_DISCONNECTED="connection.connectionDisconnected",t.CONNECTION_ESTABLISHED="connection.connectionEstablished",t.CONNECTION_FAILED="connection.connectionFailed",t.WRONG_STATE="connection.wrongState"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEVICE_LIST_CHANGED="mediaDevices.devicechange",t.PERMISSION_PROMPT_IS_SHOWN="mediaDevices.permissionPromptIsShown"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),o={};o[i.UNSUPPORTED_RESOLUTION]="Video resolution is not supported: ",o[i.FIREFOX_EXTENSION_NEEDED]="Firefox extension is not installed",o[i.CHROME_EXTENSION_INSTALLATION_ERROR]="Failed to install Chrome extension",o[i.CHROME_EXTENSION_USER_CANCELED]="User canceled Chrome's screen sharing prompt",o[i.CHROME_EXTENSION_GENERIC_ERROR]="Unknown error from Chrome extension",o[i.GENERAL]="Generic getUserMedia error",o[i.PERMISSION_DENIED]="User denied permission to use device(s): ",o[i.NOT_FOUND]="Requested device(s) was/were not found: ",o[i.CONSTRAINT_FAILED]="Constraint could not be satisfied: ",o[i.TRACK_IS_DISPOSED]="Track has been already disposed",o[i.TRACK_NO_STREAM_FOUND]="Track does not have an associated Media Stream",o[i.TRACK_MUTE_UNMUTE_IN_PROGRESS]="Track mute/unmute process is currently in progress",o[i.NO_DATA_FROM_SOURCE]="The track has stopped receiving data from it's source";var a=function(e){function t(e,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var s=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if("object"===(void 0===e?"undefined":r(e))&&void 0!==e.name)switch(s.gum={error:e,constraints:n,devices:a&&Array.isArray(a)?a.slice(0):void 0},e.name){case"PermissionDeniedError":case"SecurityError":s.name=i.PERMISSION_DENIED,s.message=o[s.name]+(s.gum.devices||[]).join(", ");break;case"DevicesNotFoundError":case"NotFoundError":s.name=i.NOT_FOUND,s.message=o[s.name]+(s.gum.devices||[]).join(", ");break;case"ConstraintNotSatisfiedError":case"OverconstrainedError":var c=e.constraintName;n&&n.video&&(!a||a.indexOf("video")>-1)&&("minWidth"===c||"maxWidth"===c||"minHeight"===c||"maxHeight"===c||"width"===c||"height"===c)?(s.name=i.UNSUPPORTED_RESOLUTION,s.message=o[s.name]+function(e,t){if(t&&t.video&&t.video.mandatory)switch(e){case"width":return t.video.mandatory.minWidth;case"height":return t.video.mandatory.minHeight;default:return t.video.mandatory[e]||""}return""}(c,n)):(s.name=i.CONSTRAINT_FAILED,s.message=o[s.name]+e.constraintName);break;default:s.name=i.GENERAL,s.message=e.message||o[s.name]}else{if("string"!=typeof e)throw new Error("Invalid arguments");o[e]?(s.name=e,s.message=n||o[e]):s.message=e}return s.stack=e.stack||(new Error).stack,s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,Error),t}();t.default=a},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHROME_EXTENSION_GENERIC_ERROR="gum.chrome_extension_generic_error",t.CHROME_EXTENSION_INSTALLATION_ERROR="gum.chrome_extension_installation_error",t.CHROME_EXTENSION_USER_CANCELED="gum.chrome_extension_user_canceled",t.CONSTRAINT_FAILED="gum.constraint_failed",t.FIREFOX_EXTENSION_NEEDED="gum.firefox_extension_needed",t.GENERAL="gum.general",t.NOT_FOUND="gum.not_found",t.PERMISSION_DENIED="gum.permission_denied",t.TRACK_IS_DISPOSED="track.track_is_disposed",t.TRACK_MUTE_UNMUTE_IN_PROGRESS="track.mute_unmute_inprogress",t.TRACK_NO_STREAM_FOUND="track.no_stream_found",t.UNSUPPORTED_RESOLUTION="gum.unsupported_resolution",t.NO_DATA_FROM_SOURCE="track.no_data_from_source"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LOCAL_TRACK_STOPPED="track.stopped",t.TRACK_AUDIO_LEVEL_CHANGED="track.audioLevelsChanged",t.TRACK_AUDIO_NOT_WORKING="track.audioNotWorking",t.TRACK_AUDIO_OUTPUT_CHANGED="track.audioOutputChanged",t.TRACK_MUTE_CHANGED="track.trackMuteChanged",t.TRACK_VIDEOTYPE_CHANGED="track.videoTypeChanged",t.NO_DATA_FROM_SOURCE="track.no_data_from_source"},function(e,t,n){var r=n(10),i={},o=[],a=r.levels.TRACE;e.exports={getLogger:function(e,t,n){var s=new r(a,e,t,n);return e?(i[e]=i[e]||[],i[e].push(s)):o.push(s),s},setLogLevelById:function(e,t){for(var n=t?i[t]||[]:o,r=0;r<n.length;r++)n[r].setLevel(e)},setLogLevel:function(e){a=e;for(var t=0;t<o.length;t++)o[t].setLevel(e);for(var n in i){var r=i[n]||[];for(t=0;t<r.length;t++)r[t].setLevel(e)}},levels:r.levels}},function(e,t){function n(){var e={methodName:"",fileLocation:"",line:null,column:null},t=new Error,n=t.stack?t.stack.split("\n"):[];if(!n||n.length<1)return e;var r=null;return n[3]&&(r=n[3].match(/\s*at\s*(.+?)\s*\((\S*)\s*:(\d*)\s*:(\d*)\)/)),!r||r.length<=4?(e.methodName=0===n[2].indexOf("log@")?n[3].substr(0,n[3].indexOf("@")):n[2].substr(0,n[2].indexOf("@")),e):(e.methodName=r[1],e.fileLocation=r[2],e.line=r[3],e.column=r[4],e)}function r(){var e=arguments[0],t=arguments[1],r=Array.prototype.slice.call(arguments,2);if(!(o[t]<=e.level))for(var i=n(),a=0;a<e.transports.length;a++){var s=e.transports[a],c=s[t];c&&"function"==typeof c&&c.bind(s,e.id?"["+e.id+"]":"","<"+i.methodName+">: ").apply(s,r)}}function i(e,t,n,a){this.id=t,this.format=a,this.transports||(this.transports=[],this.transports.push(i.consoleTransport)),this.level=o[e];for(var s=Object.keys(o),c=0;c<s.length;c++)this[s[c]]=r.bind(null,this,s[c])}var o={trace:0,debug:1,info:2,log:3,warn:4,error:5};i.prototype.setLevel=function(e){this.level=o[e]},e.exports=i,i.consoleTransport=console,i.levels={TRACE:"trace",DEBUG:"debug",INFO:"info",LOG:"log",WARN:"warn",ERROR:"error"}},function(e,t){"use strict";e.exports={getTokenAuthUrl:function(e,t,n){return"string"!=typeof e?null:e.replace("{room}",t).replace("{roleUpgrade}",!0===n)}}},function(e,t,n){"use strict";function r(e,t,n){this.appID=e,this.token=t,this.options=n,this.xmpp=new o.default(n,t),this.conferences={},this.addEventListener(i.CONNECTION_FAILED,(function(e,t){s.sendEventToAll("connection.failed."+e,{label:t})}).bind(this)),this.addEventListener(i.CONNECTION_DISCONNECTED,function(e){e&&s.analytics.sendEvent("connection.disconnected."+e),s.sendLog(JSON.stringify({id:"connection.disconnected",msg:e}))})}var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(4)),o=function(e){return e&&e.__esModule?e:{default:e}}(n(13)),a=n(138),s=n(59);r.prototype.connect=function(e){e||(e={}),this.xmpp.connect(e.id,e.password)},r.prototype.attach=function(e){this.xmpp.attach(e)},r.prototype.disconnect=function(){var e=this.xmpp;e.disconnect.apply(e,arguments)},r.prototype.setToken=function(e){this.token=e},r.prototype.initJitsiConference=function(e,t){var n=new a({name:e,config:t,connection:this});return this.conferences[e]=n,n},r.prototype.addEventListener=function(e,t){this.xmpp.addListener(e,t)},r.prototype.removeEventListener=function(e,t){this.xmpp.removeListener(e,t)},r.prototype.getConnectionTimes=function(){return this.xmpp.connectionTimes},e.exports=r},function(e,t,n){(function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(9),s=i(n(14)),c=i(n(15)),l=i(n(31)),u=r(n(3)),d=r(n(4)),p=i(n(32)),f=i(n(33)),h=i(n(43)),m=i(n(134)),g=i(n(135)),v=i(n(136)),y=i(n(137)),b=(0,a.getLogger)(e),_=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.eventEmitter=new s.default,this.connection=null,this.disconnectInProgress=!1,this.connectionTimes={},this.forceMuted=!1,this.options=t,this.connectParams={},this.token=n,this.authenticatedUser=!1,this._initStrophePlugins(this),this.connection=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/http-bind";return e&&(t+=(-1==t.indexOf("?")?"?":"&")+"token="+e),new Strophe.Connection(t)}(n,t.bosh),!this.connection.disco||!this.connection.caps)throw new Error("Missing strophe-plugins (disco and caps plugins are required)!");this.initFeaturesList(),$(window).on("beforeunload unload",this.disconnect.bind(this))}return o(e,[{key:"initFeaturesList",value:function(){var e=this.connection.disco;e&&(e.addFeature("urn:xmpp:jingle:1"),e.addFeature("urn:xmpp:jingle:apps:rtp:1"),e.addFeature("urn:xmpp:jingle:transports:ice-udp:1"),e.addFeature("urn:xmpp:jingle:apps:dtls:0"),e.addFeature("urn:xmpp:jingle:transports:dtls-sctp:1"),e.addFeature("urn:xmpp:jingle:apps:rtp:audio"),e.addFeature("urn:xmpp:jingle:apps:rtp:video"),(p.default.isChrome()||p.default.isOpera()||p.default.isTemasysPluginUsed())&&e.addFeature("urn:ietf:rfc:4588"),e.addFeature("urn:ietf:rfc:5761"),e.addFeature("urn:ietf:rfc:5888"),p.default.isChrome()&&!1!==this.options.enableLipSync&&(b.info("Lip-sync enabled !"),e.addFeature("http://jitsi.org/meet/lipsync")))}},{key:"getConnection",value:function(){return this.connection}},{key:"connectionHandler",value:function(e,t,n){var r=window.performance.now(),i=Strophe.getStatusString(t).toLowerCase();if(this.connectionTimes[i]=r,b.log("(TIME) Strophe "+i+(n?"["+n+"]":"")+":\t",r),t===Strophe.Status.CONNECTED||t===Strophe.Status.ATTACHED){this.options.useStunTurn&&this.connection.jingle.getStunAndTurnCredentials(),b.info("My Jabber ID: "+this.connection.jid);var o=this.connection.domain;this.connection.ping.hasPingSupport(o,(function(e){e?this.connection.ping.startInterval(o):b.warn("Ping NOT supported by "+o)}).bind(this)),e&&(this.authenticatedUser=!0),this.connection&&this.connection.connected&&Strophe.getResourceFromJid(this.connection.jid)&&this.eventEmitter.emit(d.CONNECTION_ESTABLISHED,Strophe.getResourceFromJid(this.connection.jid))}else t===Strophe.Status.CONNFAIL?("x-strophe-bad-non-anon-jid"===n?this.anonymousConnectionFailed=!0:this.connectionFailed=!0,this.lastErrorMsg=n):t===Strophe.Status.DISCONNECTED?(this.connection.ping.stopInterval(),this.disconnectInProgress=!1,this.anonymousConnectionFailed?this.eventEmitter.emit(d.CONNECTION_FAILED,u.PASSWORD_REQUIRED):this.connectionFailed?this.eventEmitter.emit(d.CONNECTION_FAILED,u.OTHER_ERROR,n||this.lastErrorMsg):this.eventEmitter.emit(d.CONNECTION_DISCONNECTED,n||this.lastErrorMsg)):t===Strophe.Status.AUTHFAIL&&this.eventEmitter.emit(d.CONNECTION_FAILED,u.PASSWORD_REQUIRED)}},{key:"_connect",value:function(e,t){this.anonymousConnectionFailed=!1,this.connectionFailed=!1,this.lastErrorMsg=void 0,this.connection.connect(e,t,this.connectionHandler.bind(this,t))}},{key:"attach",value:function(e){var t=this.connectionTimes.attaching=window.performance.now();b.log("(TIME) Strophe Attaching\t:"+t),this.connection.attach(e.jid,e.sid,parseInt(e.rid,10)+1,this.connectionHandler.bind(this,e.password))}},{key:"connect",value:function(e,t){if(this.connectParams={jid:e,password:t},!e){var n=this.options.hosts.anonymousdomain||this.options.hosts.domain;this.options.hosts.anonymousdomain&&(-1!==window.location.search.indexOf("login=true")||this.options.token)&&(n=this.options.hosts.domain),e=n||window.location.hostname}return this._connect(e,t)}},{key:"createRoom",value:function(e,t,n){var r=Strophe.getNodeFromJid(this.connection.jid),i=e+"@"+this.options.hosts.muc+"/",o=t.useNicks&&t.nick?t.nick:null;return o?r=t.nick:this.authenticatedUser||(r=r.substr(0,8)),(this.authenticatedUser||null!=o)&&(r+="-"+l.default.randomHexString(6)),this.connection.emuc.createRoom(i+=r,null,t,n)}},{key:"addListener",value:function(e,t){this.eventEmitter.on(e,t)}},{key:"removeListener",value:function(e,t){this.eventEmitter.removeListener(e,t)}},{key:"sendLogs",value:function(e){if(!this.connection.emuc.focusMucJid)return!1;var t=Base64.encode(String.fromCharCode.apply(null,c.default.deflateRaw(JSON.stringify(e)))),n=$msg({to:this.connection.emuc.focusMucJid,type:"normal"});return n.c("log",{xmlns:"urn:xmpp:eventlog",id:"PeerConnectionStats"}),n.c("message").t(t).up(),n.c("tag",{name:"deflated",value:"true"}).up(),n.up(),this.connection.send(n),!0}},{key:"getJingleLog",value:function(){var e=this.connection.jingle;return e?e.getLog():{}}},{key:"getXmppLog",value:function(){return(this.connection.logger||{}).log||null}},{key:"dial",value:function(e,t,n,r){this.connection.rayo.dial(e,t,n,r)}},{key:"setMute",value:function(e,t){this.connection.moderate.setMute(e,t)}},{key:"eject",value:function(e){this.connection.moderate.eject(e)}},{key:"getSessions",value:function(){return this.connection.jingle.sessions}},{key:"disconnect",value:function(e){if(!this.disconnectInProgress&&this.connection&&this.connection.connected){if(this.disconnectInProgress=!0,this.connection.flush(),null!=e){var t=e.type;"beforeunload"!=t&&"unload"!=t||(this.connection.options.sync=!0)}this.connection.disconnect(),!0!==this.connection.options.sync&&this.connection.flush()}else this.eventEmitter.emit(d.WRONG_STATE)}},{key:"_initStrophePlugins",value:function(){(0,f.default)(this),(0,h.default)(this,this.eventEmitter),(0,m.default)(),(0,g.default)(this,this.eventEmitter),(0,v.default)(),(0,y.default)()}}]),e}();t.default=_}).call(t,"modules/xmpp/xmpp.js")},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function i(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!function(e){return"number"==typeof e}(e)||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,s,c,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||i(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(i(n))for(s=Array.prototype.slice.call(arguments,1),a=(l=n.slice()).length,c=0;c<a;c++)l[c].apply(this,s);return!0},n.prototype.on=n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?i(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,i(this._events[e])&&!this._events[e].warned&&(a=o(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.once=function(e,t){function n(){this.removeListener(e,n),i||(i=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var i=!1;return n.listener=t,this.on(e,n),this},n.prototype.removeListener=function(e,t){var n,o,a,s;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,o=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(i(n)){for(s=a;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){o=s;break}if(o<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(o,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";var r={};(0,n(16).assign)(r,n(17),n(25),n(29)),e.exports=r},function(e,t){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;t.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r])}}return e},t.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,r,i){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+r),i);else for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){var t,n,r,i,o,a;for(r=0,t=0,n=e.length;t<n;t++)r+=e[t].length;for(a=new Uint8Array(r),i=0,t=0,n=e.length;t<n;t++)a.set(o=e[t],i),i+=o.length;return a}},i={arraySet:function(e,t,n,r,i){for(var o=0;o<r;o++)e[i+o]=t[n+o]},flattenChunks:function(e){return[].concat.apply([],e)}};t.setTyped=function(e){e?(t.Buf8=Uint8Array,t.Buf16=Uint16Array,t.Buf32=Int32Array,t.assign(t,r)):(t.Buf8=Array,t.Buf16=Array,t.Buf32=Array,t.assign(t,i))},t.setTyped(n)},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({level:p,method:h,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var n=o.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==d)throw new Error(c[n]);if(t.header&&o.deflateSetHeader(this.strm,t.header),t.dictionary){var i;if(i="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===u.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(n=o.deflateSetDictionary(this.strm,i))!==d)throw new Error(c[n]);this._dict_set=!0}}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}var o=n(18),a=n(16),s=n(23),c=n(22),l=n(24),u=Object.prototype.toString,d=0,p=-1,f=0,h=8;r.prototype.push=function(e,t){var n,r,i=this.strm,c=this.options.chunkSize;if(this.ended)return!1;r=t===~~t?t:!0===t?4:0,i.input="string"==typeof e?s.string2buf(e):"[object ArrayBuffer]"===u.call(e)?new Uint8Array(e):e,i.next_in=0,i.avail_in=i.input.length;do{if(0===i.avail_out&&(i.output=new a.Buf8(c),i.next_out=0,i.avail_out=c),1!==(n=o.deflate(i,r))&&n!==d)return this.onEnd(n),this.ended=!0,!1;0!==i.avail_out&&(0!==i.avail_in||4!==r&&2!==r)||this.onData("string"===this.options.to?s.buf2binstring(a.shrinkBuf(i.output,i.next_out)):a.shrinkBuf(i.output,i.next_out))}while((i.avail_in>0||0===i.avail_out)&&1!==n);return 4===r?(n=o.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===d):2!==r||(this.onEnd(d),i.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===d&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Deflate=r,t.deflate=i,t.deflateRaw=function(e,t){return(t=t||{}).raw=!0,i(e,t)},t.gzip=function(e,t){return(t=t||{}).gzip=!0,i(e,t)}},function(e,t,n){"use strict";function r(e,t){return e.msg=C[t],t}function i(e){return(e<<1)-(e>4?9:0)}function o(e){for(var t=e.length;--t>=0;)e[t]=0}function a(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(E.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function s(e,t){w._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,a(e.strm)}function c(e,t){e.pending_buf[e.pending++]=t}function l(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function u(e,t,n,r){var i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,E.arraySet(t,e.input,e.next_in,i,n),1===e.state.wrap?e.adler=S(e.adler,t,i,n):2===e.state.wrap&&(e.adler=T(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)}function d(e,t){var n,r,i=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-G?e.strstart-(e.w_size-G):0,l=e.window,u=e.w_mask,d=e.prev,p=e.strstart+J,f=l[o+a-1],h=l[o+a];e.prev_length>=e.good_match&&(i>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(n=t)+a]===h&&l[n+a-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<p);if(r=J-(p-o),o=p-J,r>a){if(e.match_start=t,a=r,r>=s)break;f=l[o+a-1],h=l[o+a]}}}while((t=d[t&u])>c&&0!=--i);return a<=e.lookahead?a:e.lookahead}function p(e){var t,n,r,i,o,a=e.w_size;do{if(i=e.window_size-e.lookahead-e.strstart,e.strstart>=a+(a-G)){E.arraySet(e.window,e.window,a,a,0),e.match_start-=a,e.strstart-=a,e.block_start-=a,t=n=e.hash_size;do{r=e.head[--t],e.head[t]=r>=a?r-a:0}while(--n);t=n=a;do{r=e.prev[--t],e.prev[t]=r>=a?r-a:0}while(--n);i+=a}if(0===e.strm.avail_in)break;if(n=u(e.strm,e.window,e.strstart+e.lookahead,i),e.lookahead+=n,e.lookahead+e.insert>=H)for(e.ins_h=e.window[o=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[o+H-1])&e.hash_mask,e.prev[o&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=o,o++,e.insert--,!(e.lookahead+e.insert<H)););}while(e.lookahead<G&&0!==e.strm.avail_in)}function f(e,t){for(var n,r;;){if(e.lookahead<G){if(p(e),e.lookahead<G&&t===A)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=H&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-G&&(e.match_length=d(e,n)),e.match_length>=H)if(r=w._tr_tally(e,e.strstart-e.match_start,e.match_length-H),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=H){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else r=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=e.strstart<H-1?e.strstart:H-1,t===R?(s(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}function h(e,t){for(var n,r,i;;){if(e.lookahead<G){if(p(e),e.lookahead<G&&t===A)return K;if(0===e.lookahead)break}if(n=0,e.lookahead>=H&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=H-1,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-G&&(e.match_length=d(e,n),e.match_length<=5&&(e.strategy===I||e.match_length===H&&e.strstart-e.match_start>4096)&&(e.match_length=H-1)),e.prev_length>=H&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-H,r=w._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-H),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+H-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=H-1,e.strstart++,r&&(s(e,!1),0===e.strm.avail_out))return K}else if(e.match_available){if((r=w._tr_tally(e,0,e.window[e.strstart-1]))&&s(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return K}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=w._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<H-1?e.strstart:H-1,t===R?(s(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}function m(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}function g(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=L,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(2*U),this.dyn_dtree=new E.Buf16(2*(2*j+1)),this.bl_tree=new E.Buf16(2*(2*F+1)),o(this.dyn_ltree),o(this.dyn_dtree),o(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(B+1),this.heap=new E.Buf16(2*M+1),o(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(2*M+1),o(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function v(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=N,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?W:z,e.adler=2===t.wrap?0:1,t.last_flush=A,w._tr_init(t),D):r(e,x)}function y(e){var t=v(e);return t===D&&function(e){e.window_size=2*e.w_size,o(e.head),e.max_lazy_match=_[e.level].max_lazy,e.good_match=_[e.level].good_length,e.nice_match=_[e.level].nice_length,e.max_chain_length=_[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=H-1,e.match_available=0,e.ins_h=0}(e.state),t}function b(e,t,n,i,o,a){if(!e)return x;var s=1;if(t===k&&(t=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),o<1||o>P||n!==L||i<8||i>15||t<0||t>9||a<0||a>O)return r(e,x);8===i&&(i=9);var c=new g;return e.state=c,c.strm=e,c.wrap=s,c.gzhead=null,c.w_bits=i,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+H-1)/H),c.window=new E.Buf8(2*c.w_size),c.head=new E.Buf16(c.hash_size),c.prev=new E.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new E.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=n,y(e)}var _,E=n(16),w=n(19),S=n(20),T=n(21),C=n(22),A=0,R=4,D=0,x=-2,k=-1,I=1,O=4,N=2,L=8,P=9,M=286,j=30,F=19,U=2*M+1,B=15,H=3,J=258,G=J+H+1,W=42,V=103,z=113,q=666,K=1,$=2,X=3,Y=4;_=[new m(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(p(e),0===e.lookahead&&t===A)return K;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var r=e.block_start+n;if((0===e.strstart||e.strstart>=r)&&(e.lookahead=e.strstart-r,e.strstart=r,s(e,!1),0===e.strm.avail_out))return K;if(e.strstart-e.block_start>=e.w_size-G&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===R?(s(e,!0),0===e.strm.avail_out?X:Y):(e.strstart>e.block_start&&s(e,!1),K)}),new m(4,4,8,4,f),new m(4,5,16,8,f),new m(4,6,32,32,f),new m(4,4,16,16,h),new m(8,16,32,32,h),new m(8,16,128,128,h),new m(8,32,128,256,h),new m(32,128,258,1024,h),new m(32,258,258,4096,h)],t.deflateInit=function(e,t){return b(e,t,L,15,8,0)},t.deflateInit2=b,t.deflateReset=y,t.deflateResetKeep=v,t.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?x:(e.state.gzhead=t,D):x},t.deflate=function(e,t){var n,u,d,f;if(!e||!e.state||t>5||t<0)return e?r(e,x):x;if(u=e.state,!e.output||!e.input&&0!==e.avail_in||u.status===q&&t!==R)return r(e,0===e.avail_out?-5:x);if(u.strm=e,n=u.last_flush,u.last_flush=t,u.status===W)if(2===u.wrap)e.adler=0,c(u,31),c(u,139),c(u,8),u.gzhead?(c(u,(u.gzhead.text?1:0)+(u.gzhead.hcrc?2:0)+(u.gzhead.extra?4:0)+(u.gzhead.name?8:0)+(u.gzhead.comment?16:0)),c(u,255&u.gzhead.time),c(u,u.gzhead.time>>8&255),c(u,u.gzhead.time>>16&255),c(u,u.gzhead.time>>24&255),c(u,9===u.level?2:u.strategy>=2||u.level<2?4:0),c(u,255&u.gzhead.os),u.gzhead.extra&&u.gzhead.extra.length&&(c(u,255&u.gzhead.extra.length),c(u,u.gzhead.extra.length>>8&255)),u.gzhead.hcrc&&(e.adler=T(e.adler,u.pending_buf,u.pending,0)),u.gzindex=0,u.status=69):(c(u,0),c(u,0),c(u,0),c(u,0),c(u,0),c(u,9===u.level?2:u.strategy>=2||u.level<2?4:0),c(u,3),u.status=z);else{var h=L+(u.w_bits-8<<4)<<8;h|=(u.strategy>=2||u.level<2?0:u.level<6?1:6===u.level?2:3)<<6,0!==u.strstart&&(h|=32),h+=31-h%31,u.status=z,l(u,h),0!==u.strstart&&(l(u,e.adler>>>16),l(u,65535&e.adler)),e.adler=1}if(69===u.status)if(u.gzhead.extra){for(d=u.pending;u.gzindex<(65535&u.gzhead.extra.length)&&(u.pending!==u.pending_buf_size||(u.gzhead.hcrc&&u.pending>d&&(e.adler=T(e.adler,u.pending_buf,u.pending-d,d)),a(e),d=u.pending,u.pending!==u.pending_buf_size));)c(u,255&u.gzhead.extra[u.gzindex]),u.gzindex++;u.gzhead.hcrc&&u.pending>d&&(e.adler=T(e.adler,u.pending_buf,u.pending-d,d)),u.gzindex===u.gzhead.extra.length&&(u.gzindex=0,u.status=73)}else u.status=73;if(73===u.status)if(u.gzhead.name){d=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>d&&(e.adler=T(e.adler,u.pending_buf,u.pending-d,d)),a(e),d=u.pending,u.pending===u.pending_buf_size)){f=1;break}f=u.gzindex<u.gzhead.name.length?255&u.gzhead.name.charCodeAt(u.gzindex++):0,c(u,f)}while(0!==f);u.gzhead.hcrc&&u.pending>d&&(e.adler=T(e.adler,u.pending_buf,u.pending-d,d)),0===f&&(u.gzindex=0,u.status=91)}else u.status=91;if(91===u.status)if(u.gzhead.comment){d=u.pending;do{if(u.pending===u.pending_buf_size&&(u.gzhead.hcrc&&u.pending>d&&(e.adler=T(e.adler,u.pending_buf,u.pending-d,d)),a(e),d=u.pending,u.pending===u.pending_buf_size)){f=1;break}f=u.gzindex<u.gzhead.comment.length?255&u.gzhead.comment.charCodeAt(u.gzindex++):0,c(u,f)}while(0!==f);u.gzhead.hcrc&&u.pending>d&&(e.adler=T(e.adler,u.pending_buf,u.pending-d,d)),0===f&&(u.status=V)}else u.status=V;if(u.status===V&&(u.gzhead.hcrc?(u.pending+2>u.pending_buf_size&&a(e),u.pending+2<=u.pending_buf_size&&(c(u,255&e.adler),c(u,e.adler>>8&255),e.adler=0,u.status=z)):u.status=z),0!==u.pending){if(a(e),0===e.avail_out)return u.last_flush=-1,D}else if(0===e.avail_in&&i(t)<=i(n)&&t!==R)return r(e,-5);if(u.status===q&&0!==e.avail_in)return r(e,-5);if(0!==e.avail_in||0!==u.lookahead||t!==A&&u.status!==q){var m=2===u.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(p(e),0===e.lookahead)){if(t===A)return K;break}if(e.match_length=0,n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===R?(s(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}(u,t):3===u.strategy?function(e,t){for(var n,r,i,o,a=e.window;;){if(e.lookahead<=J){if(p(e),e.lookahead<=J&&t===A)return K;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=H&&e.strstart>0&&(r=a[i=e.strstart-1])===a[++i]&&r===a[++i]&&r===a[++i]){o=e.strstart+J;do{}while(r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&r===a[++i]&&i<o);e.match_length=J-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=H?(n=w._tr_tally(e,1,e.match_length-H),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=w._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(s(e,!1),0===e.strm.avail_out))return K}return e.insert=0,t===R?(s(e,!0),0===e.strm.avail_out?X:Y):e.last_lit&&(s(e,!1),0===e.strm.avail_out)?K:$}(u,t):_[u.level].func(u,t);if(m!==X&&m!==Y||(u.status=q),m===K||m===X)return 0===e.avail_out&&(u.last_flush=-1),D;if(m===$&&(1===t?w._tr_align(u):5!==t&&(w._tr_stored_block(u,0,0,!1),3===t&&(o(u.head),0===u.lookahead&&(u.strstart=0,u.block_start=0,u.insert=0))),a(e),0===e.avail_out))return u.last_flush=-1,D}return t!==R?D:u.wrap<=0?1:(2===u.wrap?(c(u,255&e.adler),c(u,e.adler>>8&255),c(u,e.adler>>16&255),c(u,e.adler>>24&255),c(u,255&e.total_in),c(u,e.total_in>>8&255),c(u,e.total_in>>16&255),c(u,e.total_in>>24&255)):(l(u,e.adler>>>16),l(u,65535&e.adler)),a(e),u.wrap>0&&(u.wrap=-u.wrap),0!==u.pending?D:1)},t.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==W&&69!==t&&73!==t&&91!==t&&t!==V&&t!==z&&t!==q?r(e,x):(e.state=null,t===z?r(e,-3):D):x},t.deflateSetDictionary=function(e,t){var n,r,i,a,s,c,l,u,d=t.length;if(!e||!e.state)return x;if(2===(a=(n=e.state).wrap)||1===a&&n.status!==W||n.lookahead)return x;for(1===a&&(e.adler=S(e.adler,t,d,0)),n.wrap=0,d>=n.w_size&&(0===a&&(o(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new E.Buf8(n.w_size),E.arraySet(u,t,d-n.w_size,n.w_size,0),t=u,d=n.w_size),s=e.avail_in,c=e.next_in,l=e.input,e.avail_in=d,e.next_in=0,e.input=t,p(n);n.lookahead>=H;){r=n.strstart,i=n.lookahead-(H-1);do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[r+H-1])&n.hash_mask,n.prev[r&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=r,r++}while(--i);n.strstart=r,n.lookahead=H-1,p(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=H-1,n.match_available=0,e.next_in=c,e.input=l,e.avail_in=s,n.wrap=a,D},t.deflateInfo="pako deflate (from Nodeca project)"},function(e,t,n){"use strict";function r(e){for(var t=e.length;--t>=0;)e[t]=0}function i(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}function o(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function a(e){return e<256?W[e]:W[256+(e>>>7)]}function s(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function c(e,t,n){e.bi_valid>N-n?(e.bi_buf|=t<<e.bi_valid&65535,s(e,e.bi_buf),e.bi_buf=t>>N-e.bi_valid,e.bi_valid+=n-N):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function l(e,t,n){c(e,n[2*t],n[2*t+1])}function u(e,t){var n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1}function d(e,t,n){var r,i,o=new Array(O+1),a=0;for(r=1;r<=O;r++)o[r]=a=a+n[r-1]<<1;for(i=0;i<=t;i++){var s=e[2*i+1];0!==s&&(e[2*i]=u(o[s]++,s))}}function p(e){var t;for(t=0;t<D;t++)e.dyn_ltree[2*t]=0;for(t=0;t<x;t++)e.dyn_dtree[2*t]=0;for(t=0;t<k;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*L]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function f(e){e.bi_valid>8?s(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function h(e,t,n,r){f(e),r&&(s(e,n),s(e,~n)),S.arraySet(e.pending_buf,e.window,t,n,e.pending),e.pending+=n}function m(e,t,n,r){var i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]}function g(e,t,n){for(var r=e.heap[n],i=n<<1;i<=e.heap_len&&(i<e.heap_len&&m(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!m(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r}function v(e,t,n){var r,i,o,s,u=0;if(0!==e.last_lit)do{r=e.pending_buf[e.d_buf+2*u]<<8|e.pending_buf[e.d_buf+2*u+1],i=e.pending_buf[e.l_buf+u],u++,0===r?l(e,i,t):(l(e,(o=V[i])+R+1,t),0!==(s=F[o])&&c(e,i-=z[o],s),l(e,o=a(--r),n),0!==(s=U[o])&&c(e,r-=q[o],s))}while(u<e.last_lit);l(e,L,t)}function y(e,t){var n,r,i,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=I,n=0;n<c;n++)0!==o[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):o[2*n+1]=0;for(;e.heap_len<2;)o[2*(i=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[i]=0,e.opt_len--,s&&(e.static_len-=a[2*i+1]);for(t.max_code=l,n=e.heap_len>>1;n>=1;n--)g(e,o,n);i=c;do{n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],g(e,o,1),r=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=r,o[2*i]=o[2*n]+o[2*r],e.depth[i]=(e.depth[n]>=e.depth[r]?e.depth[n]:e.depth[r])+1,o[2*n+1]=o[2*r+1]=i,e.heap[1]=i++,g(e,o,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,r,i,o,a,s,c=t.dyn_tree,l=t.max_code,u=t.stat_desc.static_tree,d=t.stat_desc.has_stree,p=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,m=0;for(o=0;o<=O;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<I;n++)(o=c[2*c[2*(r=e.heap[n])+1]+1]+1)>h&&(o=h,m++),c[2*r+1]=o,r>l||(e.bl_count[o]++,a=0,r>=f&&(a=p[r-f]),e.opt_len+=(s=c[2*r])*(o+a),d&&(e.static_len+=s*(u[2*r+1]+a)));if(0!==m){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,m-=2}while(m>0);for(o=h;0!==o;o--)for(r=e.bl_count[o];0!==r;)(i=e.heap[--n])>l||(c[2*i+1]!==o&&(e.opt_len+=(o-c[2*i+1])*c[2*i],c[2*i+1]=o),r--)}}(e,t),d(o,l,e.bl_count)}function b(e,t,n){var r,i,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=a,a=t[2*(r+1)+1],++s<c&&i===a||(s<l?e.bl_tree[2*i]+=s:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[2*P]++):s<=10?e.bl_tree[2*M]++:e.bl_tree[2*j]++,s=0,o=i,0===a?(c=138,l=3):i===a?(c=6,l=3):(c=7,l=4))}function _(e,t,n){var r,i,o=-1,a=t[1],s=0,u=7,d=4;for(0===a&&(u=138,d=3),r=0;r<=n;r++)if(i=a,a=t[2*(r+1)+1],!(++s<u&&i===a)){if(s<d)do{l(e,i,e.bl_tree)}while(0!=--s);else 0!==i?(i!==o&&(l(e,i,e.bl_tree),s--),l(e,P,e.bl_tree),c(e,s-3,2)):s<=10?(l(e,M,e.bl_tree),c(e,s-3,3)):(l(e,j,e.bl_tree),c(e,s-11,7));s=0,o=i,0===a?(u=138,d=3):i===a?(u=6,d=3):(u=7,d=4)}}function E(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return T;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return C;for(t=32;t<R;t++)if(0!==e.dyn_ltree[2*t])return C;return T}function w(e,t,n,r){c(e,(A<<1)+(r?1:0),3),h(e,t,n,!0)}var S=n(16),T=0,C=1,A=0,R=256,D=R+1+29,x=30,k=19,I=2*D+1,O=15,N=16,L=256,P=16,M=17,j=18,F=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],J=new Array(2*(D+2));r(J);var G=new Array(2*x);r(G);var W=new Array(512);r(W);var V=new Array(256);r(V);var z=new Array(29);r(z);var q=new Array(x);r(q);var K,$,X,Y=!1;t._tr_init=function(e){Y||(function(){var e,t,n,r,o,a=new Array(O+1);for(n=0,r=0;r<28;r++)for(z[r]=n,e=0;e<1<<F[r];e++)V[n++]=r;for(V[n-1]=r,o=0,r=0;r<16;r++)for(q[r]=o,e=0;e<1<<U[r];e++)W[o++]=r;for(o>>=7;r<x;r++)for(q[r]=o<<7,e=0;e<1<<U[r]-7;e++)W[256+o++]=r;for(t=0;t<=O;t++)a[t]=0;for(e=0;e<=143;)J[2*e+1]=8,e++,a[8]++;for(;e<=255;)J[2*e+1]=9,e++,a[9]++;for(;e<=279;)J[2*e+1]=7,e++,a[7]++;for(;e<=287;)J[2*e+1]=8,e++,a[8]++;for(d(J,D+1,a),e=0;e<x;e++)G[2*e+1]=5,G[2*e]=u(e,5);K=new i(J,F,R+1,D,O),$=new i(G,U,0,x,O),X=new i(new Array(0),B,0,k,7)}(),Y=!0),e.l_desc=new o(e.dyn_ltree,K),e.d_desc=new o(e.dyn_dtree,$),e.bl_desc=new o(e.bl_tree,X),e.bi_buf=0,e.bi_valid=0,p(e)},t._tr_stored_block=w,t._tr_flush_block=function(e,t,n,r){var i,o,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=E(e)),y(e,e.l_desc),y(e,e.d_desc),a=function(e){var t;for(b(e,e.dyn_ltree,e.l_desc.max_code),b(e,e.dyn_dtree,e.d_desc.max_code),y(e,e.bl_desc),t=k-1;t>=3&&0===e.bl_tree[2*H[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(i=e.opt_len+3+7>>>3)&&(i=o)):i=o=n+5,n+4<=i&&-1!==t?w(e,t,n,r):4===e.strategy||o===i?(c(e,2+(r?1:0),3),v(e,J,G)):(c(e,4+(r?1:0),3),function(e,t,n,r){var i;for(c(e,t-257,5),c(e,n-1,5),c(e,r-4,4),i=0;i<r;i++)c(e,e.bl_tree[2*H[i]+1],3);_(e,e.dyn_ltree,t-1),_(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),v(e,e.dyn_ltree,e.dyn_dtree)),p(e),r&&f(e)},t._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(V[n]+R+1)]++,e.dyn_dtree[2*a(t)]++),e.last_lit===e.lit_bufsize-1},t._tr_align=function(e){c(e,2,3),l(e,L,J),function(e){16===e.bi_valid?(s(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},function(e,t){"use strict";e.exports=function(e,t,n,r){for(var i=65535&e|0,o=e>>>16&65535|0,a=0;0!==n;){n-=a=n>2e3?2e3:n;do{o=o+(i=i+t[r++]|0)|0}while(--a);i%=65521,o%=65521}return i|o<<16|0}},function(e,t){"use strict";var n=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();e.exports=function(e,t,r,i){var o=n,a=i+r;e^=-1;for(var s=i;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},function(e,t){"use strict";e.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(e,t,n){"use strict";function r(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n}var i=n(16),o=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var s=new i.Buf8(256),c=0;c<256;c++)s[c]=c>=252?6:c>=248?5:c>=240?4:c>=224?3:c>=192?2:1;s[254]=s[254]=1,t.string2buf=function(e){var t,n,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),c+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(c),a=0,o=0;a<c;o++)55296==(64512&(n=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(n=65536+(n-55296<<10)+(r-56320),o++),n<128?t[a++]=n:n<2048?(t[a++]=192|n>>>6,t[a++]=128|63&n):n<65536?(t[a++]=224|n>>>12,t[a++]=128|n>>>6&63,t[a++]=128|63&n):(t[a++]=240|n>>>18,t[a++]=128|n>>>12&63,t[a++]=128|n>>>6&63,t[a++]=128|63&n);return t},t.buf2binstring=function(e){return r(e,e.length)},t.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},t.buf2string=function(e,t){var n,i,o,a,c=t||e.length,l=new Array(2*c);for(i=0,n=0;n<c;)if((o=e[n++])<128)l[i++]=o;else if((a=s[o])>4)l[i++]=65533,n+=a-1;else{for(o&=2===a?31:3===a?15:7;a>1&&n<c;)o=o<<6|63&e[n++],a--;a>1?l[i++]=65533:o<65536?l[i++]=o:(l[i++]=55296|(o-=65536)>>10&1023,l[i++]=56320|1023&o)}return r(l,i)},t.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+s[e[n]]>t?n:t}},function(e,t){"use strict";e.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(e,t,n){"use strict";function r(e){if(!(this instanceof r))return new r(e);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var n=o.inflateInit2(this.strm,t.windowBits);if(n!==c.Z_OK)throw new Error(l[n]);this.header=new d,o.inflateGetHeader(this.strm,this.header)}function i(e,t){var n=new r(t);if(n.push(e,!0),n.err)throw n.msg;return n.result}var o=n(26),a=n(16),s=n(23),c=n(29),l=n(22),u=n(24),d=n(30),p=Object.prototype.toString;r.prototype.push=function(e,t){var n,r,i,l,u,d,f=this.strm,h=this.options.chunkSize,m=this.options.dictionary,g=!1;if(this.ended)return!1;r=t===~~t?t:!0===t?c.Z_FINISH:c.Z_NO_FLUSH,f.input="string"==typeof e?s.binstring2buf(e):"[object ArrayBuffer]"===p.call(e)?new Uint8Array(e):e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new a.Buf8(h),f.next_out=0,f.avail_out=h),(n=o.inflate(f,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&m&&(d="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===p.call(m)?new Uint8Array(m):m,n=o.inflateSetDictionary(this.strm,d)),n===c.Z_BUF_ERROR&&!0===g&&(n=c.Z_OK,g=!1),n!==c.Z_STREAM_END&&n!==c.Z_OK)return this.onEnd(n),this.ended=!0,!1;f.next_out&&(0!==f.avail_out&&n!==c.Z_STREAM_END&&(0!==f.avail_in||r!==c.Z_FINISH&&r!==c.Z_SYNC_FLUSH)||("string"===this.options.to?(i=s.utf8border(f.output,f.next_out),l=f.next_out-i,u=s.buf2string(f.output,i),f.next_out=l,f.avail_out=h-l,l&&a.arraySet(f.output,f.output,i,l,0),this.onData(u)):this.onData(a.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(g=!0)}while((f.avail_in>0||0===f.avail_out)&&n!==c.Z_STREAM_END);return n===c.Z_STREAM_END&&(r=c.Z_FINISH),r===c.Z_FINISH?(n=o.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===c.Z_OK):r!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),f.avail_out=0,!0)},r.prototype.onData=function(e){this.chunks.push(e)},r.prototype.onEnd=function(e){e===c.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):a.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},t.Inflate=r,t.inflate=i,t.inflateRaw=function(e,t){return(t=t||{}).raw=!0,i(e,t)},t.ungzip=i},function(e,t,n){"use strict";function r(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function i(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new f.Buf16(320),this.work=new f.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function o(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=w,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new f.Buf32(C),t.distcode=t.distdyn=new f.Buf32(A),t.sane=1,t.back=-1,_):E}function a(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,o(e)):E}function s(e,t){var n,r;return e&&e.state?(r=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?E:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,a(e))):E}function c(e,t){var n,r;return e?(r=new i,e.state=r,r.window=null,(n=s(e,t))!==_&&(e.state=null),n):E}function l(e){if(R){var t;for(d=new f.Buf32(512),p=new f.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(v(y,e.lens,0,288,d,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;v(b,e.lens,0,32,p,0,e.work,{bits:5}),R=!1}e.lencode=d,e.lenbits=9,e.distcode=p,e.distbits=5}function u(e,t,n,r){var i,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new f.Buf8(o.wsize)),r>=o.wsize?(f.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):((i=o.wsize-o.wnext)>r&&(i=r),f.arraySet(o.window,t,n-r,i,o.wnext),(r-=i)?(f.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0}var d,p,f=n(16),h=n(20),m=n(21),g=n(27),v=n(28),y=1,b=2,_=0,E=-2,w=1,S=12,T=30,C=852,A=592,R=!0;t.inflateReset=a,t.inflateReset2=s,t.inflateResetKeep=o,t.inflateInit=function(e){return c(e,15)},t.inflateInit2=c,t.inflate=function(e,t){var n,i,o,a,s,c,d,p,C,A,R,D,x,k,I,O,N,L,P,M,j,F,U,B,H=0,J=new f.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return E;(n=e.state).mode===S&&(n.mode=13),s=e.next_out,o=e.output,a=e.next_in,i=e.input,p=n.hold,C=n.bits,A=c=e.avail_in,R=d=e.avail_out,F=_;e:for(;;)switch(n.mode){case w:if(0===n.wrap){n.mode=13;break}for(;C<16;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(2&n.wrap&&35615===p){n.check=0,J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0),p=0,C=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&p)<<8)+(p>>8))%31){e.msg="incorrect header check",n.mode=T;break}if(8!=(15&p)){e.msg="unknown compression method",n.mode=T;break}if(C-=4,j=8+(15&(p>>>=4)),0===n.wbits)n.wbits=j;else if(j>n.wbits){e.msg="invalid window size",n.mode=T;break}n.dmax=1<<j,e.adler=n.check=1,n.mode=512&p?10:S,p=0,C=0;break;case 2:for(;C<16;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(n.flags=p,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=T;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=T;break}n.head&&(n.head.text=p>>8&1),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0)),p=0,C=0,n.mode=3;case 3:for(;C<32;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}n.head&&(n.head.time=p),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,J[2]=p>>>16&255,J[3]=p>>>24&255,n.check=m(n.check,J,4,0)),p=0,C=0,n.mode=4;case 4:for(;C<16;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}n.head&&(n.head.xflags=255&p,n.head.os=p>>8),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0)),p=0,C=0,n.mode=5;case 5:if(1024&n.flags){for(;C<16;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}n.length=p,n.head&&(n.head.extra_len=p),512&n.flags&&(J[0]=255&p,J[1]=p>>>8&255,n.check=m(n.check,J,2,0)),p=0,C=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((D=n.length)>c&&(D=c),D&&(n.head&&(j=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),f.arraySet(n.head.extra,i,a,D,j)),512&n.flags&&(n.check=m(n.check,i,D,a)),c-=D,a+=D,n.length-=D),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===c)break e;D=0;do{j=i[a+D++],n.head&&j&&n.length<65536&&(n.head.name+=String.fromCharCode(j))}while(j&&D<c);if(512&n.flags&&(n.check=m(n.check,i,D,a)),c-=D,a+=D,j)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===c)break e;D=0;do{j=i[a+D++],n.head&&j&&n.length<65536&&(n.head.comment+=String.fromCharCode(j))}while(j&&D<c);if(512&n.flags&&(n.check=m(n.check,i,D,a)),c-=D,a+=D,j)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;C<16;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(p!==(65535&n.check)){e.msg="header crc mismatch",n.mode=T;break}p=0,C=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=S;break;case 10:for(;C<32;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}e.adler=n.check=r(p),p=0,C=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=s,e.avail_out=d,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=C,2;e.adler=n.check=1,n.mode=S;case S:if(5===t||6===t)break e;case 13:if(n.last){p>>>=7&C,C-=7&C,n.mode=27;break}for(;C<3;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}switch(n.last=1&p,C-=1,3&(p>>>=1)){case 0:n.mode=14;break;case 1:if(l(n),n.mode=20,6===t){p>>>=2,C-=2;break e}break;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=T}p>>>=2,C-=2;break;case 14:for(p>>>=7&C,C-=7&C;C<32;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if((65535&p)!=(p>>>16^65535)){e.msg="invalid stored block lengths",n.mode=T;break}if(n.length=65535&p,p=0,C=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(D=n.length){if(D>c&&(D=c),D>d&&(D=d),0===D)break e;f.arraySet(o,i,a,D,s),c-=D,a+=D,d-=D,s+=D,n.length-=D;break}n.mode=S;break;case 17:for(;C<14;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(n.nlen=257+(31&p),C-=5,n.ndist=1+(31&(p>>>=5)),C-=5,n.ncode=4+(15&(p>>>=5)),p>>>=4,C-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=T;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;C<3;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}n.lens[G[n.have++]]=7&p,p>>>=3,C-=3}for(;n.have<19;)n.lens[G[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,F=v(0,n.lens,0,19,n.lencode,0,n.work,U={bits:n.lenbits}),n.lenbits=U.bits,F){e.msg="invalid code lengths set",n.mode=T;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;O=(H=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,N=65535&H,!((I=H>>>24)<=C);){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(N<16)p>>>=I,C-=I,n.lens[n.have++]=N;else{if(16===N){for(B=I+2;C<B;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(p>>>=I,C-=I,0===n.have){e.msg="invalid bit length repeat",n.mode=T;break}j=n.lens[n.have-1],D=3+(3&p),p>>>=2,C-=2}else if(17===N){for(B=I+3;C<B;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}C-=I,j=0,D=3+(7&(p>>>=I)),p>>>=3,C-=3}else{for(B=I+7;C<B;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}C-=I,j=0,D=11+(127&(p>>>=I)),p>>>=7,C-=7}if(n.have+D>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=T;break}for(;D--;)n.lens[n.have++]=j}}if(n.mode===T)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=T;break}if(n.lenbits=9,F=v(y,n.lens,0,n.nlen,n.lencode,0,n.work,U={bits:n.lenbits}),n.lenbits=U.bits,F){e.msg="invalid literal/lengths set",n.mode=T;break}if(n.distbits=6,n.distcode=n.distdyn,F=v(b,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,U={bits:n.distbits}),n.distbits=U.bits,F){e.msg="invalid distances set",n.mode=T;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(c>=6&&d>=258){e.next_out=s,e.avail_out=d,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=C,g(e,R),s=e.next_out,o=e.output,d=e.avail_out,a=e.next_in,i=e.input,c=e.avail_in,p=n.hold,C=n.bits,n.mode===S&&(n.back=-1);break}for(n.back=0;O=(H=n.lencode[p&(1<<n.lenbits)-1])>>>16&255,N=65535&H,!((I=H>>>24)<=C);){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(O&&0==(240&O)){for(L=I,P=O,M=N;O=(H=n.lencode[M+((p&(1<<L+P)-1)>>L)])>>>16&255,N=65535&H,!(L+(I=H>>>24)<=C);){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}p>>>=L,C-=L,n.back+=L}if(p>>>=I,C-=I,n.back+=I,n.length=N,0===O){n.mode=26;break}if(32&O){n.back=-1,n.mode=S;break}if(64&O){e.msg="invalid literal/length code",n.mode=T;break}n.extra=15&O,n.mode=22;case 22:if(n.extra){for(B=n.extra;C<B;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}n.length+=p&(1<<n.extra)-1,p>>>=n.extra,C-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;O=(H=n.distcode[p&(1<<n.distbits)-1])>>>16&255,N=65535&H,!((I=H>>>24)<=C);){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(0==(240&O)){for(L=I,P=O,M=N;O=(H=n.distcode[M+((p&(1<<L+P)-1)>>L)])>>>16&255,N=65535&H,!(L+(I=H>>>24)<=C);){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}p>>>=L,C-=L,n.back+=L}if(p>>>=I,C-=I,n.back+=I,64&O){e.msg="invalid distance code",n.mode=T;break}n.offset=N,n.extra=15&O,n.mode=24;case 24:if(n.extra){for(B=n.extra;C<B;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}n.offset+=p&(1<<n.extra)-1,p>>>=n.extra,C-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=T;break}n.mode=25;case 25:if(0===d)break e;if(n.offset>(D=R-d)){if((D=n.offset-D)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=T;break}x=D>n.wnext?n.wsize-(D-=n.wnext):n.wnext-D,D>n.length&&(D=n.length),k=n.window}else k=o,x=s-n.offset,D=n.length;D>d&&(D=d),d-=D,n.length-=D;do{o[s++]=k[x++]}while(--D);0===n.length&&(n.mode=21);break;case 26:if(0===d)break e;o[s++]=n.length,d--,n.mode=21;break;case 27:if(n.wrap){for(;C<32;){if(0===c)break e;c--,p|=i[a++]<<C,C+=8}if(e.total_out+=R-=d,n.total+=R,R&&(e.adler=n.check=n.flags?m(n.check,o,R,s-R):h(n.check,o,R,s-R)),R=d,(n.flags?p:r(p))!==n.check){e.msg="incorrect data check",n.mode=T;break}p=0,C=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;C<32;){if(0===c)break e;c--,p+=i[a++]<<C,C+=8}if(p!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=T;break}p=0,C=0}n.mode=29;case 29:F=1;break e;case T:F=-3;break e;case 31:return-4;case 32:default:return E}return e.next_out=s,e.avail_out=d,e.next_in=a,e.avail_in=c,n.hold=p,n.bits=C,(n.wsize||R!==e.avail_out&&n.mode<T&&(n.mode<27||4!==t))&&u(e,e.output,e.next_out,R-e.avail_out)?(n.mode=31,-4):(R-=e.avail_out,e.total_in+=A-=e.avail_in,e.total_out+=R,n.total+=R,n.wrap&&R&&(e.adler=n.check=n.flags?m(n.check,o,R,e.next_out-R):h(n.check,o,R,e.next_out-R)),e.data_type=n.bits+(n.last?64:0)+(n.mode===S?128:0)+(20===n.mode||15===n.mode?256:0),(0===A&&0===R||4===t)&&F===_&&(F=-5),F)},t.inflateEnd=function(e){if(!e||!e.state)return E;var t=e.state;return t.window&&(t.window=null),e.state=null,_},t.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?E:(n.head=t,t.done=!1,_):E},t.inflateSetDictionary=function(e,t){var n,r=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?E:11===n.mode&&h(1,t,r,0)!==n.check?-3:u(e,t,r,r)?(n.mode=31,-4):(n.havedict=1,_):E},t.inflateInfo="pako inflate (from Nodeca project)"},function(e,t){"use strict";e.exports=function(e,t){var n,r,i,o,a,s,c,l,u,d,p,f,h,m,g,v,y,b,_,E,w,S,T,C,A;C=e.input,i=(r=e.next_in)+(e.avail_in-5),A=e.output,a=(o=e.next_out)-(t-e.avail_out),s=o+(e.avail_out-257),c=(n=e.state).dmax,l=n.wsize,u=n.whave,d=n.wnext,p=n.window,f=n.hold,h=n.bits,m=n.lencode,g=n.distcode,v=(1<<n.lenbits)-1,y=(1<<n.distbits)-1;e:do{h<15&&(f+=C[r++]<<h,f+=C[r++]<<(h+=8),h+=8),b=m[f&v];t:for(;;){if(f>>>=_=b>>>24,h-=_,0==(_=b>>>16&255))A[o++]=65535&b;else{if(!(16&_)){if(0==(64&_)){b=m[(65535&b)+(f&(1<<_)-1)];continue t}if(32&_){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}E=65535&b,(_&=15)&&(h<_&&(f+=C[r++]<<h,h+=8),E+=f&(1<<_)-1,f>>>=_,h-=_),h<15&&(f+=C[r++]<<h,f+=C[r++]<<(h+=8),h+=8),b=g[f&y];n:for(;;){if(f>>>=_=b>>>24,h-=_,!(16&(_=b>>>16&255))){if(0==(64&_)){b=g[(65535&b)+(f&(1<<_)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(w=65535&b,h<(_&=15)&&(f+=C[r++]<<h,(h+=8)<_&&(f+=C[r++]<<h,h+=8)),(w+=f&(1<<_)-1)>c){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=_,h-=_,w>(_=o-a)){if((_=w-_)>u&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(S=0,T=p,0===d){if(S+=l-_,_<E){E-=_;do{A[o++]=p[S++]}while(--_);S=o-w,T=A}}else if(d<_){if(S+=l+d-_,(_-=d)<E){E-=_;do{A[o++]=p[S++]}while(--_);if(S=0,d<E){E-=_=d;do{A[o++]=p[S++]}while(--_);S=o-w,T=A}}}else if(S+=d-_,_<E){E-=_;do{A[o++]=p[S++]}while(--_);S=o-w,T=A}for(;E>2;)A[o++]=T[S++],A[o++]=T[S++],A[o++]=T[S++],E-=3;E&&(A[o++]=T[S++],E>1&&(A[o++]=T[S++]))}else{S=o-w;do{A[o++]=A[S++],A[o++]=A[S++],A[o++]=A[S++],E-=3}while(E>2);E&&(A[o++]=A[S++],E>1&&(A[o++]=A[S++]))}break}}break}}while(r<i&&o<s);f&=(1<<(h-=(E=h>>3)<<3))-1,e.next_in=r-=E,e.next_out=o,e.avail_in=r<i?i-r+5:5-(r-i),e.avail_out=o<s?s-o+257:257-(o-s),n.hold=f,n.bits=h}},function(e,t,n){"use strict";var r=n(16),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];e.exports=function(e,t,n,c,l,u,d,p){var f,h,m,g,v,y,b,_,E,w=p.bits,S=0,T=0,C=0,A=0,R=0,D=0,x=0,k=0,I=0,O=0,N=null,L=0,P=new r.Buf16(16),M=new r.Buf16(16),j=null,F=0;for(S=0;S<=15;S++)P[S]=0;for(T=0;T<c;T++)P[t[n+T]]++;for(R=w,A=15;A>=1&&0===P[A];A--);if(R>A&&(R=A),0===A)return l[u++]=20971520,l[u++]=20971520,p.bits=1,0;for(C=1;C<A&&0===P[C];C++);for(R<C&&(R=C),k=1,S=1;S<=15;S++)if(k<<=1,(k-=P[S])<0)return-1;if(k>0&&(0===e||1!==A))return-1;for(M[1]=0,S=1;S<15;S++)M[S+1]=M[S]+P[S];for(T=0;T<c;T++)0!==t[n+T]&&(d[M[t[n+T]]++]=T);if(0===e?(N=j=d,y=19):1===e?(N=i,L-=257,j=o,F-=257,y=256):(N=a,j=s,y=-1),O=0,T=0,S=C,v=u,D=R,x=0,m=-1,g=(I=1<<R)-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){b=S-x,d[T]<y?(_=0,E=d[T]):d[T]>y?(_=j[F+d[T]],E=N[L+d[T]]):(_=96,E=0),f=1<<S-x,C=h=1<<D;do{l[v+(O>>x)+(h-=f)]=b<<24|_<<16|E|0}while(0!==h);for(f=1<<S-1;O&f;)f>>=1;if(0!==f?(O&=f-1,O+=f):O=0,T++,0==--P[S]){if(S===A)break;S=t[n+d[T]]}if(S>R&&(O&g)!==m){for(0===x&&(x=R),v+=C,k=1<<(D=S-x);D+x<A&&!((k-=P[D+x])<=0);)D++,k<<=1;if(I+=1<<D,1===e&&I>852||2===e&&I>592)return 1;l[m=O&g]=R<<24|D<<16|v-u|0}}return 0!==O&&(l[v+O]=S-x<<24|64<<16|0),p.bits=R,0}},function(e,t){"use strict";e.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(e,t){"use strict";e.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(e,t){"use strict";function n(e,t){return Math.floor(Math.random()*(t-e+1))+e}function r(e){return e[n(0,e.length-1)]}e.exports={randomHexDigit:function(){return r("0123456789abcdef")},randomHexString:function(e){for(var t="";e--;)t+=this.randomHexDigit();return t},randomElement:r,randomAlphanumStr:function(e){for(var t="",n=0;n<e;n+=1)t+=r("0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");return t},randomInt:n}},function(e,t,n){(function(t){"use strict";function r(){if(navigator.webkitGetUserMedia){u=h.RTC_BROWSER_CHROME;var e=navigator.userAgent.toLowerCase(),t=parseInt(e.match(/chrome\/(\d+)\./)[1],10);return f.log("This appears to be Chrome, ver: "+t),t}return null}function i(){var e=navigator.userAgent;if(e.match(/Opera|OPR/)){u=h.RTC_BROWSER_OPERA;var t=e.match(/(Opera|OPR) ?\/?(\d+)\.?/)[2];return f.info("This appears to be Opera, ver: "+t),t}return null}function o(){if(navigator.mozGetUserMedia){u=h.RTC_BROWSER_FIREFOX;var e=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);return f.log("This appears to be Firefox, ver: "+e),e}return null}function a(){return/^((?!chrome).)*safari/i.test(navigator.userAgent)?(u=h.RTC_BROWSER_SAFARI,f.info("This appears to be Safari"),1):null}function s(){var e,t=window.navigator.userAgent,n=t.indexOf("MSIE ");n>0&&(e=parseInt(t.substring(n+5,t.indexOf(".",n)),10));var r=t.indexOf("Trident/");if(!e&&r>0){var i=t.indexOf("rv:");e=parseInt(t.substring(i+3,t.indexOf(".",i)),10)}var o=t.indexOf("Edge/");return!e&&o>0&&(e=parseInt(t.substring(o+5,t.indexOf(".",o)),10)),e&&(u=h.RTC_BROWSER_IEXPLORER,f.info("This appears to be IExplorer, ver: "+e)),e}function c(){var e=navigator.userAgent;if(e.match(/JitsiMeetNW/)){u=h.RTC_BROWSER_NWJS;var t=e.match(/JitsiMeetNW\/([\d.]+)/)[1];return f.info("This appears to be JitsiMeetNW, ver: "+t),t}return null}function l(){var e,t,n=navigator.userAgent.match(/\b(react[ \t_-]*native)(?:\/(\S+))?/i);return n||"ReactNative"===navigator.product?(u=h.RTC_BROWSER_REACT_NATIVE,n&&n.length>2&&(t=n[1],e=n[2]),t||(t="react-native"),e||(e="unknown"),console.info("This appears to be "+t+", ver: "+e)):e=null,e}var u,d,p,f=n(9).getLogger(t),h={RTC_BROWSER_CHROME:"rtc_browser.chrome",RTC_BROWSER_OPERA:"rtc_browser.opera",RTC_BROWSER_FIREFOX:"rtc_browser.firefox",RTC_BROWSER_IEXPLORER:"rtc_browser.iexplorer",RTC_BROWSER_SAFARI:"rtc_browser.safari",RTC_BROWSER_NWJS:"rtc_browser.nwjs",RTC_BROWSER_REACT_NATIVE:"rtc_browser.react-native",getBrowserType:function(){return u},getBrowserName:function(){var e=u.split("rtc_browser.")[1];return h.isAndroid()&&(e="android"),e},isChrome:function(){return u===h.RTC_BROWSER_CHROME},isOpera:function(){return u===h.RTC_BROWSER_OPERA},isFirefox:function(){return u===h.RTC_BROWSER_FIREFOX},isIExplorer:function(){return u===h.RTC_BROWSER_IEXPLORER},isSafari:function(){return u===h.RTC_BROWSER_SAFARI},isNWJS:function(){return u===h.RTC_BROWSER_NWJS},isReactNative:function(){return u===h.RTC_BROWSER_REACT_NATIVE},isTemasysPluginUsed:function(){return h.isIExplorer()||h.isSafari()},isVideoMuteOnConnInterruptedSupported:function(){return h.isChrome()},getFirefoxVersion:function(){return h.isFirefox()?d:null},getChromeVersion:function(){return h.isChrome()?d:null},usesPlanB:function(){return h.isChrome()||h.isOpera()||h.isTemasysPluginUsed()},usesUnifiedPlan:function(){return h.isFirefox()},isAndroid:function(){return p}};d=function(){for(var e,t=[l,c,i,r,o,s,a],n=0;n<t.length;n++)if(e=t[n]())return e;return f.warn("Browser type defaults to Safari ver 1"),u=h.RTC_BROWSER_SAFARI,1}(),p=-1!=navigator.userAgent.indexOf("Android"),e.exports=h}).call(t,"modules/RTC/RTCBrowserType.js")},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};t.default=function(e){Strophe.addConnectionPlugin("emuc",new u(e))};var a=n(9),s=r(n(34)),c=r(n(42)),l=(0,a.getLogger)(e),u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.xmpp=e,n.rooms={},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"init",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.addHandler(this.onPresence.bind(this),null,"presence",null,null,null,null),this.connection.addHandler(this.onPresenceUnavailable.bind(this),null,"presence","unavailable",null),this.connection.addHandler(this.onPresenceError.bind(this),null,"presence","error",null),this.connection.addHandler(this.onMessage.bind(this),null,"message",null,null),this.connection.addHandler(this.onMute.bind(this),"http://jitsi.org/jitmeet/audio","iq","set",null,null)}},{key:"createRoom",value:function(e,t,n,r){var i=Strophe.getBareJidFromJid(e);if(this.rooms[i]){var o="You are already in the room!";throw l.error(o),new Error(o)}return this.rooms[i]=new s.default(this.connection,e,t,this.xmpp,n,r),this.rooms[i]}},{key:"doLeave",value:function(e){delete this.rooms[e]}},{key:"onPresence",value:function(e){var t=e.getAttribute("from");if(e.getAttribute("type"))return!0;var n=this.rooms[Strophe.getBareJidFromJid(t)];return n?($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="201"]').length&&n.createNonAnonymousRoom(),n.onPresence(e),!0):void 0}},{key:"onPresenceUnavailable",value:function(e){var t=e.getAttribute("from"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onPresenceUnavailable(e,t),!0}},{key:"onPresenceError",value:function(e){var t=e.getAttribute("from"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onPresenceError(e,t),!0}},{key:"onMessage",value:function(e){var t=e.getAttribute("from"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onMessage(e,t),!0}},{key:"setJingleSession",value:function(e,t){var n=this.rooms[Strophe.getBareJidFromJid(e)];n&&n.setJingleSession(t)}},{key:"onMute",value:function(e){var t=e.getAttribute("from"),n=this.rooms[Strophe.getBareJidFromJid(t)];if(n)return n.onMute(e),!0}}]),t}(c.default)}).call(t,"modules/xmpp/strophe.emuc.js")},function(e,t,n){(function(t){"use strict";function r(e,t){for(var n=[],r=0;r<e.length;r++)e[r].tagName===t&&n.push(e[r]);return n}function i(e,t,n,r,i,a){this.eventEmitter=new l,this.xmpp=r,this.connection=e,this.roomjid=Strophe.getBareJidFromJid(t),this.myroomjid=t,this.password=n,o.info("Joined MUC as "+this.myroomjid),this.members={},this.presMap={},this.presHandlers={},this.joined=!1,this.role=null,this.focusMucJid=null,this.noBridgeAvailable=!1,this.options=i||{},this.moderator=new c(this.roomjid,this.xmpp,this.eventEmitter,a,{connection:this.xmpp.options,conference:this.options}),this.initPresenceMap(),this.session=null,this.lastPresences={},this.phoneNumber=null,this.phonePin=null,this.connectionTimes={},this.participantPropertyListener=null,this.locked=!1}var o=(0,n(9).getLogger)(t),a=n(35),s=n(36),c=n(37),l=n(14),u=n(40),d=n(39),p={packet2JSON:function(e,t){var n=this;$(e).children().each(function(){var e={tagName:$(this).prop("tagName"),attributes:{}};$($(this)[0].attributes).each(function(t,n){e.attributes[n.name]=n.value});var r=Strophe.getText($(this)[0]);r&&(e.value=r),e.children=[],t.push(e),n.packet2JSON($(this),e.children)})},JSON2packet:function(e,t){for(var n=0;n<e.length;n++){var r=e[n];r&&null!==r&&(t.c(r.tagName,r.attributes),r.value&&t.t(r.value),r.children&&this.JSON2packet(r.children,t),t.up())}}};i.prototype.initPresenceMap=function(){this.presMap.to=this.myroomjid,this.presMap.xns="http://jabber.org/protocol/muc",this.presMap.nodes=[],this.presMap.nodes.push({tagName:"user-agent",value:navigator.userAgent,attributes:{xmlns:"http://jitsi.org/jitmeet/user-agent"}}),this.addVideoInfoToPresence(!1)},i.prototype.updateDeviceAvailability=function(e){this.presMap.nodes.push({tagName:"devices",children:[{tagName:"audio",value:e.audio},{tagName:"video",value:e.video}]})},i.prototype.join=function(e){this.password=e;var t=this;this.moderator.allocateConferenceFocus(function(){t.sendPresence(!0)})},i.prototype.sendPresence=function(e){var t=this.presMap.to;if(t&&(this.joined||e)){var n=$pres({to:t});e&&(n.c("x",{xmlns:this.presMap.xns}),this.password&&n.c("password").t(this.password).up(),n.up());var r=this.connection,i=r.caps;i&&(i.node=this.xmpp.options.clientNode,n.c("c",i.generateCapsAttrs()).up()),p.JSON2packet(this.presMap.nodes,n),r.send(n),e&&r.flush()}},i.prototype.doLeave=function(){o.log("do leave",this.myroomjid);var e=$pres({to:this.myroomjid,type:"unavailable"});this.presMap.length=0,this.connection.flush(),this.connection.send(e),this.connection.flush()},i.prototype.discoRoomInfo=function(){var e=$iq({type:"get",to:this.roomjid}).c("query",{xmlns:Strophe.NS.DISCO_INFO});this.connection.sendIQ(e,(function(e){var t=$(e).find('>query>feature[var="muc_passwordprotected"]').length;t!=this.locked&&(this.eventEmitter.emit(a.MUC_LOCK_CHANGED,t),this.locked=t)}).bind(this),(function(e){d.callErrorHandler(e),o.error("Error getting room info: ",e)}).bind(this))},i.prototype.createNonAnonymousRoom=function(){var e=$iq({type:"get",to:this.roomjid}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}).c("x",{xmlns:"jabber:x:data",type:"submit"}),t=this;this.connection.sendIQ(e,function(e){if(!$(e).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_whois"]').length){var n="non-anonymous rooms not supported";return d.callErrorHandler(new Error(n)),void o.error(n)}var r=$iq({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});r.c("x",{xmlns:"jabber:x:data",type:"submit"}),r.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),r.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),t.connection.sendIQ(r)},function(e){d.callErrorHandler(e),o.error("Error getting room configuration form: ",e)})},i.prototype.onPresence=function(e){var t=e.getAttribute("from"),n={};n.show=$(e).find(">show").text(),n.status=$(e).find(">status").text();var r=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>item');n.affiliation=r.attr("affiliation"),n.role=r.attr("role");var i=r.attr("jid");n.jid=i,n.isFocus=i&&0===i.indexOf(this.moderator.getFocusUserJid()+"/"),n.isHiddenDomain=i&&i.indexOf("@")>0&&this.options.hiddenDomain===i.substring(i.indexOf("@")+1,i.indexOf("/")),$(e).find(">x").remove();var s=[];p.packet2JSON(e,s),this.lastPresences[t]=s;for(var c=null,l=0;l<s.length;l++){var u=s[l];switch(u.tagName){case"nick":n.nick=u.value;break;case"userId":n.id=u.value}}if(t==this.myroomjid){var d="owner"==n.affiliation?n.role:"none";if(this.role!==d&&(this.role=d,this.eventEmitter.emit(a.LOCAL_ROLE_CHANGED,this.role)),!this.joined){this.joined=!0;var f=this.connectionTimes["muc.joined"]=window.performance.now();o.log("(TIME) MUC joined:\t",f),this.eventEmitter.emit(a.MUC_JOINED)}}else if(void 0===this.members[t])this.members[t]=n,o.log("entered",t,n),n.isFocus?this._initFocus(t,i):this.eventEmitter.emit(a.MUC_MEMBER_JOINED,t,n.nick,n.role,n.isHiddenDomain);else{var h=this.members[t];h.role!=n.role&&(h.role=n.role,this.eventEmitter.emit(a.MUC_ROLE_CHANGED,t,n.role)),n.isFocus&&(h.isFocus=!0,this._initFocus(t,i)),n.displayName&&(h.displayName=n.displayName)}for(var m=0;m<s.length;m++){var g=s[m];switch(g.tagName){case"nick":if(!n.isFocus){var v=this.xmpp.options.displayJids?Strophe.getResourceFromJid(t):n.nick;v&&v.length>0&&this.eventEmitter.emit(a.DISPLAY_NAME_CHANGED,t,v)}break;case"bridgeNotAvailable":n.isFocus&&!this.noBridgeAvailable&&(this.noBridgeAvailable=!0,this.eventEmitter.emit(a.BRIDGE_DOWN));break;case"jibri-recording-status":c=g;break;case"call-control":var y=g.attributes;if(!y)break;this.phoneNumber=y.phone||null,this.phonePin=y.pin||null,this.eventEmitter.emit(a.PHONE_NUMBER_CHANGED);break;default:this.processNode(g,t)}}n.status&&this.eventEmitter.emit(a.PRESENCE_STATUS,t,n.status),c&&(this.lastJibri=c,this.recording&&this.recording.handleJibriPresence(c))},i.prototype._initFocus=function(e,t){this.focusMucJid=e,this.recording||(this.recording=new u(this.options.recordingType,this.eventEmitter,this.connection,this.focusMucJid,this.options.jirecon,this.roomjid),this.lastJibri&&this.recording.handleJibriPresence(this.lastJibri)),o.info("Ignore focus: "+e+", real JID: "+t)},i.prototype.setParticipantPropertyListener=function(e){this.participantPropertyListener=e},i.prototype.processNode=function(e,t){try{var n=this.presHandlers[e.tagName];e.tagName.startsWith("jitsi_participant_")&&(n=this.participantPropertyListener),n&&n(e,Strophe.getResourceFromJid(t),t)}catch(t){d.callErrorHandler(t),o.error("Error processing:"+e.tagName+" node.",t)}},i.prototype.sendMessage=function(e,t){var n=$msg({to:this.roomjid,type:"groupchat"});n.c("body",e).up(),t&&n.c("nick",{xmlns:"http://jabber.org/protocol/nick"}).t(t).up().up(),this.connection.send(n),this.eventEmitter.emit(a.SENDING_CHAT_MESSAGE,e)},i.prototype.setSubject=function(e){var t=$msg({to:this.roomjid,type:"groupchat"});t.c("subject",e),this.connection.send(t)},i.prototype.onParticipantLeft=function(e,t){delete this.lastPresences[e],t||(this.eventEmitter.emit(a.MUC_MEMBER_LEFT,e),this.moderator.onMucMemberLeft(e))},i.prototype.onPresenceUnavailable=function(e,t){if($(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy').length){var n,r=$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>destroy>reason');return r.length&&(n=r.text()),this._dispose(),this.eventEmitter.emit(a.MUC_DESTROYED,n),this.connection.emuc.doLeave(this.roomjid),!0}var i=0!==$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="110"]').length,o=0!==$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="307"]').length;if(i){if(Object.keys(this.members).length>0){for(var s in this.members){var c=this.members[s];delete this.members[s],this.onParticipantLeft(s,c.isFocus)}this.connection.emuc.doLeave(this.roomjid),o||this.eventEmitter.emit(a.MUC_LEFT)}}else delete this.members[t],this.onParticipantLeft(t,!1);o&&this.myroomjid===t&&(this._dispose(),this.eventEmitter.emit(a.KICKED))},i.prototype.onMessage=function(e,t){var n=$(e).find('>nick[xmlns="http://jabber.org/protocol/nick"]').text()||Strophe.getResourceFromJid(t),r=$(e).find(">body").text();if("error"==e.getAttribute("type"))return this.eventEmitter.emit(a.CHAT_ERROR_RECEIVED,$(e).find(">text").text(),r),!0;var i=$(e).find(">subject");if(i.length){var s=i.text();(s||""===s)&&(this.eventEmitter.emit(a.SUBJECT_CHANGED,s),o.log("Subject is changed to "+s))}var c=$(e).find(">delay").attr("stamp");if(!c&&(c=$(e).find('>[xmlns="jabber:x:delay"]').attr("stamp"))){var l=c.match(/(\d{4})(\d{2})(\d{2}T\d{2}:\d{2}:\d{2})/);c=l[1]+"-"+l[2]+"-"+l[3]+"Z"}t==this.roomjid&&$(e).find('>x[xmlns="http://jabber.org/protocol/muc#user"]>status[code="104"]').length&&this.discoRoomInfo(),r&&(o.log("chat",n,r),this.eventEmitter.emit(a.MESSAGE_RECEIVED,t,n,r,this.myroomjid,c))},i.prototype.onPresenceError=function(e,t){$(e).find('>error[type="auth"]>not-authorized[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length?(o.log("on password required",t),this.eventEmitter.emit(a.PASSWORD_REQUIRED)):$(e).find('>error[type="cancel"]>not-allowed[xmlns="urn:ietf:params:xml:ns:xmpp-stanzas"]').length?Strophe.getDomainFromJid(e.getAttribute("to"))===this.xmpp.options.hosts.anonymousdomain?this.eventEmitter.emit(a.ROOM_JOIN_ERROR):(o.warn("onPresError ",e),this.eventEmitter.emit(a.ROOM_CONNECT_NOT_ALLOWED_ERROR)):$(e).find(">error>service-unavailable").length?(o.warn("Maximum users limit for the room has been reached",e),this.eventEmitter.emit(a.ROOM_MAX_USERS_ERROR)):(o.warn("onPresError ",e),this.eventEmitter.emit(a.ROOM_CONNECT_ERROR))},i.prototype.kick=function(e){var t=$iq({to:this.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#admin"}).c("item",{nick:Strophe.getResourceFromJid(e),role:"none"}).c("reason").t("You have been kicked.").up().up().up();this.connection.sendIQ(t,function(t){o.log("Kick participant with jid: ",e,t)},function(e){o.log("Kick participant error: ",e)})},i.prototype.lockRoom=function(e,t,n,r){var i=this;this.connection.sendIQ($iq({to:this.roomjid,type:"get"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"}),function(o){if($(o).find('>query>x[xmlns="jabber:x:data"]>field[var="muc#roomconfig_roomsecret"]').length){var a=$iq({to:i.roomjid,type:"set"}).c("query",{xmlns:"http://jabber.org/protocol/muc#owner"});a.c("x",{xmlns:"jabber:x:data",type:"submit"}),a.c("field",{var:"FORM_TYPE"}).c("value").t("http://jabber.org/protocol/muc#roomconfig").up().up(),a.c("field",{var:"muc#roomconfig_roomsecret"}).c("value").t(e).up().up(),a.c("field",{var:"muc#roomconfig_whois"}).c("value").t("anyone").up().up(),i.connection.sendIQ(a,t,n)}else r()},n)},i.prototype.addToPresence=function(e,t){t.tagName=e,this.removeFromPresence(e),this.presMap.nodes.push(t)},i.prototype.removeFromPresence=function(e){var t=this.presMap.nodes.filter(function(t){return e!==t.tagName});this.presMap.nodes=t},i.prototype.addPresenceListener=function(e,t){this.presHandlers[e]=t},i.prototype.removePresenceListener=function(e){delete this.presHandlers[e]},i.prototype.isFocus=function(e){var t=this.members[e];return t?t.isFocus:null},i.prototype.isModerator=function(){return"moderator"===this.role},i.prototype.getMemberRole=function(e){return this.members[e]?this.members[e].role:null},i.prototype.setJingleSession=function(e){this.session=e},i.prototype.removeStream=function(e,t,n,r){return this.session?void this.session.removeStream(e,t,n,r):void t()},i.prototype.addStream=function(e,t,n,r,i){this.session?this.session.addStream(e,t,n,r,i):(o.warn("No conference handler or conference not started yet"),t())},i.prototype.generateNewStreamSSRCInfo=function(){return this.session?this.session.generateNewStreamSSRCInfo():(o.warn("The call haven't been started. Cannot generate ssrc info at the moment!"),null)},i.prototype.setVideoMute=function(e,t){this.sendVideoInfoPresence(e),t&&t(e)},i.prototype.setAudioMute=function(e,t){return this.sendAudioInfoPresence(e,t)},i.prototype.addAudioInfoToPresence=function(e){this.removeFromPresence("audiomuted"),this.addToPresence("audiomuted",{attributes:{xmlns:"http://jitsi.org/jitmeet/audio"},value:e.toString()})},i.prototype.sendAudioInfoPresence=function(e,t){this.addAudioInfoToPresence(e),this.connection&&this.sendPresence(),t&&t()},i.prototype.addVideoInfoToPresence=function(e){this.removeFromPresence("videomuted"),this.addToPresence("videomuted",{attributes:{xmlns:"http://jitsi.org/jitmeet/video"},value:e.toString()})},i.prototype.sendVideoInfoPresence=function(e){this.addVideoInfoToPresence(e),this.connection&&this.sendPresence()},i.prototype.addListener=function(e,t){this.eventEmitter.on(e,t)},i.prototype.removeListener=function(e,t){this.eventEmitter.removeListener(e,t)},i.prototype.remoteTrackAdded=function(e){var t=this.lastPresences[e.owner];if(t){var n=e.mediaType,i=null;if(n===s.AUDIO)i=r(t,"audiomuted");else if(n===s.VIDEO){i=r(t,"videomuted");var c=r(t,"videoType");c&&c.length>0&&c[0]&&(e.videoType=c[0].value)}else o.warn("Unsupported media type: "+n),e.muted=null;i&&(e.muted=i.length>0&&i[0]&&"true"===i[0].value)}this.eventEmitter.emit(a.REMOTE_TRACK_ADDED,e)},i.prototype.isRecordingSupported=function(){return!!this.recording&&this.recording.isSupported()},i.prototype.getRecordingState=function(){return this.recording?this.recording.getState():void 0},i.prototype.getRecordingURL=function(){return this.recording?this.recording.getURL():null},i.prototype.toggleRecording=function(e,t){return this.recording?this.recording.toggleRecording(e,t):t("error",new Error("The conference is not created yet!"))},i.prototype.isSIPCallingSupported=function(){return!!this.moderator&&this.moderator.isSipGatewayEnabled()},i.prototype.dial=function(e){return this.connection.rayo.dial(e,"fromnumber",Strophe.getNodeFromJid(this.myroomjid),this.password,this.focusMucJid)},i.prototype.hangup=function(){return this.connection.rayo.hangup()},i.prototype.getPhoneNumber=function(){return this.phoneNumber},i.prototype.getPhonePin=function(){return this.phonePin},i.prototype.getConnectionState=function(){return this.session?this.session.getIceConnectionState():null},i.prototype.muteParticipant=function(e,t){o.info("set mute",t);var n=$iq({to:this.focusMucJid,type:"set"}).c("mute",{xmlns:"http://jitsi.org/jitmeet/audio",jid:e}).t(t.toString()).up();this.connection.sendIQ(n,function(e){o.log("set mute",e)},function(e){o.log("set mute error",e)})},i.prototype.onMute=function(e){if(e.getAttribute("from")!==this.focusMucJid)return o.warn("Ignored mute from non focus peer"),!1;var t=$(e).find("mute");if(t.length){var n="true"===t.text();this.eventEmitter.emit(a.AUDIO_MUTED_BY_FOCUS,n)}return!0},i.prototype.leave=function(){var e=this;return this._dispose(),new Promise(function(t,n){function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];o.removeListener(a.MUC_LEFT,r),clearTimeout(i),e?n(new Error("The timeout for the confirmation about leaving the room expired.")):t()}var i=setTimeout(function(){return r(!0)},5e3),o=e.eventEmitter;o.on(a.MUC_LEFT,r),e.doLeave()})},i.prototype._dispose=function(){this.session&&this.session.close()},e.exports=i}).call(t,"modules/xmpp/ChatRoom.js")},function(e,t){"use strict";e.exports={ADD_ICE_CANDIDATE_FAILED:"xmpp.add_ice_candidate_failed",AUDIO_MUTED_BY_FOCUS:"xmpp.audio_muted_by_focus",AUTHENTICATION_REQUIRED:"xmpp.authentication_required",BRIDGE_DOWN:"xmpp.bridge_down",CALL_INCOMING:"xmpp.callincoming.jingle",CALL_ENDED:"xmpp.callended.jingle",CHAT_ERROR_RECEIVED:"xmpp.chat_error_received",CONFERENCE_SETUP_FAILED:"xmpp.conference_setup_failed",CONNECTION_FAILED:"xmpp.connection.failed",CONNECTION_INTERRUPTED:"xmpp.connection.interrupted",CONNECTION_RESTORED:"xmpp.connection.restored",CONNECTION_ICE_FAILED:"xmpp.connection.ice.failed",CREATE_ANSWER_ERROR:"xmpp.create_answer_error",CREATE_ANSWER_FAILED:"xmpp.create_answer_failed",CREATE_OFFER_FAILED:"xmpp.create_offer_failed",DISPLAY_NAME_CHANGED:"xmpp.display_name_changed",ETHERPAD:"xmpp.etherpad",FOCUS_DISCONNECTED:"xmpp.focus_disconnected",FOCUS_LEFT:"xmpp.focus_left",GRACEFUL_SHUTDOWN:"xmpp.graceful_shutdown",ICE_RESTARTING:"rtc.ice_restarting",JINGLE_ERROR:"xmpp.jingle_error",JINGLE_FATAL_ERROR:"xmpp.jingle_fatal_error",KICKED:"xmpp.kicked",LOCAL_ROLE_CHANGED:"xmpp.localrole_changed",MESSAGE_RECEIVED:"xmpp.message_received",MUC_DESTROYED:"xmpp.muc_destroyed",MUC_JOINED:"xmpp.muc_joined",MUC_MEMBER_JOINED:"xmpp.muc_member_joined",MUC_MEMBER_LEFT:"xmpp.muc_member_left",MUC_LEFT:"xmpp.muc_left",MUC_ROLE_CHANGED:"xmpp.muc_role_changed",MUC_LOCK_CHANGED:"xmpp.muc_lock_changed",PARTICIPANT_AUDIO_MUTED:"xmpp.audio_muted",PARTICIPANT_VIDEO_MUTED:"xmpp.video_muted",PARTICIPANT_VIDEO_TYPE_CHANGED:"xmpp.video_type",PASSWORD_REQUIRED:"xmpp.password_required",PEERCONNECTION_READY:"xmpp.peerconnection_ready",PHONE_NUMBER_CHANGED:"conference.phoneNumberChanged",PRESENCE_STATUS:"xmpp.presence_status",PROMPT_FOR_LOGIN:"xmpp.prompt_for_login",READY_TO_JOIN:"xmpp.ready_to_join",RECORDER_STATE_CHANGED:"xmpp.recorderStateChanged",REMOTE_STATS:"xmpp.remote_stats",REMOTE_TRACK_ADDED:"xmpp.remote_track_added",REMOTE_TRACK_REMOVED:"xmpp.remote_track_removed",RESERVATION_ERROR:"xmpp.room_reservation_error",ROOM_CONNECT_ERROR:"xmpp.room_connect_error",ROOM_CONNECT_NOT_ALLOWED_ERROR:"xmpp.room_connect_error.not_allowed",ROOM_JOIN_ERROR:"xmpp.room_join_error",ROOM_MAX_USERS_ERROR:"xmpp.room_max_users_error",SENDING_CHAT_MESSAGE:"xmpp.sending_chat_message",SENDRECV_STREAMS_CHANGED:"xmpp.sendrecv_streams_changed",SESSION_ACCEPT_TIMEOUT:"xmpp.session_accept_timeout",SET_LOCAL_DESCRIPTION_ERROR:"xmpp.set_local_description_error",SET_LOCAL_DESCRIPTION_FAILED:"xmpp.set_local_description_failed",SET_REMOTE_DESCRIPTION_ERROR:"xmpp.set_remote_description_error",SET_REMOTE_DESCRIPTION_FAILED:"xmpp.set_remote_description_failed",START_MUTED_FROM_FOCUS:"xmpp.start_muted_from_focus",SUBJECT_CHANGED:"xmpp.subject_changed",LOCAL_UFRAG_CHANGED:"xmpp.local_ufrag_changed",REMOTE_UFRAG_CHANGED:"xmpp.remote_ufrag_changed"}},function(e,t){"use strict";e.exports={AUDIO:"audio",VIDEO:"video"}},function(e,t,n){(function(t){"use strict";function r(e){var t=1;return function(n){if(!n){var r=Math.pow(2,t-1);return t+=1,r*e}t=1}}function i(e,t,n,i,a){function s(e){if(e.data&&e.data.sessionId){if(e.origin!==window.location.origin)return void o.warn("Ignoring sessionId from different origin: "+e.origin);i.setSessionId(e.data.sessionId)}}this.roomName=e,this.xmppService=t,this.getNextTimeout=r(1e3),this.getNextErrorTimeout=r(1e3),this.externalAuthEnabled=!1,this.settings=i,this.options=a,this.sipGatewayEnabled=this.options.connection.hosts&&void 0!==this.options.connection.hosts.call_control,this.eventEmitter=n,this.connection=this.xmppService.connection,window.addEventListener?window.addEventListener("message",s,!1):window.attachEvent("onmessage",s)}var o=n(9).getLogger(t),a=n(35),s=n(38),c=n(39);i.prototype.isExternalAuthEnabled=function(){return this.externalAuthEnabled},i.prototype.isSipGatewayEnabled=function(){return this.sipGatewayEnabled},i.prototype.onMucMemberLeft=function(e){o.info("Someone left is it focus ? "+e),"focus"===Strophe.getResourceFromJid(e)&&(o.info("Focus has left the room - leaving conference"),this.eventEmitter.emit(a.FOCUS_LEFT))},i.prototype.setFocusUserJid=function(e){this.focusUserJid||(this.focusUserJid=e,o.info("Focus jid set to:  "+this.focusUserJid))},i.prototype.getFocusUserJid=function(){return this.focusUserJid},i.prototype.getFocusComponent=function(){var e=this.options.connection.hosts.focus;return e||(e="focus."+this.options.connection.hosts.domain),e},i.prototype.createConferenceIq=function(){var e=$iq({to:this.getFocusComponent(),type:"set"}),t=this.settings.getSessionId(),n=this.settings.getUserId();return o.info("Session ID: "+t+" machine UID: "+n),e.c("conference",{xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":n}),t&&e.attrs({"session-id":t}),void 0!==this.options.connection.enforcedBridge&&e.c("property",{name:"enforcedBridge",value:this.options.connection.enforcedBridge}).up(),void 0!==this.options.connection.hosts&&void 0!==this.options.connection.hosts.call_control&&e.c("property",{name:"call_control",value:this.options.connection.hosts.call_control}).up(),void 0!==this.options.conference.channelLastN&&e.c("property",{name:"channelLastN",value:this.options.conference.channelLastN}).up(),void 0!==this.options.conference.adaptiveLastN&&e.c("property",{name:"adaptiveLastN",value:this.options.conference.adaptiveLastN}).up(),(void 0!==this.options.conference.disableAdaptiveSimulcast||this.options.conference.disableSimulcast)&&e.c("property",{name:"disableAdaptiveSimulcast",value:!!this.options.conference.disableSimulcast||this.options.conference.disableAdaptiveSimulcast}).up(),e.c("property",{name:"disableRtx",value:!0}).up(),e.c("property",{name:"enableLipSync",value:!1!==this.options.connection.enableLipSync}).up(),void 0!==this.options.conference.audioPacketDelay&&e.c("property",{name:"audioPacketDelay",value:this.options.conference.audioPacketDelay}).up(),this.options.conference.startBitrate&&e.c("property",{name:"startBitrate",value:this.options.conference.startBitrate}).up(),this.options.conference.minBitrate&&e.c("property",{name:"minBitrate",value:this.options.conference.minBitrate}).up(),void 0!==this.options.conference.openSctp&&e.c("property",{name:"openSctp",value:this.options.conference.openSctp}).up(),void 0!==this.options.conference.startAudioMuted&&e.c("property",{name:"startAudioMuted",value:this.options.conference.startAudioMuted}).up(),void 0!==this.options.conference.startVideoMuted&&e.c("property",{name:"startVideoMuted",value:this.options.conference.startVideoMuted}).up(),void 0!==this.options.conference.stereo&&e.c("property",{name:"stereo",value:this.options.conference.stereo}).up(),e.c("property",{name:"simulcastMode",value:"rewriting"}).up(),void 0!==this.options.conference.useRoomAsSharedDocumentName&&e.c("property",{name:"useRoomAsSharedDocumentName",value:this.options.conference.useRoomAsSharedDocumentName}).up(),e.up(),e},i.prototype.parseSessionId=function(e){var t=$(e).find("conference").attr("session-id");t&&(o.info("Received sessionId:  "+t),this.settings.setSessionId(t))},i.prototype.parseConfigOptions=function(e){this.setFocusUserJid($(e).find("conference").attr("focusjid"));var t=$(e).find(">conference>property[name='authentication'][value='true']").length>0;o.info("Authentication enabled: "+t),this.externalAuthEnabled=$(e).find(">conference>property[name='externalAuth'][value='true']").length>0,o.info("External authentication enabled: "+this.externalAuthEnabled),this.externalAuthEnabled||this.parseSessionId(e);var n=$(e).find(">conference").attr("identity");this.eventEmitter.emit(s.IDENTITY_UPDATED,t,n),$(e).find(">conference>property[name='sipGatewayEnabled'][value='true']").length&&(this.sipGatewayEnabled=!0),o.info("Sip gateway enabled:  "+this.sipGatewayEnabled)},i.prototype.allocateConferenceFocus=function(e){this.setFocusUserJid(this.options.connection.focusUserJid);var t=this;this.connection.sendIQ(this.createConferenceIq(),function(n){t._allocateConferenceFocusSuccess(n,e)},function(n){t._allocateConferenceFocusError(n,e)}),this.connection.flush()},i.prototype._allocateConferenceFocusError=function(e,t){var n=this,r=$(e).find(">error>session-invalid").length;if(r&&(o.info("Session expired! - removing"),n.settings.clearSessionId()),$(e).find(">error>graceful-shutdown").length)n.eventEmitter.emit(a.GRACEFUL_SHUTDOWN);else{var i=$(e).find(">error>reservation-error");if(i.length){var s,l=i.attr("error-code"),u=$(e).find(">error>text");return u&&(s=u.text()),void n.eventEmitter.emit(a.RESERVATION_ERROR,l,s)}if($(e).find(">error>not-authorized").length)return o.warn("Unauthorized to start the conference",e),Strophe.getDomainFromJid(e.getAttribute("to"))!==n.options.connection.hosts.anonymousdomain&&(n.externalAuthEnabled=!0),void n.eventEmitter.emit(a.AUTHENTICATION_REQUIRED,function(){n.allocateConferenceFocus(t)});if(this.retries>=this.maxRetries)n.eventEmitter.emit(a.ALLOCATE_FOCUS_MAX_RETRIES_ERROR);else{this.retries++;var d=n.getNextErrorTimeout(),p="Focus error, retry after "+d;c.callErrorHandler(new Error(p)),o.error(p,e);var f=n.getFocusComponent();r||n.eventEmitter.emit(a.FOCUS_DISCONNECTED,f,d/1e3),n.getNextTimeout(!0),window.setTimeout(function(){n.allocateConferenceFocus(t)},d)}}},i.prototype._allocateConferenceFocusSuccess=function(e,t){if(this.parseConfigOptions(e),this.getNextErrorTimeout(!0),"true"===$(e).find("conference").attr("ready"))this.getNextTimeout(!0),t();else{var n=this.getNextTimeout();o.info("Waiting for the focus... "+n);var r=this;window.setTimeout(function(){r.allocateConferenceFocus(t)},n)}},i.prototype.authenticate=function(){var e=this;return new Promise(function(t,n){e.connection.sendIQ(e.createConferenceIq(),function(n){e.parseSessionId(n),t()},function(e){var t=$(e).find(">error").attr("code");n(e,t)})})},i.prototype.getLoginUrl=function(e,t){this._getLoginUrl(!1,e,t)},i.prototype._getLoginUrl=function(e,t,n){function r(e,t){c.callErrorHandler(new Error(e)),o.error(e,t),n(t)}var i=$iq({to:this.getFocusComponent(),type:"get"}),a={xmlns:"http://jitsi.org/protocol/focus",room:this.roomName,"machine-uid":this.settings.getUserId()},s="auth url";e&&(a.popup=!0,s="POPUP "+s),i.c("login-url",a),this.connection.sendIQ(i,function(e){var n=$(e).find("login-url").attr("url");(n=decodeURIComponent(n))?(o.info("Got "+s+": "+n),t(n)):r("Failed to get "+s+" from the focus",e)},r.bind(void 0,"Get "+s+" error"))},i.prototype.getPopupLoginUrl=function(e,t){this._getLoginUrl(!0,e,t)},i.prototype.logout=function(e){var t=$iq({to:this.getFocusComponent(),type:"set"}),n=this.settings.getSessionId();return n?(t.c("logout",{xmlns:"http://jitsi.org/protocol/focus","session-id":n}),void this.connection.sendIQ(t,(function(t){var n=$(t).find("logout").attr("logout-url");n&&(n=decodeURIComponent(n)),o.info("Log out OK, url: "+n,t),this.settings.clearSessionId(),e(n)}).bind(this),function(e){var t="Logout error";c.callErrorHandler(new Error(t)),o.error(t,e)})):void e()},e.exports=i}).call(t,"modules/xmpp/moderator.js")},function(e,t){"use strict";e.exports={IDENTITY_UPDATED:"authentication.identity_updated"}},function(e,t){"use strict";var n=[],r=window.onerror,i=window.onunhandledrejection;window.onerror=function(e,t,i,o,a){n.forEach(function(n){n(e,t,i,o,a)}),r&&r(e,t,i,o,a)},window.onunhandledrejection=function(e){n.forEach(function(t){t(null,null,null,null,e.reason)}),i&&i(e)},e.exports={addHandler:function(e){n.push(e)},callErrorHandler:function(e){var t=window.onerror;t&&t(null,null,null,null,e)},callUnhandledRejectionHandler:function(e){var t=window.onunhandledrejection;t&&t(e)}}},function(e,t,n){(function(t){"use strict";function r(e,t,n,i,o,a){this.eventEmitter=t,this.connection=n,this.state=null,this.focusMucJid=i,this.jirecon=o,this.url=null,this.type=e,this._isSupported=!(e===r.types.JIRECON&&!this.jirecon||e!==r.types.JIBRI&&e!==r.types.COLIBRI),this.jireconRid=null,this.roomjid=a}var i=(0,n(9).getLogger)(t),o=n(35),a=n(41),s=n(39);r.types={COLIBRI:"colibri",JIRECON:"jirecon",JIBRI:"jibri"},r.status={ON:"on",OFF:"off",AVAILABLE:"available",UNAVAILABLE:"unavailable",PENDING:"pending",RETRYING:"retrying",BUSY:"busy",FAILED:"failed"},r.action={START:"start",STOP:"stop"},r.prototype.handleJibriPresence=function(e){var t=e.attributes;if(t){var n=t.status;i.log("Handle jibri presence : ",n),n!==this.state&&(this.state="undefined"===n?r.status.UNAVAILABLE:"off"===n?this.state&&"undefined"!==this.state&&this.state!==r.status.UNAVAILABLE?r.status.OFF:r.status.AVAILABLE:n,this.eventEmitter.emit(o.RECORDER_STATE_CHANGED,this.state))}},r.prototype.setRecordingJibri=function(e,t,n,o){e==this.state&&n(a.INVALID_STATE),o=o||{};var s=$iq({to:this.focusMucJid,type:"set"}).c("jibri",{xmlns:"http://jitsi.org/protocol/jibri",action:e===r.status.ON?r.action.START:r.action.STOP,streamid:o.streamId}).up();i.log("Set jibri recording: "+e,s.nodeTree),i.log(s.nodeTree),this.connection.sendIQ(s,function(e){i.log("Result",e),t($(e).find("jibri").attr("state"),$(e).find("jibri").attr("url"))},function(e){i.log("Failed to start recording, error: ",e),n(e)})},r.prototype.setRecordingJirecon=function(e,t,n){e==this.state&&n(new Error("Invalid state!"));var o=$iq({to:this.jirecon,type:"set"}).c("recording",{xmlns:"http://jitsi.org/protocol/jirecon",action:e===r.status.ON?r.action.START:r.action.STOP,mucjid:this.roomjid});"off"===e&&o.attrs({rid:this.jireconRid}),i.log("Start recording");var a=this;this.connection.sendIQ(o,function(n){a.jireconRid=$(n).find("recording").attr("rid"),i.log("Recording "+(e===r.status.ON?"started":"stopped")+"(jirecon)"+n),a.state=e,e===r.status.OFF&&(a.jireconRid=null),t(e)},function(e){i.log("Failed to start recording, error: ",e),n(e)})},r.prototype.setRecordingColibri=function(e,t,n,r){var o=$iq({to:this.focusMucJid,type:"set"});o.c("conference",{xmlns:"http://jitsi.org/protocol/colibri"}),o.c("recording",{state:e,token:r.token});var a=this;this.connection.sendIQ(o,function(n){i.log('Set recording "',e,'". Result:',n);var r=$(n).find(">conference>recording").attr("state");a.state=r,t(r),"pending"===r&&a.connection.addHandler(function(e){var n=$(e).find("recording").attr("state");n&&(a.state=r,t(n))},"http://jitsi.org/protocol/colibri","iq",null,null,null)},function(e){i.warn(e),n(e)})},r.prototype.setRecording=function(e,t,n,o){switch(this.type){case r.types.JIRECON:this.setRecordingJirecon(e,t,n,o);break;case r.types.COLIBRI:this.setRecordingColibri(e,t,n,o);break;case r.types.JIBRI:this.setRecordingJibri(e,t,n,o);break;default:var a="Unknown recording type!";return s.callErrorHandler(new Error(a)),void i.error(a)}},r.prototype.toggleRecording=function(e,t){var n=this.state;if(n===r.status.UNAVAILABLE||n===r.status.FAILED?t(r.status.FAILED,a.RECORDER_UNAVAILABLE):n===r.status.BUSY&&t(r.status.BUSY,a.RECORDER_BUSY),(n===r.status.OFF||n===r.status.AVAILABLE)&&(!e.token&&this.type===r.types.COLIBRI||!e.streamId&&this.type===r.types.JIBRI))return t(r.status.FAILED,a.NO_TOKEN),void i.error("No token passed!");var o=n===r.status.AVAILABLE||n===r.status.OFF?r.status.ON:r.status.OFF,s=this;i.log("Toggle recording (old state, new state): ",n,o),this.setRecording(o,function(e,r){e&&e!==n&&(s.state=e,s.url=r,t(e))},function(e){t(r.status.FAILED,e)},e)},r.prototype.isSupported=function(){return this._isSupported},r.prototype.getState=function(){return this.state},r.prototype.getURL=function(){return this.url},e.exports=r}).call(t,"modules/xmpp/recording.js")},function(e,t){"use strict";e.exports={RECORDER_UNAVAILABLE:"recorder.unavailable",RECORDER_BUSY:"recorder.busy",NO_TOKEN:"recorder.noToken",STATE_CHANGE_FAILED:"recorder.stateChangeFailed",INVALID_STATE:"recorder.invalidState"}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),r=function(){function e(){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.connection=null}return n(e,[{key:"init",value:function(e){this.connection=e}}]),e}();t.default=r},function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0},a=n(9),s=r(n(44)),c=r(n(35)),l=r(n(39)),u=r(n(59)),d=r(n(42)),p=(0,a.getLogger)(t),f=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.xmpp=e,r.eventEmitter=n,r.sessions={},r.ice_config={iceServers:[]},r.media_constraints={mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"init",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.addHandler(this.onJingle.bind(this),"urn:xmpp:jingle:1","iq","set",null,null)}},{key:"onJingle",value:function(e){var t=$(e).find("jingle").attr("sid"),n=$(e).find("jingle").attr("action"),r=e.getAttribute("from"),i=$iq({type:"result",to:r,id:e.getAttribute("id")});p.log("on jingle "+n+" from "+r,e);var o=this.sessions[t];if("session-initiate"!=n){if(!o)return i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),p.warn("invalid session id",e),this.connection.send(i),!0;if(r!=o.peerjid)return p.warn("jid mismatch for session id",t,o.peerjid,e),i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("item-not-found",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up().c("unknown-session",{xmlns:"urn:xmpp:jingle:errors:1"}),this.connection.send(i),!0}else if(void 0!==o)return i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("service-unavailable",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up(),p.warn("duplicate session id",t,e),this.connection.send(i),!0;var a=window.performance.now();switch(n){case"session-initiate":p.log("(TIME) received session-initiate:\t",a);var d=$(e).find("jingle>startmuted");if(d&&d.length>0){var f=d.attr("audio"),h=d.attr("video");this.eventEmitter.emit(c.default.START_MUTED_FROM_FOCUS,"true"===f,"true"===h)}o=new s.default($(e).attr("to"),$(e).find("jingle").attr("sid"),r,this.connection,this.media_constraints,this.ice_config,this.xmpp),this.sessions[o.sid]=o,this.eventEmitter.emit(c.default.CALL_INCOMING,o,$(e).find(">jingle"),a),u.default.analytics.sendEvent("xmpp.session-initiate",{value:a});break;case"session-terminate":p.log("terminating...",o.sid);var m=null,g=null;$(e).find(">jingle>reason").length&&(m=$(e).find(">jingle>reason>:first")[0].tagName,g=$(e).find(">jingle>reason>text").text()),this.terminate(o.sid,m,g),this.eventEmitter.emit(c.default.CALL_ENDED,o,m,g);break;case"transport-replace":p.info("(TIME) Start transport replace",a),u.default.analytics.sendEvent("xmpp.transport-replace.start",{value:a}),o.replaceTransport($(e).find(">jingle"),function(){var e=window.performance.now();p.info("(TIME) Transport replace success!",e),u.default.analytics.sendEvent("xmpp.transport-replace.success",{value:e})},function(e){l.default.callErrorHandler(e),p.error("Transport replace failed",e),o.sendTransportReject()});break;case"addsource":case"source-add":o.addSource($(e).find(">jingle>content"));break;case"removesource":case"source-remove":o.removeSource($(e).find(">jingle>content"));break;default:p.warn("jingle action not implemented",n),i.attrs({type:"error"}),i.c("error",{type:"cancel"}).c("bad-request",{xmlns:"urn:ietf:params:xml:ns:xmpp-stanzas"}).up()}return this.connection.send(i),!0}},{key:"terminate",value:function(e,t,n){this.sessions.hasOwnProperty(e)&&("ended"!=this.sessions[e].state&&this.sessions[e].onTerminated(t,n),delete this.sessions[e])}},{key:"getStunAndTurnCredentials",value:function(){var e=this;this.connection.sendIQ($iq({type:"get",to:this.connection.domain}).c("services",{xmlns:"urn:xmpp:extdisco:1"}).c("service",{host:"turn."+this.connection.domain}),function(t){var n=[];$(t).find(">services>service").each(function(e,t){var r={},i=(t=$(t)).attr("type");switch(i){case"stun":r.url="stun:"+t.attr("host"),t.attr("port")&&(r.url+=":"+t.attr("port")),n.push(r);break;case"turn":case"turns":r.url=i+":";var o=t.attr("username");o&&(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10)<28?r.url+=o+"@":r.username=o),r.url+=t.attr("host");var a=t.attr("port");a&&"3478"!=a&&(r.url+=":"+t.attr("port"));var s=t.attr("transport");s&&"udp"!=s&&(r.url+="?transport="+s),r.credential=t.attr("password")||r.credential,n.push(r)}}),e.ice_config.iceServers=n},function(e){p.warn("getting turn credentials failed",e),p.warn("is mod_turncredentials or similar installed?")})}},{key:"getLog",value:function(){var e=this,t={};return Object.keys(this.sessions).forEach(function(n){var r=e.sessions[n].peerconnection;r&&r.updateLog&&(t["jingle_"+n]={updateLog:r.updateLog,stats:r.stats,url:window.location.href})}),t}}]),t}(d.default);e.exports=function(e,t){Strophe.addConnectionPlugin("jingle",new f(e,t))}}).call(t,"modules/xmpp/strophe.jingle.js")},function(e,t,n){(function(t){"use strict";function r(e,t,n,r,i,o,a,s){l.call(this,e,t,n,r,i,o,a,s),this.localSDP=null,this.lasticecandidate=!1,this.closed=!1,this.addssrc=[],this.removessrc=[],this.modifyingLocalStreams=!1,this.modifiedSSRCs={},this.localUfrag=null,this.remoteUfrag=null,this.ssrcOwners={},this.jingleOfferIq=null,this.webrtcIceUdpDisable=!!this.service.options.webrtcIceUdpDisable,this.webrtcIceTcpDisable=!!this.service.options.webrtcIceTcpDisable,this.failICE=!!this.service.options.failICE,this.modifySourcesQueue=h.queue(this._modifySources.bind(this),1)}function i(e,t){var n=$(e.tree()).find('>jingle>content[name="'+t+'"]');n&&n.length||($(e.tree()).find(">jingle").append('<content name="'+t+'"></content>'),n=$(e.tree()).find('>jingle>content[name="'+t+'"]'));var r=n.find(">description");return r&&r.length||(n.append('<description xmlns="urn:xmpp:jingle:apps:rtp:1" media="'+t+'"></description>'),r=n.find(">description")),r}function o(e){var t=e.split("\n").filter(function(e){return e.startsWith("a=ice-ufrag:")});if(t.length>0)return t[0].substr("a=ice-ufrag:".length)}var a=n(9),s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),c=(0,a.getLogger)(t),l=n(46),u=n(47),d=n(129),p=n(52),f=n(130),h=n(131),m=n(35),g=n(32),v=n(48),y=n(39),b=n(59),_=1e4;(r.prototype=Object.create(l.prototype)).constructor=r,r.prototype.doInitialize=function(){var e=this;this.lasticecandidate=!1,this.isreconnect=!1,this.wasstable=!1,this.peerconnection=new u(this.connection.jingle.ice_config,v.getPCConstraints(),this),this.peerconnection.onicecandidate=function(t){if(t){var n=t.candidate;if(n){var r=n.protocol;if("string"==typeof r)if("tcp"===(r=r.toLowerCase())||"ssltcp"===r){if(e.webrtcIceTcpDisable)return}else if("udp"==r&&e.webrtcIceUdpDisable)return}e.sendIceCandidate(n)}},this.peerconnection.onaddstream=function(t){e.remoteStreamAdded(t.stream)},this.peerconnection.onremovestream=function(t){e.remoteStreamRemoved(t.stream)},this.peerconnection.onsignalingstatechange=function(){e&&e.peerconnection&&"stable"===e.peerconnection.signalingState&&(e.wasstable=!0)},this.peerconnection.oniceconnectionstatechange=function(){if(e&&e.peerconnection){var t=window.performance.now();switch(e.room.connectionTimes["ice.state."+e.peerconnection.iceConnectionState]=t,c.log("(TIME) ICE "+e.peerconnection.iceConnectionState+":\t",t),b.analytics.sendEvent("ice."+e.peerconnection.iceConnectionState,{value:t}),e.peerconnection.iceConnectionState){case"connected":"stable"===e.peerconnection.signalingState&&e.isreconnect&&e.room.eventEmitter.emit(m.CONNECTION_RESTORED),e.isreconnect=!1;break;case"disconnected":if(e.closed)break;e.isreconnect=!0,e.wasstable&&e.room.eventEmitter.emit(m.CONNECTION_INTERRUPTED);break;case"failed":e.room.eventEmitter.emit(m.CONNECTION_ICE_FAILED,e.peerconnection)}}},this.peerconnection.onnegotiationneeded=function(){e.room.eventEmitter.emit(m.PEERCONNECTION_READY,e)}},r.prototype.sendIceCandidate=function(e){var t=this;if(e&&!this.lasticecandidate){var n=p.iceparams(this.localSDP.media[e.sdpMLineIndex],this.localSDP.session),r=p.candidateToJingle(e.candidate);if(!n||!r){var i="failed to get ice && jcand";return y.callErrorHandler(new Error(i)),void c.error(i)}n.xmlns="urn:xmpp:jingle:transports:ice-udp:1",this.usedrip?(0===this.drip_container.length&&window.setTimeout(function(){0!==t.drip_container.length&&(t.sendIceCandidates(t.drip_container),t.drip_container=[])},20),this.drip_container.push(e)):t.sendIceCandidates([e])}else c.log("sendIceCandidate: last candidate."),this.lasticecandidate=!0},r.prototype.sendIceCandidates=function(e){c.log("sendIceCandidates",e);for(var t=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-info",initiator:this.initiator,sid:this.sid}),n=0;n<this.localSDP.media.length;n++){var r=e.filter(function(e){return e.sdpMLineIndex==n}),i=p.parse_mline(this.localSDP.media[n].split("\r\n")[0]);if(r.length>0){var o=p.iceparams(this.localSDP.media[n],this.localSDP.session);o.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.c("content",{creator:this.initiator==this.me?"initiator":"responder",name:r[0].sdpMid?r[0].sdpMid:i.media}).c("transport",o);for(var a=0;a<r.length;a++){var s=p.candidateToJingle(r[a].candidate);this.service.options.failICE&&(s.ip="1.1.1.1"),t.c("candidate",s).up()}var l=p.find_line(this.localSDP.media[n],"a=fingerprint:",this.localSDP.session);if(l){var u=p.parse_fingerprint(l);u.required=!0,t.c("fingerprint",{xmlns:"urn:xmpp:jingle:apps:dtls:0"}).t(u.fingerprint),delete u.fingerprint,t.attrs(u),t.up()}t.up(),t.up()}}this.connection.sendIQ(t,null,this.newJingleErrorHandler(t,function(e){y.callErrorHandler(new Error("Jingle error: "+JSON.stringify(e)))}),_)},r.prototype.readSsrcInfo=function(e){var t=this;$(e).each(function(e,n){$(n).find('description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("ssrc");$(this).find('>ssrc-info[xmlns="http://jitsi.org/jitmeet"]').each(function(){var n=this.getAttribute("owner");t.ssrcOwners[e]=n})})})},r.prototype.acceptOffer=function(e,t,n){this.state=s.ACTIVE,this.setOfferCycle(e,(function(){this.sendSessionAccept(this.localSDP,t,n)}).bind(this),n)},r.prototype.setOfferCycle=function(e,t,n){this.jingleOfferIq=e,this.modifySourcesQueue.push(t,(function(e){e&&(n&&n(e),r.onJingleFatalError(this,e))}).bind(this))},r._fixAnswerRFC4145Setup=function(e,t){g.isChrome()&&e&&t&&e.media&&t.media&&e.media.length==t.media.length&&(t.media.forEach(function(n,r){p.find_line(e.media[r],"a=setup:actpass",e.session)&&(t.media[r]=n.replace(/a=setup:active/g,"a=setup:passive"))}),t.raw=t.session+t.media.join(""))},r.prototype.replaceTransport=function(e,t,n){this.room.eventEmitter.emit(m.ICE_RESTARTING);var r=e.clone();e.find(">content[name='data']").remove();var i=this;this.setOfferCycle(e,function(){i.setOfferCycle(r,function(){i.sendTransportAccept(i.localSDP,t,n)},n)},n)},r.prototype.sendSessionAccept=function(e,t,n){var r=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-accept",initiator:this.initiator,responder:this.responder,sid:this.sid});this.webrtcIceTcpDisable&&(e.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(e.removeUdpCandidates=!0),this.failICE&&(e.failICE=!0),e.toJingle(r,this.initiator==this.me?"initiator":"responder",null),this.fixJingle(r),r=r.tree(),c.info("Sending session-accept",r);var i=this;this.connection.sendIQ(r,t,this.newJingleErrorHandler(r,function(e){n(e),i.room.eventEmitter.emit(m.SESSION_ACCEPT_TIMEOUT)}),_)},r.prototype.sendTransportAccept=function(e,t,n){var r=this,i=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-accept",initiator:this.initiator,sid:this.sid});e.media.forEach(function(t,n){var o=p.parse_mline(t.split("\r\n")[0]);i.c("content",{creator:r.initiator==r.me?"initiator":"responder",name:o.media}),e.transportToJingle(n,i),i.up()}),i=i.tree(),console.info("Sending transport-accept: ",i),r.connection.sendIQ(i,t,r.newJingleErrorHandler(i,n),_)},r.prototype.sendTransportReject=function(e,t){var n=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"transport-reject",initiator:this.initiator,sid:this.sid});n=n.tree(),c.info("Sending 'transport-reject",n),this.connection.sendIQ(n,e,this.newJingleErrorHandler(n,t),_)},r.prototype.terminate=function(e,t,n,r){this.state=s.ENDED;var i=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"session-terminate",initiator:this.initiator,sid:this.sid}).c("reason").c(e||"success");t&&i.up().c("text").t(t),i=i.tree(),c.info("Sending session-terminate",i),this.connection.sendIQ(i,n,this.newJingleErrorHandler(i,r),_),this.connection.jingle.terminate(this.sid)},r.prototype.onTerminated=function(e,t){this.state="ended",c.info("Session terminated",this,e,t),this.close()},r.prototype.addSource=function(e){var t=this;if(!this.peerconnection.localDescription)return c.warn("addSource - localDescription not ready yet"),void setTimeout(function(){t.addSource(e)},200);c.log("addssrc",(new Date).getTime()),c.log("ice",this.peerconnection.iceConnectionState),this.readSsrcInfo(e);var n=new f(this.peerconnection.remoteDescription.sdp),r=new f(this.peerconnection.localDescription.sdp);$(e).each(function(e,i){var o=$(i).attr("name"),a="";$(i).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(a+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")}),$(i).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=$(this).attr("ssrc");return r.containsSSRC(e)?void c.warn("Got add stream request for my own ssrc: "+e):n.containsSSRC(e)?void c.warn("Source-add request for existing SSRC: "+e):void $(this).find(">parameter").each(function(){a+="a=ssrc:"+e+" "+$(this).attr("name"),$(this).attr("value")&&$(this).attr("value").length&&(a+=":"+$(this).attr("value")),a+="\r\n"})}),n.media.forEach(function(e,r){p.find_line(e,"a=mid:"+o)&&(n.media[r]+=a,t.addssrc[r]||(t.addssrc[r]=""),t.addssrc[r]+=a)}),n.raw=n.session+n.media.join("")}),this.modifySourcesQueue.push(function(){c.log("modify sources done");var e=new f(t.peerconnection.localDescription.sdp);c.log("SDPs",r,e),t.notifyMySSRCUpdate(r,e)})},r.prototype.removeSource=function(e){var t=this;if(!this.peerconnection.localDescription)return c.warn("removeSource - localDescription not ready yet"),void setTimeout(function(){t.removeSource(e)},200);c.log("removessrc",(new Date).getTime()),c.log("ice",this.peerconnection.iceConnectionState);var n=new f(this.peerconnection.remoteDescription.sdp),r=new f(this.peerconnection.localDescription.sdp);$(e).each(function(e,i){var o=$(i).attr("name"),a="";$(i).find('ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(a+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")});var s=[];$(i).find('source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=$(this).attr("ssrc");if(r.containsSSRC(e)){var t="Got remove stream request for my own ssrc: "+e;return y.callErrorHandler(new Error(t)),void c.error(t)}s.push(e)}),n.media.forEach(function(e,n){p.find_line(e,"a=mid:"+o)&&(t.removessrc[n]||(t.removessrc[n]=""),s.forEach(function(r){var i=p.find_lines(e,"a=ssrc:"+r);i.length&&(t.removessrc[n]+=i.join("\r\n")+"\r\n"),t.addssrc[n]&&(t.addssrc[n]=t.addssrc[n].replace(new RegExp("^a=ssrc:"+r+" .*\r\n","gm"),""))}),t.removessrc[n]+=a)}),n.raw=n.session+n.media.join("")}),this.modifySourcesQueue.push(function(){c.log("modify sources done");var e=new f(t.peerconnection.localDescription.sdp);c.log("SDPs",r,e),t.notifyMySSRCUpdate(r,e)})},r.prototype._modifySources=function(e,t){function n(e,n){n?c.error(e=e+": "+n,n):(c.error(e),n=new Error(e)),y.callErrorHandler(new Error(e)),t(n)}var i,a=this,s=null;if("closed"!=this.peerconnection.signalingState){if(!(this.addssrc.length||this.removessrc.length||this.modifyingLocalStreams||null!==this.jingleOfferIq))return e&&e(),void t();this.jingleOfferIq?(s=new f(""),this.webrtcIceTcpDisable&&(s.removeTcpCandidates=!0),this.webrtcIceUdpDisable&&(s.removeUdpCandidates=!0),this.failICE&&(s.failICE=!0),s.fromJingle(this.jingleOfferIq),this.readSsrcInfo($(this.jingleOfferIq).find(">content")),this.jingleOfferIq=null,i=this.media_constraints):(this.modifyingLocalStreams=!1,s=new f(this.peerconnection.remoteDescription.sdp)),this.addssrc.forEach(function(e,t){s.media[t]+=e}),this.addssrc=[],this.removessrc.forEach(function(e,t){(e=e.split("\r\n")).pop(),e.forEach(function(e){s.media[t]=s.media[t].replace(e+"\r\n","")})}),this.removessrc=[],s.raw=s.session+s.media.join("");var l=o(s.raw);l!=a.remoteUfrag&&(a.remoteUfrag=l,a.room.eventEmitter.emit(m.REMOTE_UFRAG_CHANGED,l)),this.peerconnection.setRemoteDescription(new RTCSessionDescription({type:"offer",sdp:s.raw}),function(){return"closed"==a.signalingState?void n("createAnswer attempt on closed state"):void a.peerconnection.createAnswer(function(i){var c=new f(i.sdp);r._fixAnswerRFC4145Setup(s,c),i.sdp=c.raw,a.localSDP=new f(i.sdp),i.sdp=a.localSDP.raw;var l=o(i.sdp);l!=a.localUfrag&&(a.localUfrag=l,a.room.eventEmitter.emit(m.LOCAL_UFRAG_CHANGED,l)),a.peerconnection.setLocalDescription(i,function(){e&&e(),t()},n.bind(void 0,"modified setLocalDescription failed"))},n.bind(void 0,"modified answer failed"),i)},n.bind(void 0,"modify failed"))}},r.prototype.addStream=function(e,t,n,r,i){var o=null;if(this.peerconnection&&this.peerconnection.localDescription&&(o=new f(this.peerconnection.localDescription.sdp)),!o||!this.peerconnection||i)return this.peerconnection&&(e||r)&&this.peerconnection.addStream(e,r),r&&(this.modifiedSSRCs[r.type]=this.modifiedSSRCs[r.type]||[],this.modifiedSSRCs[r.type].push(r)),void t();(e||r)&&this.peerconnection.addStream(e,r),this.modifyingLocalStreams=!0;var a=this;this.modifySourcesQueue.push(function(){c.log("modify sources done"),r&&(a.modifiedSSRCs[r.type]=a.modifiedSSRCs[r.type]||[],a.modifiedSSRCs[r.type].push(r));var e=new f(a.peerconnection.localDescription.sdp);c.log("SDPs",o,e),a.notifyMySSRCUpdate(o,e)},function(e){e?n(e):t()})},r.prototype.generateNewStreamSSRCInfo=function(){return this.peerconnection.generateNewStreamSSRCInfo()},r.prototype.removeStream=function(e,t,n,r){if(this.peerconnection){var i=null;if(this.peerconnection.localDescription&&(i=new f(this.peerconnection.localDescription.sdp)),i){if(g.getBrowserType()===g.RTC_BROWSER_FIREFOX){if(!e)return void t();var o=null,a=null;if(e.getAudioTracks()&&e.getAudioTracks().length?a=e.getAudioTracks()[0]:e.getVideoTracks()&&e.getVideoTracks().length&&(a=e.getVideoTracks()[0]),!a){var s="Cannot remove tracks: no tracks.";return c.log(s),void n(new Error(s))}this.peerconnection.peerconnection.getSenders().some(function(e){if(e.track===a)return o=e,!0}),o?this.peerconnection.peerconnection.removeTrack(o):c.log("Cannot remove tracks: no RTPSender.")}else e&&this.peerconnection.removeStream(e,!1,r);this.modifyingLocalStreams=!0;var l=this;this.modifySourcesQueue.push(function(){c.log("modify sources done");var e=new f(l.peerconnection.localDescription.sdp);r&&(l.modifiedSSRCs[r.type]=l.modifiedSSRCs[r.type]||[],l.modifiedSSRCs[r.type].push(r)),c.log("SDPs",i,e),l.notifyMySSRCUpdate(i,e)},function(e){e?n(e):t()})}else t()}else t()},r.prototype.notifyMySSRCUpdate=function(e,t){if(this.state===s.ACTIVE){r=new d(t,e);var n=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-remove",initiator:this.initiator,sid:this.sid});r.toJingle(n),this.fixJingle(n)&&n?(c.info("Sending source-remove",n.tree()),this.connection.sendIQ(n,null,this.newJingleErrorHandler(n,function(e){y.callErrorHandler(new Error("Jingle error: "+JSON.stringify(e)))}),_)):c.log("removal not necessary");var r=new d(e,t),i=$iq({to:this.peerjid,type:"set"}).c("jingle",{xmlns:"urn:xmpp:jingle:1",action:"source-add",initiator:this.initiator,sid:this.sid});r.toJingle(i),this.fixJingle(i)&&i?(c.info("Sending source-add",i.tree()),this.connection.sendIQ(i,null,this.newJingleErrorHandler(i,function(e){y.callErrorHandler(new Error("Jingle error: "+JSON.stringify(e)))}),_)):c.log("addition not necessary")}else c.warn("Skipping SSRC update in '"+this.state+" ' state.")},r.prototype.newJingleErrorHandler=function(e,t){return(function(n){var r={},i=$(n).find("error");if(i.length){r.code=i.attr("code");var o=$(n).find("error :first");o.length&&(r.reason=o[0].tagName)}n||(r.reason="timeout"),r.source=null,e&&"function"==typeof e.tree&&(r.source=e.tree()),c.error("Jingle error",r),t&&t(r)}).bind(this)},r.onJingleFatalError=function(e,t){this.room.eventEmitter.emit(m.CONFERENCE_SETUP_FAILED,t),this.room.eventEmitter.emit(m.JINGLE_FATAL_ERROR,e,t)},r.prototype.remoteStreamAdded=function(e){var t=this;return v.isUserStream(e)?((g.isChrome()||g.isNWJS())&&(e.onaddtrack=function(e){t.remoteTrackAdded(e.target,e.track)},e.onremovetrack=function(e){t.remoteTrackRemoved(e.target,e.track)}),e.getAudioTracks().forEach(function(n){t.remoteTrackAdded(e,n)}),void e.getVideoTracks().forEach(function(n){t.remoteTrackAdded(e,n)})):void c.info("Ignored remote 'stream added' event for non-user stream",e)},r.prototype.remoteTrackAdded=function(e,t){c.info("Remote track added",e,t);var n=v.getStreamID(e),r=t.kind,i={stream:e,track:t,mediaType:t.kind,owner:void 0,muted:null};try{if(!r)throw c.error("MediaType undefined",t),new Error("MediaType undefined for remote track");var o=new f(this.peerconnection.remoteDescription.sdp).media.filter(function(e){return e.startsWith("m="+r)});if(!o.length)throw c.error("No media for type "+r+" found in remote SDP"),new Error("No media for type "+r+" found in remote SDP for remote track");var a,s=p.find_lines(o[0],"a=ssrc:");if(!(s=s.filter(function(e){var t=g.isTemasysPluginUsed()?"mslabel":"msid";return-1!==e.indexOf(t+":"+n)})).length)throw c.error("No SSRC lines for ",n),new Error("No SSRC lines for streamId "+n+" for remote track");if(a=s[0].substring(7).split(" ")[0],!this.ssrcOwners[a])throw c.error("No SSRC owner known for: "+a),new Error("No SSRC owner known for: "+a+" for remote track");i.owner=this.ssrcOwners[a],c.log("associated jid",this.ssrcOwners[a],a),i.ssrc=a,this.room.remoteTrackAdded(i)}catch(e){y.callErrorHandler(e)}},r.prototype.remoteStreamRemoved=function(e){var t=this;return v.isUserStream(e)?(e.getVideoTracks().forEach(function(n){t.remoteTrackRemoved(e,n)}),void e.getAudioTracks().forEach(function(n){t.remoteTrackRemoved(e,n)})):void c.info("Ignored remote 'stream removed' event for non-user stream",e)},r.prototype.remoteTrackRemoved=function(e,t){c.info("Remote track removed",e,t);var n=v.getStreamID(e),r=t&&t.id;try{if(!n)throw c.error("No stream ID for",e),new Error("Remote track removal failed - No stream ID");if(!r)throw c.error("No track ID for",t),new Error("Remote track removal failed - No track ID");this.room.eventEmitter.emit(m.REMOTE_TRACK_REMOVED,n,r)}catch(e){y.callErrorHandler(e)}},r.prototype.getIceConnectionState=function(){return this.peerconnection.iceConnectionState},r.prototype.close=function(){this.closed=!0,this.peerconnection&&this.peerconnection.close()},r.prototype.fixJingle=function(e){switch($(e.nodeTree).find("jingle").attr("action")){case"source-add":case"session-accept":this.fixSourceAddJingle(e);break;case"source-remove":this.fixSourceRemoveJingle(e);break;default:var t="Unknown jingle action!";return y.callErrorHandler(t),c.error(t),!1}var n=$(e.tree()).find(">jingle>content>description>source");return n&&n.length>0},r.prototype.fixSourceAddJingle=function(e){var t=this.modifiedSSRCs.unmute;this.modifiedSSRCs.unmute=[],t&&t.length&&t.forEach(function(t){var n=$(e.tree()).find('>jingle>content[name="'+t.mtype+'"]>description');n&&n.length&&(t.ssrc.ssrcs.forEach(function(e){n.find('>source[ssrc="'+e+'"]').remove()}),t.ssrc.groups.forEach(function(e){n.find('>ssrc-group[semantics="'+e.group.semantics+'"]:has(source[ssrc="'+e.primarySSRC+'"])').remove()}))}),t=this.modifiedSSRCs.addMuted,this.modifiedSSRCs.addMuted=[],t&&t.length&&t.forEach(function(t){var n=i(e,t.mtype),r=Math.random().toString(36).substring(2);t.ssrc.ssrcs.forEach(function(e){n.find('>source[ssrc="'+e+'"]').remove(),n.append('<source xmlns="urn:xmpp:jingle:apps:rtp:ssma:0" ssrc="'+e+'"><parameter xmlns="urn:xmpp:jingle:apps:rtp:ssma:0" value="'+t.msid+'" name="msid"/><parameter xmlns="urn:xmpp:jingle:apps:rtp:ssma:0" value="'+r+'" name="cname" /></source>')}),t.ssrc.groups.forEach(function(e){n.find('>ssrc-group[semantics="'+e.group.semantics+'"]:has(source[ssrc="'+e.primarySSRC+'"])').remove(),n.append('<ssrc-group semantics="'+e.group.semantics+'" xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"><source ssrc="'+e.group.ssrcs.split(" ").join('"/><source ssrc="')+'"/></ssrc-group>')})})},r.prototype.fixSourceRemoveJingle=function(e){var t=this.modifiedSSRCs.mute;this.modifiedSSRCs.mute=[],t&&t.length&&t.forEach(function(t){t.ssrc.ssrcs.forEach(function(n){$(e.tree()).find('>jingle>content[name="'+t.mtype+'"]>description>source[ssrc="'+n+'"]').remove()}),t.ssrc.groups.forEach(function(n){$(e.tree()).find('>jingle>content[name="'+t.mtype+'"]>description>ssrc-group[semantics="'+n.group.semantics+'"]:has(source[ssrc="'+n.primarySSRC+'"])').remove()})}),t=this.modifiedSSRCs.remove,this.modifiedSSRCs.remove=[],t&&t.length&&t.forEach(function(t){var n=i(e,t.mtype);t.ssrc.ssrcs.forEach(function(e){var t=n.find('>source[ssrc="'+e+'"]');t&&t.length||n.append('<source xmlns="urn:xmpp:jingle:apps:rtp:ssma:0" ssrc="'+e+'"></source>')}),t.ssrc.groups.forEach(function(e){var t=n.find('>ssrc-group[semantics="'+e.group.semantics+'"]:has(source[ssrc="'+e.primarySSRC+'"])');t&&t.length||n.append('<ssrc-group semantics="'+e.group.semantics+'" xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"><source ssrc="'+e.group.ssrcs.split(" ").join('"/><source ssrc="')+'"/></ssrc-group>')})})},e.exports=r}).call(t,"modules/xmpp/JingleSessionPC.js")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PENDING="pending",t.ACTIVE="active",t.ENDED="ended"},function(e,t,n){(function(t){"use strict";function r(e,t,n,r,i,o,a,s){this.me=e,this.sid=t,this.peerjid=n,this.connection=r,this.service=a,this.eventEmitter=s,this.usedrip=!0,this.drip_container=[],this.media_constraints=i,this.ice_config=o,this.room=null,this.state=null}var i=n(9),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(45)),a=(0,i.getLogger)(t);r.prototype.initialize=function(e,t){if(null!==this.state){var n="attempt to initiate on session "+this.sid+"in state "+this.state;throw a.error(n),new Error(n)}this.room=t,this.state=o.PENDING,this.initiator=e?this.me:this.peerjid,this.responder=e?this.peerjid:this.me,this.doInitialize()},r.prototype.doInitialize=function(){},r.prototype.addIceCandidates=function(e){},r.prototype.getState=function(){return this.state},r.prototype.addSources=function(e){},r.prototype.removeSources=function(e){},r.prototype.terminate=function(e,t,n,r){},r.prototype.acceptOffer=function(e,t,n){},e.exports=r}).call(t,"modules/xmpp/JingleSession.js")},function(e,t,n){(function(t){"use strict";function r(e,t,r){var i=this;this.session=r,this.replaceSSRCs={audio:[],video:[]},this.recvOnlySSRCs={};var o=null;o=c.isFirefox()?mozRTCPeerConnection:c.isTemasysPluginUsed()?RTCPeerConnection:webkitRTCPeerConnection,this.peerconnection=new o(e,t),this.updateLog=[],this.stats={},this.statsinterval=null,this.maxstats=0;var a=n(123).Interop;this.interop=new a;var s=n(127);this.simulcast=new s({numOfLayers:f,explodeRemoteSimulcast:!1}),this.eventEmitter=this.session.room.eventEmitter,this.trace=function(e,t){i.updateLog.push({time:new Date,type:e,value:t||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(e){c.isTemasysPluginUsed()||i.trace("onicecandidate",JSON.stringify(e.candidate,null," ")),null!==i.onicecandidate&&i.onicecandidate(e)},this.onaddstream=null,this.peerconnection.onaddstream=function(e){i.trace("onaddstream",e.stream.id),null!==i.onaddstream&&i.onaddstream(e)},this.onremovestream=null,this.peerconnection.onremovestream=function(e){i.trace("onremovestream",e.stream.id),null!==i.onremovestream&&i.onremovestream(e)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(e){i.trace("onsignalingstatechange",i.signalingState),null!==i.onsignalingstatechange&&i.onsignalingstatechange(e)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(e){i.trace("oniceconnectionstatechange",i.iceConnectionState),null!==i.oniceconnectionstatechange&&i.oniceconnectionstatechange(e)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(e){i.trace("onnegotiationneeded"),null!==i.onnegotiationneeded&&i.onnegotiationneeded(e)},i.ondatachannel=null,this.peerconnection.ondatachannel=function(e){i.trace("ondatachannel",e),null!==i.ondatachannel&&i.ondatachannel(e)},!c.isFirefox()&&this.maxstats&&(this.statsinterval=window.setInterval(function(){i.peerconnection.getStats(function(e){for(var t=e.result(),n=new Date,r=0;r<t.length;++r)t[r].names().forEach(function(e){var o=t[r].id+"-"+e;i.stats[o]||(i.stats[o]={startTime:n,endTime:n,values:[],times:[]}),i.stats[o].values.push(t[r].stat(e)),i.stats[o].times.push(n.getTime()),i.stats[o].values.length>i.maxstats&&(i.stats[o].values.shift(),i.stats[o].times.shift()),i.stats[o].endTime=n})})},1e3))}function i(e){if("object"!==(void 0===e?"undefined":o(e))||null===e||"string"!=typeof e.sdp)return a.warn("An empty description was passed as an argument."),e;var t={},n={},r=u.parse(e.sdp);return Array.isArray(r.media)?(r.media.forEach(function(e){Array.isArray(e.ssrcs)&&(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){if(void 0!==e.semantics&&void 0!==e.ssrcs){var t=Number(e.ssrcs.split(" ")[0]);n[t]=n[t]||[],n[t].push(e)}}),e.ssrcs.forEach(function(e){"msid"===e.attribute&&(t[e.value]=t[e.value]||{groups:[],ssrcs:[]},t[e.value].ssrcs.push(e.id),n[e.id]&&n[e.id].forEach(function(n){t[e.value].groups.push({primarySSRC:e.id,group:n})}))}))}),t):void 0}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=(0,n(9).getLogger)(t),s=n(48),c=n(32),l=n(35),u=n(119),d=n(31),p=n(39),f=3,h=function(e){return void 0===e||null==e?"":"type: "+e.type+"\r\n"+e.sdp};r.prototype.ssrcReplacement=function(e){if("object"!==(void 0===e?"undefined":o(e))||null===e||"string"!=typeof e.sdp)return a.warn("An empty description was passed as an argument."),e;var t=u.parse(e.sdp);if(Array.isArray(t.media)){var n=!1;return t.media.forEach((function(e){if(this.replaceSSRCs[e.type]){n=!0;for(var t=this.replaceSSRCs[e.type].splice(0,1),r=[];t&&t.length;){var i=t[0];switch(i.type){case"mute":case"addMuted":e.ssrcs||(e.ssrcs=[]);var o=i.ssrc.groups,s=null;if(o&&o.length)s=o[0].primarySSRC;else{if(!i.ssrc.ssrcs||!i.ssrc.ssrcs.length){p.callErrorHandler(new Error("SSRC replacement error!")),a.error("SSRC replacement error!");break}s=i.ssrc.ssrcs[0]}e.ssrcs.push({id:s,attribute:"cname",value:["recvonly-",s].join("")}),this.recvOnlySSRCs[e.type]=s;break;case"unmute":var c,l,u;if("break"===function(){if(!i.ssrc||!i.ssrc.ssrcs||!i.ssrc.ssrcs.length)return"break";for(c={},l=i.ssrc.ssrcs.length-1,u=0;u<e.ssrcs.length;u++){var t=e.ssrcs[u];if(("msid"===t.attribute||t.value===i.msid)&&(c[t.id]=i.ssrc.ssrcs[l],--l<0))break}var n=i.ssrc.groups;return void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&n&&n.length&&e.ssrcGroups.forEach(function(e){if(e.ssrcs){for(var t=e.ssrcs.split(" "),r=null,i=0;i<n.length;i++){var o=(r=n[i].group).ssrcs.split(" ");if(r.semantics===e.semantics){for(var a=!1,s=0;s<t.length;s++)if(-1===r.ssrcs.indexOf(c[t[s]])){a=!0;break}if(!a){for(s=0;s<o.length;s++)c[t[s]]=o[s];break}}}e.ssrcs=r.ssrcs}}),e.ssrcs.forEach(function(e){c[e.id]&&(e.id=c[e.id])}),r.push(i),"break"}())break}t=this.replaceSSRCs[e.type].splice(0,1)}if(this.replaceSSRCs[e.type]=r,!Array.isArray(e.ssrcs)||0===e.ssrcs.length){var f=this.recvOnlySSRCs[e.type]=this.recvOnlySSRCs[e.type]||d.randomInt(1,4294967295);e.ssrcs=[{id:f,attribute:"cname",value:["recvonly-",f].join("")}]}}}).bind(this)),n?new RTCSessionDescription({type:e.type,sdp:u.write(t)}):e}};var m=function(e){if("object"!==(void 0===e?"undefined":o(e))||null===e||"string"!=typeof e.sdp)return a.warn("An empty description was passed as an argument."),e;var t=n(119),r=t.parse(e.sdp);void 0!==r&&void 0!==r.media&&Array.isArray(r.media)&&r.media.forEach(function(e){var t=[],n=[];if(void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){void 0!==e.semantics&&"FID"===e.semantics&&void 0!==e.ssrcs&&t.push(Number(e.ssrcs.split(" ")[0]))}),void 0!==e.ssrcs&&Array.isArray(e.ssrcs)){var r;for(r=0;r<e.ssrcs.length;r++)"object"===o(e.ssrcs[r])&&void 0!==e.ssrcs[r].id&&t.indexOf(e.ssrcs[r].id)>=0&&(n.push(e.ssrcs[r]),delete e.ssrcs[r]);for(r=0;r<e.ssrcs.length;r++)void 0!==e.ssrcs[r]&&n.push(e.ssrcs[r]);e.ssrcs=n}});var i=t.write(r);return new RTCSessionDescription({type:e.type,sdp:i})},g={signalingState:function(){return this.peerconnection.signalingState},iceConnectionState:function(){return this.peerconnection.iceConnectionState},localDescription:function(){var e=this.peerconnection.localDescription;return this.trace("getLocalDescription::preTransform",h(e)),c.usesUnifiedPlan()&&(e=this.interop.toPlanB(e),this.trace("getLocalDescription::postTransform (Plan B)",h(e))),e},remoteDescription:function(){var e=this.peerconnection.remoteDescription;return this.trace("getRemoteDescription::preTransform",h(e)),c.usesUnifiedPlan()&&(e=this.interop.toPlanB(e),this.trace("getRemoteDescription::postTransform (Plan B)",h(e))),e}};Object.keys(g).forEach(function(e){Object.defineProperty(r.prototype,e,{get:g[e]})}),r.prototype.addStream=function(e,t){this.trace("addStream",e?e.id:"null"),e&&this.peerconnection.addStream(e),t&&this.replaceSSRCs[t.mtype]&&this.replaceSSRCs[t.mtype].push(t)},r.prototype.removeStream=function(e,t,n){if(this.trace("removeStream",e.id),t&&s.stopMediaStream(e),this.peerconnection.removeStream&&(this.peerconnection.removeStream(e),n&&this.replaceSSRCs[n.mtype])){for(var r=0;r<this.replaceSSRCs[n.mtype].length;r++){var i=this.replaceSSRCs[n.mtype][r];if("unmute"===i.type&&i.ssrc.ssrcs.join("_")===n.ssrc.ssrcs.join("_")){this.replaceSSRCs[n.mtype].splice(r,1);break}}this.replaceSSRCs[n.mtype].push(n)}},r.prototype.createDataChannel=function(e,t){return this.trace("createDataChannel",e,t),this.peerconnection.createDataChannel(e,t)},r.prototype.setLocalDescription=function(e,t,n){this.trace("setLocalDescription::preTransform",h(e)),c.usesUnifiedPlan()&&(e=this.interop.toUnifiedPlan(e),this.trace("setLocalDescription::postTransform (Plan A)",h(e)));var r=this;this.peerconnection.setLocalDescription(e,function(){r.trace("setLocalDescriptionOnSuccess"),t()},function(e){r.trace("setLocalDescriptionOnFailure",e),r.eventEmitter.emit(l.SET_LOCAL_DESCRIPTION_FAILED,e,r.peerconnection),n(e)})},r.prototype.setRemoteDescription=function(e,t,n){this.trace("setRemoteDescription::preTransform",h(e)),e=this.simulcast.mungeRemoteDescription(e),this.trace("setRemoteDescription::postTransform (simulcast)",h(e)),c.usesUnifiedPlan()&&(e=this.interop.toUnifiedPlan(e),this.trace("setRemoteDescription::postTransform (Plan A)",h(e))),c.usesPlanB()&&(e=m(e));var r=this;this.peerconnection.setRemoteDescription(e,function(){r.trace("setRemoteDescriptionOnSuccess"),t()},function(e){r.trace("setRemoteDescriptionOnFailure",e),r.eventEmitter.emit(l.SET_REMOTE_DESCRIPTION_FAILED,e,r.peerconnection),n(e)})},r.prototype.close=function(){this.trace("stop"),null!==this.statsinterval&&(window.clearInterval(this.statsinterval),this.statsinterval=null),this.peerconnection.close()},r.prototype.createAnswer=function(e,t,n){var r=this;this.trace("createAnswer",JSON.stringify(n,null," ")),this.peerconnection.createAnswer(function(n){try{r.trace("createAnswerOnSuccess::preTransform",h(n)),c.usesUnifiedPlan()&&(n=r.interop.toPlanB(n),r.trace("createAnswerOnSuccess::postTransform (Plan B)",h(n))),!r.session.room.options.disableSimulcast&&r.simulcast.isSupported()&&(n=r.simulcast.mungeLocalDescription(n),r.trace("createAnswerOnSuccess::postTransform (simulcast)",h(n))),c.isFirefox()||(n=r.ssrcReplacement(n),r.trace("createAnswerOnSuccess::mungeLocalVideoSSRC",h(n))),r.eventEmitter.emit(l.SENDRECV_STREAMS_CHANGED,i(n)),e(n)}catch(e){r.trace("createAnswerOnError",e),r.trace("createAnswerOnError",h(n)),a.error("createAnswerOnError",e,h(n)),t(e)}},function(e){r.trace("createAnswerOnFailure",e),r.eventEmitter.emit(l.CREATE_ANSWER_FAILED,e,r.peerconnection),t(e)},n)},r.prototype.addIceCandidate=function(e,t,n){this.trace("addIceCandidate",JSON.stringify(e,null," ")),this.peerconnection.addIceCandidate(e)},r.prototype.getStats=function(e,t){c.isFirefox()||c.isTemasysPluginUsed()||c.isReactNative()?(t||(t=function(){}),this.peerconnection.getStats(null,e,t)):this.peerconnection.getStats(e)},r.prototype.generateNewStreamSSRCInfo=function(){if(!this.session.room.options.disableSimulcast&&this.simulcast.isSupported()){for(var e={ssrcs:[],groups:[]},t=0;t<f;t++)e.ssrcs.push(d.randomInt(1,4294967295));return e.groups.push({primarySSRC:e.ssrcs[0],group:{ssrcs:e.ssrcs.join(" "),semantics:"SIM"}}),e}return{ssrcs:[d.randomInt(1,4294967295)],groups:[]}},e.exports=r}).call(t,"modules/xmpp/TraceablePeerConnection.js")},function(e,t,n){(function(t){"use strict";function r(e,t){this.conference=e,this.localTracks=[],this.remoteTracks={},this.localAudio=null,this.localVideo=null,this.eventEmitter=new s;var n=this;this.options=t||{},this.dataChannelsOpen=!1,l.isDeviceChangeAvailable("output")&&l.addListener(c.AUDIO_OUTPUT_DEVICE_CHANGED,function(e){for(var t in n.remoteTracks)n.remoteTracks.hasOwnProperty(t)&&n.remoteTracks[t].audio&&n.remoteTracks[t].audio.setAudioOutput(e)})}var i=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),a=n(9).getLogger(t),s=n(14),c=n(49),l=n(50),u=n(57),d=n(117),p=n(118),f=n(36),h=n(55),m=n(39);r.obtainAudioAndVideoPermissions=function(e){return l.obtainAudioAndVideoPermissions(e).then(function(t){var n=function(e,t){var n=[],r=null;return e.forEach(function(e){e.mediaType===f.AUDIO?r=t.micDeviceId:e.videoType===h.CAMERA&&(r=t.cameraDeviceId);var i=new u(e.stream,e.track,e.mediaType,e.videoType,e.resolution,r,t.facingMode);n.push(i)}),n}(t,e);return n.some(function(e){return!e._isReceivingData()})?Promise.reject(new i.default(o.NO_DATA_FROM_SOURCE)):n})},r.prototype.onIncommingCall=function(e){var t=this;this.options.config.openSctp&&(this.dataChannels=new d(e.peerconnection,this.eventEmitter),this._dataChannelOpenListener=function(){t.dataChannelsOpen=!0;try{t.dataChannels.sendSelectedEndpointMessage(t.selectedEndpoint)}catch(e){m.callErrorHandler(e),a.error("Cannot sendSelectedEndpointMessage ",t.selectedEndpoint,". Error: ",e)}t.removeListener(c.DATA_CHANNEL_OPEN,t._dataChannelOpenListener),t._dataChannelOpenListener=null},this.addListener(c.DATA_CHANNEL_OPEN,this._dataChannelOpenListener))},r.prototype.onCallEnded=function(){this.dataChannels&&(this.dataChannels=null,this.dataChannelsOpen=!1)},r.prototype.selectEndpoint=function(e){this.selectedEndpoint=e,this.dataChannels&&this.dataChannelsOpen&&this.dataChannels.sendSelectedEndpointMessage(e)},r.prototype.pinEndpoint=function(e){if(!this.dataChannels)throw new Error("Data channels support is disabled!");this.dataChannels.sendPinnedEndpointMessage(e)},r.prototype.addListener=function(e,t){this.eventEmitter.on(e,t)},r.prototype.removeListener=function(e,t){this.eventEmitter.removeListener(e,t)},r.addListener=function(e,t){l.addListener(e,t)},r.removeListener=function(e,t){l.removeListener(e,t)},r.isRTCReady=function(){return l.isRTCReady()},r.init=function(e){return this.options=e||{},l.init(this.options)},r.getDeviceAvailability=function(){return l.getDeviceAvailability()},r.prototype.addLocalTrack=function(e){if(!e)throw new Error("track must not be null nor undefined");this.localTracks.push(e),e.conference=this.conference,e.isAudioTrack()?this.localAudio=e:this.localVideo=e},r.prototype.getLocalVideoTrack=function(){return this.localVideo},r.prototype.getRemoteTrackByType=function(e,t){return this.remoteTracks[t]?this.remoteTracks[t][e]:null},r.prototype.getRemoteAudioTrack=function(e){return this.getRemoteTrackByType(f.AUDIO,e)},r.prototype.getRemoteVideoTrack=function(e){return this.getRemoteTrackByType(f.VIDEO,e)},r.prototype.setAudioMute=function(e){for(var t=[],n=0;n<this.localTracks.length;n++){var r=this.localTracks[n];r.getType()===f.AUDIO&&t.push(e?r.mute():r.unmute())}return Promise.all(t)},r.prototype.removeLocalTrack=function(e){var t=this.localTracks.indexOf(e);-1!==t&&(this.localTracks.splice(t,1),e.isAudioTrack()?this.localAudio=null:this.localVideo=null)},r.prototype.createRemoteTrack=function(e){var t=e.owner,n=new p(this,this.conference,t,e.stream,e.track,e.mediaType,e.videoType,e.ssrc,e.muted),r=Strophe.getResourceFromJid(t),i=this.remoteTracks[r]||(this.remoteTracks[r]={}),o=n.getType();return i[o]&&a.warn("Overwriting remote track!",r,o),i[o]=n,n},r.prototype.removeRemoteTracks=function(e){var t=[],n=this.removeRemoteTrack(e,f.AUDIO),r=this.removeRemoteTrack(e,f.VIDEO);return n&&t.push(n),r&&t.push(r),delete this.remoteTracks[e],t},r.prototype.removeRemoteTrack=function(e,t){var n=this.remoteTracks[e];if(n&&n[t]){var r=n[t];return r.dispose(),delete n[t],r}},r.getPCConstraints=function(){return l.pc_constraints},r.attachMediaStream=function(e,t){return l.attachMediaStream(e,t)},r.getStreamID=function(e){return l.getStreamID(e)},r.isDeviceListAvailable=function(){return l.isDeviceListAvailable()},r.isDeviceChangeAvailable=function(e){return l.isDeviceChangeAvailable(e)},r.getAudioOutputDevice=function(){return l.getAudioOutputDevice()},r.getCurrentlyAvailableMediaDevices=function(){return l.getCurrentlyAvailableMediaDevices()},r.getEventDataForActiveDevice=function(e){return l.getEventDataForActiveDevice(e)},r.setAudioOutputDevice=function(e){return l.setAudioOutputDevice(e)},r.isUserStream=function(e){var t=l.getStreamID(e);return t&&"mixedmslabel"!==t&&"default"!==t},r.enumerateDevices=function(e){l.enumerateDevices(e)},r.stopMediaStream=function(e){l.stopMediaStream(e)},r.isDesktopSharingEnabled=function(){return l.isDesktopSharingEnabled()},r.prototype.closeAllDataChannels=function(){this.dataChannels&&(this.dataChannels.closeAllChannels(),this.dataChannelsOpen=!1)},r.prototype.dispose=function(){},r.prototype.setAudioLevel=function(e,t){if(e){var n=this.getRemoteAudioTrack(e);n&&n.setAudioLevel(t)}},r.prototype.getResourceBySSRC=function(e){if(this.localVideo&&e==this.localVideo.getSSRC()||this.localAudio&&e==this.localAudio.getSSRC())return this.conference.myUserId();var t=this.getRemoteTrackBySSRC(e);return t?t.getParticipantId():null},r.prototype.getRemoteTrackBySSRC=function(e){for(var t in this.remoteTracks){var n=this.getRemoteAudioTrack(t);if(n&&n.getSSRC()==e)return n;if((n=this.getRemoteVideoTrack(t))&&n.getSSRC()==e)return n}return null},r.prototype.handleRemoteTrackMute=function(e,t,n){var r=this.getRemoteTrackByType(e,n);r&&r.setMute(t)},r.prototype.handleRemoteTrackVideoTypeChanged=function(e,t){var n=this.getRemoteVideoTrack(t);n&&n._setVideoType(e)},r.prototype.sendDataChannelMessage=function(e,t){if(!this.dataChannels)throw new Error("Data channels support is disabled!");this.dataChannels.sendDataChannelMessage(e,t)},e.exports=r}).call(t,"modules/RTC/RTC.js")},function(e,t){"use strict";e.exports={RTC_READY:"rtc.ready",DATA_CHANNEL_OPEN:"rtc.data_channel_open",ENDPOINT_CONN_STATUS_CHANGED:"rtc.endpoint_conn_status_changed",LASTN_CHANGED:"rtc.lastn_changed",DOMINANTSPEAKER_CHANGED:"rtc.dominantspeaker_changed",LASTN_ENDPOINT_CHANGED:"rtc.lastn_endpoint_changed",AVAILABLE_DEVICES_CHANGED:"rtc.available_devices_changed",TRACK_ATTACHED:"rtc.track_attached",REMOTE_TRACK_MUTE:"rtc.remote_track_mute",REMOTE_TRACK_UNMUTE:"rtc.remote_track_unmute",AUDIO_OUTPUT_DEVICE_CHANGED:"rtc.audio_output_device_changed",DEVICE_LIST_CHANGED:"rtc.device_list_changed",DEVICE_LIST_AVAILABLE:"rtc.device_list_available",ENDPOINT_MESSAGE_RECEIVED:"rtc.endpoint_message_received"}},function(e,t,n){(function(t){"use strict";function r(e,t){var n={audio:!1,video:!1},r=b.isFirefox()||b.isReactNative()||b.isTemasysPluginUsed();if(e.indexOf("video")>=0){if(n.video={mandatory:{},optional:[]},t.cameraDeviceId)r&&(n.video.deviceId=t.cameraDeviceId),n.video.optional.push({sourceId:t.cameraDeviceId});else{var i=t.facingMode||R.USER;r&&(n.video.facingMode=i),n.video.optional.push({facingMode:i})}n.video.optional.push({googLeakyBucket:!0}),function(e,t){var n=b.isAndroid();_[t]?(e.video.mandatory.minWidth=_[t].width,e.video.mandatory.minHeight=_[t].height):n&&(e.video.mandatory.minWidth=320,e.video.mandatory.minHeight=180,e.video.mandatory.maxFrameRate=15),e.video.mandatory.minWidth&&(e.video.mandatory.maxWidth=e.video.mandatory.minWidth),e.video.mandatory.minHeight&&(e.video.mandatory.maxHeight=e.video.mandatory.minHeight)}(n,t.resolution)}if(e.indexOf("audio")>=0&&(b.isReactNative()?n.audio=!0:b.isFirefox()?n.audio=!t.micDeviceId||{mandatory:{},deviceId:t.micDeviceId,optional:[{sourceId:t.micDeviceId}]}:(n.audio={mandatory:{},optional:[]},t.micDeviceId&&(r&&(n.audio.deviceId=t.micDeviceId),n.audio.optional.push({sourceId:t.micDeviceId})),n.audio.optional.push({googEchoCancellation:!P},{googAutoGainControl:!0},{googNoiseSupression:!M},{googHighpassFilter:!0},{googNoiseSuppression2:!M},{googEchoCancellation2:!P},{googAutoGainControl2:!0}))),e.indexOf("screen")>=0)if(b.isChrome())n.video={mandatory:{chromeMediaSource:"screen",googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[]};else if(b.isTemasysPluginUsed())n.video={optional:[{sourceId:x.WebRTCPlugin.plugin.screensharingKey}]};else if(b.isFirefox())n.video={mozMediaSource:"window",mediaSource:"window"};else{var o="'screen' WebRTC media source is supported only in Chrome and with Temasys plugin";D.callErrorHandler(new Error(o)),y.error(o)}return e.indexOf("desktop")>=0&&(n.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t.desktopStream,googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[]}),t.bandwidth&&(n.video||(n.video={mandatory:{},optional:[]}),n.video.optional.push({bandwidth:t.bandwidth})),(t.minFps||t.maxFps||t.fps)&&(n.video||(n.video={mandatory:{},optional:[]}),(t.minFps||t.fps)&&(t.minFps=t.minFps||t.fps,n.video.mandatory.minFrameRate=t.minFps),t.maxFps&&(n.video.mandatory.maxFrameRate=t.maxFps)),b.isFirefox()&&t.firefox_fake_device&&(n.fake=!0),n}function i(e,t){var n=t&&!!t.getAudioTracks().length,r=t&&!!t.getVideoTracks().length;-1!=e.indexOf("video")&&(O.video=r),-1!=e.indexOf("audio")&&(O.audio=n),k.emit(E.AVAILABLE_DEVICES_CHANGED,O)}function o(){U&&U(function(e){void 0===g?g=e.slice(0):function(e){function t(e){return JSON.stringify({kind:e.kind,deviceId:e.deviceId,groupId:e.groupId,label:e.label,facing:e.facing})}return e.length!==g.length||e.map(t).sort().join("")!==g.map(t).sort().join("")}(e)&&a(e),window.setTimeout(o,I)})}function a(e){g=e.slice(0),y.info("list of media devices has changed:",g);var t=g.filter(function(e){return"videoinput"===e.kind}),n=g.filter(function(e){return"audioinput"===e.kind}),r=t.filter(function(e){return""===e.label}),i=n.filter(function(e){return""===e.label});t.length&&t.length===r.length&&(O.video=!1),n.length&&n.length===i.length&&(O.audio=!1),k.emit(E.DEVICE_LIST_CHANGED,e)}function s(e,t){H=!0,k.emit(E.RTC_READY,!0),T.init(e,t),U=navigator.mediaDevices&&navigator.mediaDevices.enumerateDevices?function(e){navigator.mediaDevices.enumerateDevices().then(e,function(){e([])})}:MediaStreamTrack&&MediaStreamTrack.getSources?function(e){MediaStreamTrack.getSources(function(t){e(t.map(p))})}:void 0,G.isDeviceListAvailable()&&U&&U(function(e){g=e.splice(0),k.emit(E.DEVICE_LIST_AVAILABLE,g),B?navigator.mediaDevices.addEventListener("devicechange",function(){G.enumerateDevices(a)}):o()})}function c(e,t){e&&e.apply(null,t||[])}function l(e){return function(t,n,r){e(t,function(e){c(n,[e]),J.initialized||(J.initialized=!0,J.callbacks.forEach(function(e){e()}),J.callbacks.length=0)},function(e){c(r,[e])})}}function u(e){return function(t){!function(e){J.initialized?e():J.callbacks.push(e)}(function(){e().then(t,function(e){y.error("cannot enumerate devices: ",e),t([])})})}}function d(e){MediaStreamTrack.getSources(function(t){e(t.map(p))})}function p(e){var t=(e.kind||"").toLowerCase();return{facing:e.facing||null,label:e.label,kind:t?"audiooutput"===t?t:t+"input":null,deviceId:e.id,groupId:e.groupId||null}}function f(e){if(!e.devices||0===e.devices.length)return e.successCallback(e.streams||{});var t=e.devices.splice(0,1);[].push(t),e.deviceGUM[t](function(n){e.streams=e.streams||{},e.streams[t]=n,f(e)},function(n){Object.keys(e.streams).forEach(function(t){G.stopMediaStream(e.streams[t])}),y.error("failed to obtain "+t+" stream - stop",n),e.errorCallback(n)})}function h(e){return function(t,n){var r=e.apply(G,arguments);return n&&G.isDeviceChangeAvailable("output")&&n.getAudioTracks&&n.getAudioTracks().length&&L&&t.setSinkId(G.getAudioOutputDevice()).catch(function(e){var n=new v.default(e,null,["audiooutput"]);D.callUnhandledRejectionHandler({promise:this,reason:n}),y.warn("Failed to set audio output device for the element. Default audio output device will be used instead",t,n)}),r}}function m(e,t){var n,r="srcObject";r in e||(r="mozSrcObject")in e||(r=null),r?e[r]=t:(t&&((n=t.jitsiObjectURL)||(t.jitsiObjectURL=n=(URL||webkitURL).createObjectURL(t))),e.src=n||"")}var g,v=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),y=n(9).getLogger(t),b=n(32),_=n(51),E=n(49),w=n(52),S=n(14),T=n(53),C=n(36),A=n(55),R=n(56),D=n(39),x=b.isTemasysPluginUsed()?n(54):void 0,k=new S,I=3e3,O={audio:!1,video:!1},N="default",L=!1,P=!1,M=!1,j=document.createElement("audio"),F=void 0!==j.setSinkId,U=void 0,B=!1,H=!1,J={initialized:!1,callbacks:[]},G={init:function(e){return"boolean"==typeof e.disableAEC&&y.info("Disable AEC: "+(P=e.disableAEC)),"boolean"==typeof e.disableNS&&y.info("Disable NS: "+(M=e.disableNS)),new Promise((function(t,n){if(b.isFirefox()){var r=b.getFirefoxVersion();if(r<40)return y.error("Firefox version too old: "+r+". Required >= 40."),void n(new Error("Firefox version too old: "+r+". Required >= 40."));this.peerconnection=mozRTCPeerConnection,this.getUserMedia=l(navigator.mozGetUserMedia.bind(navigator)),this.enumerateDevices=u(navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices)),this.pc_constraints={},this.attachMediaStream=h(function(e,t){return e&&(m(e,t),t&&e.play()),e}),this.getStreamID=function(e){var t=e.id;if(!t){var n=e.getVideoTracks();n&&0!==n.length||(n=e.getAudioTracks()),t=n[0].id}return w.filter_special_chars(t)},RTCSessionDescription=mozRTCSessionDescription,RTCIceCandidate=mozRTCIceCandidate}else if(b.isChrome()||b.isOpera()||b.isNWJS()||b.isReactNative()){this.peerconnection=webkitRTCPeerConnection;var i=navigator.webkitGetUserMedia.bind(navigator);navigator.mediaDevices?(this.getUserMedia=l(i),this.enumerateDevices=u(navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices))):(this.getUserMedia=i,this.enumerateDevices=d),this.attachMediaStream=h(function(e,t){return m(e,t),e}),this.getStreamID=function(e){var t=e.id;return"number"==typeof t?t:w.filter_special_chars(t)},this.pc_constraints={optional:[{DtlsSrtpKeyAgreement:"true"}]},e.useIPv6&&this.pc_constraints.optional.push({googIPv6:!0}),b.isAndroid()&&(this.pc_constraints={}),webkitMediaStream.prototype.getVideoTracks||(webkitMediaStream.prototype.getVideoTracks=function(){return this.videoTracks}),webkitMediaStream.prototype.getAudioTracks||(webkitMediaStream.prototype.getAudioTracks=function(){return this.audioTracks})}else{if(!b.isTemasysPluginUsed()){var o="Browser does not appear to be WebRTC-capable";return y.error(o),void n(new Error(o))}var a=this;x.webRTCReady(function(){a.peerconnection=RTCPeerConnection,a.getUserMedia=window.getUserMedia,a.enumerateDevices=d,a.attachMediaStream=h(function(e,t){if(t){if("dummyAudio"===t.id||"dummyVideo"===t.id)return;var n=$(e);if(b.isTemasysPluginUsed()&&!n.is(":visible")&&n.show(),t.getVideoTracks().length&&!$(e).is(":visible"))throw new Error("video element must be visible to attach video stream")}return attachMediaStream(e,t)}),a.getStreamID=function(e){return w.filter_special_chars(e.label)},s(e,a.getUserMediaWithConstraints.bind(a)),t()})}b.isTemasysPluginUsed()||(s(e,this.getUserMediaWithConstraints.bind(this)),t())}).bind(this))},getUserMediaWithConstraints:function(t,n,o,a){var s=r(t,a=a||{});y.info("Get media constraints",s);try{this.getUserMedia(s,function(e){y.log("onUserMediaSuccess"),i(t,e),n(e)},function(e){i(t,void 0),y.warn("Failed to get access to local media. Error ",e,s),o&&o(new v.default(e,s,t))})}catch(e){y.error("GUM failed: ",e),o&&o(new v.default(e,s,t))}},obtainAudioAndVideoPermissions:function(e){var t=this,n=(e=e||{}).desktopSharingExtensionExternalInstallation;return new Promise((function(i,o){var a=function(t){i(function(e,t){var n,r,i,o=[];if(e){var a=e.audioVideo;if(a){var s=a.getAudioTracks();if(s.length){n=new webkitMediaStream;for(var c=0;c<s.length;c++)n.addTrack(s[c])}var l=a.getVideoTracks();if(l.length){r=new webkitMediaStream;for(var u=0;u<l.length;u++)r.addTrack(l[u])}}else n=e.audio,r=e.video;i=e.desktopStream||e.desktop}return i&&o.push({stream:i,track:i.getVideoTracks()[0],mediaType:C.VIDEO,videoType:A.DESKTOP}),n&&o.push({stream:n,track:n.getAudioTracks()[0],mediaType:C.AUDIO,videoType:null}),r&&o.push({stream:r,track:r.getVideoTracks()[0],mediaType:C.VIDEO,videoType:A.CAMERA,resolution:t}),o}(t,e.resolution))};if(e.devices=e.devices||["audio","video"],T.isSupported()||-1===e.devices.indexOf("desktop")||o(new Error("Desktop sharing is not supported!")),b.isFirefox()||b.isReactNative()||b.isTemasysPluginUsed()){var s=function(t,n,r){this.getUserMediaWithConstraints(t,n,r,e)},c={audio:s.bind(t,["audio"]),video:s.bind(t,["video"])};T.isSupported()&&(c.desktop=T.obtainStream.bind(T,n)),f({devices:e.devices,streams:[],successCallback:a,errorCallback:o,deviceGUM:c})}else{var l=e.devices.indexOf("desktop")>-1;l&&e.devices.splice(e.devices.indexOf("desktop"),1),e.resolution=e.resolution||"360",e.devices.length?this.getUserMediaWithConstraints(e.devices,function(i){var s=-1!==e.devices.indexOf("audio"),c=-1!==e.devices.indexOf("video"),u=!!i.getAudioTracks().length,d=!!i.getVideoTracks().length;if(s&&!u||c&&!d){t.stopMediaStream(i);var p=[];return s&&!u&&p.push("audio"),c&&!d&&p.push("video"),void t.getUserMediaWithConstraints(p,function(){o(new v.default({name:"UnknownError"},r(e.devices,e),p))},function(e){o(e)},e)}l?T.obtainStream(n,function(e){a({audioVideo:i,desktopStream:e})},function(e){t.stopMediaStream(i),o(e)}):a({audioVideo:i})},function(e){o(e)},e):l&&T.obtainStream(n,function(e){a({desktopStream:e})},function(e){o(e)})}}).bind(this))},addListener:function(e,t){k.on(e,t)},removeListener:function(e,t){k.removeListener(e,t)},getDeviceAvailability:function(){return O},isRTCReady:function(){return H},_isDeviceListAvailable:function(){if(!H)throw new Error("WebRTC not ready yet");return!(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)||!("undefined"==typeof MediaStreamTrack||!MediaStreamTrack.getSources)},onRTCReady:function(){return H?Promise.resolve():new Promise(function(e){k.addListener(E.RTC_READY,function t(){k.removeListener(E.RTC_READY,t),e()})})},isDeviceListAvailable:function(){return this.onRTCReady().then((function(){return this._isDeviceListAvailable()}).bind(this))},isDeviceChangeAvailable:function(e){return"output"===e||"audiooutput"===e?F:b.isChrome()||b.isFirefox()||b.isOpera()||b.isTemasysPluginUsed()||b.isNWJS()},stopMediaStream:function(e){e.getTracks().forEach(function(e){!b.isTemasysPluginUsed()&&e.stop&&e.stop()}),e.stop&&e.stop(),e.release&&e.release();var t=e.jitsiObjectURL;t&&(delete e.jitsiObjectURL,(URL||webkitURL).revokeObjectURL(t))},isDesktopSharingEnabled:function(){return T.isSupported()},setAudioOutputDevice:function(e){return this.isDeviceChangeAvailable("output")||Promise.reject(new Error("Audio output device change is not supported")),j.setSinkId(e).then(function(){N=e,L=!0,y.log("Audio output device set to "+e),k.emit(E.AUDIO_OUTPUT_DEVICE_CHANGED,e)})},getAudioOutputDevice:function(){return N},getCurrentlyAvailableMediaDevices:function(){return g},getEventDataForActiveDevice:function(e){var t=[];return t.push({deviceId:e.deviceId,kind:e.kind,label:e.label,groupId:e.groupId}),{deviceList:t}}};e.exports=G}).call(t,"modules/RTC/RTCUtils.js")},function(e,t){"use strict";e.exports={1080:{width:1920,height:1080,order:7},fullhd:{width:1920,height:1080,order:7},720:{width:1280,height:720,order:6},hd:{width:1280,height:720,order:6},960:{width:960,height:720,order:5},360:{width:640,height:360,order:4},640:{width:640,height:480,order:3},vga:{width:640,height:480,order:3},180:{width:320,height:180,order:2},320:{width:320,height:240,order:1}}},function(e,t,n){(function(t){"use strict";var r=(0,n(9).getLogger)(t),i=n(32),o={filter_special_chars:function(e){return e?e.replace(/[\\\/\{,\}\+]/g,""):e},iceparams:function(e,t){var n,r,i=null;return(n=o.find_line(e,"a=ice-ufrag:",t))&&(r=o.find_line(e,"a=ice-pwd:",t))&&(i={ufrag:o.parse_iceufrag(n),pwd:o.parse_icepwd(r)}),i},parse_iceufrag:function(e){return e.substring(12)},build_iceufrag:function(e){return"a=ice-ufrag:"+e},parse_icepwd:function(e){return e.substring(10)},build_icepwd:function(e){return"a=ice-pwd:"+e},parse_mid:function(e){return e.substring(6)},parse_mline:function(e){var t=e.substring(2).split(" "),n={};return n.media=t.shift(),n.port=t.shift(),n.proto=t.shift(),""===t[t.length-1]&&t.pop(),n.fmt=t,n},build_mline:function(e){return"m="+e.media+" "+e.port+" "+e.proto+" "+e.fmt.join(" ")},parse_rtpmap:function(e){var t=e.substring(9).split(" "),n={};return n.id=t.shift(),t=t[0].split("/"),n.name=t.shift(),n.clockrate=t.shift(),n.channels=t.length?t.shift():"1",n},parse_sctpmap:function(e){var t=e.substring(10).split(" ");return[t[0],t[1],t.length>2?t[2]:null]},build_rtpmap:function(e){var t="a=rtpmap:"+e.getAttribute("id")+" "+e.getAttribute("name")+"/"+e.getAttribute("clockrate");return e.getAttribute("channels")&&"1"!=e.getAttribute("channels")&&(t+="/"+e.getAttribute("channels")),t},parse_crypto:function(e){var t=e.substring(9).split(" "),n={};return n.tag=t.shift(),n["crypto-suite"]=t.shift(),n["key-params"]=t.shift(),t.length&&(n["session-params"]=t.join(" ")),n},parse_fingerprint:function(e){var t=e.substring(14).split(" "),n={};return n.hash=t.shift(),n.fingerprint=t.shift(),n},parse_fmtp:function(e){var t,n,r,i=e.split(" "),o=[];for(i.shift(),i=i.join(" ").split(";"),t=0;t<i.length;t++){for(n=i[t].split("=")[0];n.length&&" "==n[0];)n=n.substring(1);r=i[t].split("=")[1],n&&r?o.push({name:n,value:r}):n&&o.push({name:"",value:n})}return o},parse_icecandidate:function(e){var t={},n=e.split(" ");t.foundation=n[0].substring(12),t.component=n[1],t.protocol=n[2].toLowerCase(),t.priority=n[3],t.ip=n[4],t.port=n[5],t.type=n[7],t.generation=0;for(var i=8;i<n.length;i+=2)switch(n[i]){case"raddr":t["rel-addr"]=n[i+1];break;case"rport":t["rel-port"]=n[i+1];break;case"generation":t.generation=n[i+1];break;case"tcptype":t.tcptype=n[i+1];break;default:r.log('parse_icecandidate not translating "'+n[i]+'" = "'+n[i+1]+'"')}return t.network="1",t.id=Math.random().toString(36).substr(2,10),t},build_icecandidate:function(e){var t=["a=candidate:"+e.foundation,e.component,e.protocol,e.priority,e.ip,e.port,"typ",e.type].join(" ");switch(t+=" ",e.type){case"srflx":case"prflx":case"relay":e.hasOwnAttribute("rel-addr")&&e.hasOwnAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e["rel-addr"],t+=" ",t+="rport",t+=" ",t+=e["rel-port"],t+=" ")}return e.hasOwnAttribute("tcptype")&&(t+="tcptype",t+=" ",t+=e.tcptype,t+=" "),t+="generation",(t+=" ")+(e.hasOwnAttribute("generation")?e.generation:"0")},parse_ssrc:function(e){for(var t=e.split("\r\n"),n={},r=0;r<t.length;r++)if("a=ssrc:"==t[r].substring(0,7)){var i=t[r].indexOf(" ");n[t[r].substr(i+1).split(":",2)[0]]=t[r].substr(i+1).split(":",2)[1]}return n},parse_rtcpfb:function(e){var t=e.substr(10).split(" "),n={};return n.pt=t.shift(),n.type=t.shift(),n.params=t,n},parse_extmap:function(e){var t=e.substr(9).split(" "),n={};return n.value=t.shift(),-1!=n.value.indexOf("/")?(n.direction=n.value.substr(n.value.indexOf("/")+1),n.value=n.value.substr(0,n.value.indexOf("/"))):n.direction="both",n.uri=t.shift(),n.params=t,n},find_line:function(e,t,n){for(var r=e.split("\r\n"),i=0;i<r.length;i++)if(r[i].substring(0,t.length)==t)return r[i];if(!n)return!1;r=n.split("\r\n");for(var o=0;o<r.length;o++)if(r[o].substring(0,t.length)==t)return r[o];return!1},find_lines:function(e,t,n){for(var r=e.split("\r\n"),i=[],o=0;o<r.length;o++)r[o].substring(0,t.length)==t&&i.push(r[o]);if(i.length||!n)return i;r=n.split("\r\n");for(var a=0;a<r.length;a++)r[a].substring(0,t.length)==t&&i.push(r[a]);return i},candidateToJingle:function(e){if(0===e.indexOf("candidate:"))e="a="+e;else if("a=candidate:"!=e.substring(0,12))return r.log("parseCandidate called with a line that is not a candidate line"),r.log(e),null;"\r\n"==e.substring(e.length-2)&&(e=e.substring(0,e.length-2));var t,n={},i=e.split(" ");if("typ"!=i[6])return r.log("did not find typ in the right place"),r.log(e),null;for(n.foundation=i[0].substring(12),n.component=i[1],n.protocol=i[2].toLowerCase(),n.priority=i[3],n.ip=i[4],n.port=i[5],n.type=i[7],n.generation="0",t=8;t<i.length;t+=2)switch(i[t]){case"raddr":n["rel-addr"]=i[t+1];break;case"rport":n["rel-port"]=i[t+1];break;case"generation":n.generation=i[t+1];break;case"tcptype":n.tcptype=i[t+1];break;default:r.log('not translating "'+i[t]+'" = "'+i[t+1]+'"')}return n.network="1",n.id=Math.random().toString(36).substr(2,10),n},candidateFromJingle:function(e){var t="a=candidate:";t+=e.getAttribute("foundation"),t+=" ",t+=e.getAttribute("component"),t+=" ";var n=e.getAttribute("protocol");switch(i.isFirefox()&&"ssltcp"==n.toLowerCase()&&(n="tcp"),t+=n,t+=" ",t+=e.getAttribute("priority"),t+=" ",t+=e.getAttribute("ip"),t+=" ",t+=e.getAttribute("port"),t+=" ",t+="typ",t+=" "+e.getAttribute("type"),t+=" ",e.getAttribute("type")){case"srflx":case"prflx":case"relay":e.getAttribute("rel-addr")&&e.getAttribute("rel-port")&&(t+="raddr",t+=" ",t+=e.getAttribute("rel-addr"),t+=" ",t+="rport",t+=" ",t+=e.getAttribute("rel-port"),t+=" ")}return"tcp"==n.toLowerCase()&&(t+="tcptype",t+=" ",t+=e.getAttribute("tcptype"),t+=" "),t+="generation",t+=" ",(t+=e.getAttribute("generation")||"0")+"\r\n"}};e.exports=o}).call(t,"modules/xmpp/SDPUtil.js")},function(e,t,n){(function(t){"use strict";function r(e,t,n){y(["screen"],t,n)}function i(e){return"https://chrome.google.com/webstore/detail/"+(e.desktopSharingChromeExtId||e.chromeExtensionId)}function o(e,t){return"undefined"!=typeof chrome&&chrome&&chrome.runtime?void chrome.runtime.sendMessage(t.desktopSharingChromeExtId||t.chromeExtensionId,{getVersion:!0},function(n){if(!n||!n.version)return p.warn("Extension not installed?: ",chrome.runtime.lastError),void e(!1,!1);var r=n.version;p.log("Extension version is: "+r);var i=function(e,t){try{for(var n=e.split("."),r=t.split("."),i=Math.max(n.length,r.length),o=0;o<i;o++){var a=0,s=0;if(o<n.length&&(a=parseInt(n[o])),o<r.length&&(s=parseInt(r[o])),isNaN(a)||isNaN(s))return!0;if(a!==s)return a>s}return!1}catch(e){return d.callErrorHandler(e),p.error("Failed to parse extension version",e),!0}}(t.desktopSharingChromeMinExtVersion||t.minChromeExtVersion,r);e(!i,i)}):void e(!1,!1)}function a(e,t,n){chrome.runtime.sendMessage(e.desktopSharingChromeExtId||e.chromeExtensionId,{getStream:!0,sources:e.desktopSharingChromeSources||e.desktopSharingSources},function(e){if(e)if(p.log("Response from extension: ",e),e.streamId)y(["desktop"],function(e){return t(e)},n,{desktopStream:e.streamId});else{if(""===e.streamId)return void n(new l.default(u.CHROME_EXTENSION_USER_CANCELED));n(new l.default(u.CHROME_EXTENSION_GENERIC_ERROR,e.error))}else{var r=chrome.runtime.lastError;n(r instanceof Error?r:new l.default(u.CHROME_EXTENSION_GENERIC_ERROR,r))}})}function s(e,t,n){return 0===n?Promise.reject():new Promise(function(r,i){var a=n,s=window.setInterval(function(){o(function(e){e?(window.clearInterval(s),r()):0==--a&&(i(),window.clearInterval(s))},e)},t)})}function c(e){if(!e.desktopSharingFirefoxDisabled&&!1!==g&&!0!==g){if(!e.desktopSharingFirefoxExtId)return void(g=!1);var t=document.createElement("img");t.onload=function(){p.log("Detected firefox screen sharing extension."),g=!0},t.onerror=function(){p.log("Detected lack of firefox screen sharing extension."),g=!1};var n="chrome://"+e.desktopSharingFirefoxExtId.replace("@",".")+"/content/"+document.location.hostname+".png";t.setAttribute("src",n)}}var l=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7)),d=n(39),p=n(9).getLogger(t),f=n(32),h=!1,m=!1,g=null,v=!1,y=null;e.exports={obtainStream:null,init:function(e,t){var a=null;this.options=e=e||{},y=t,f.isFirefox()&&c(e);var s=e.desktopSharingChromeMethod||e.desktopSharing;if(f.isNWJS())a=function(e,t,n){window.JitsiMeetNW.obtainDesktopStream(t,function(e,t){var r;r=e&&"InvalidStateError"==e.name?new l.default(u.CHROME_EXTENSION_USER_CANCELED):new l.default(e,t,["desktop"]),"function"==typeof n&&n(r)})};else if(f.isTemasysPluginUsed()){var d=n(54);d.WebRTCPlugin.plugin.HasScreensharingFeature?d.WebRTCPlugin.plugin.isScreensharingAvailable?(a=r,p.info("Using Temasys plugin for desktop sharing")):p.info("Screensharing not available with Temasys plugin on this site"):p.info("Screensharing not supported by this plugin version")}else f.isChrome()?"ext"==s?f.getChromeVersion()>=34?(a=this.obtainScreenFromExtension,p.info("Using Chrome extension for desktop sharing"),function(e){(function(e){0===$("link[rel=chrome-webstore-item]").length&&$("head").append('<link rel="chrome-webstore-item">'),$("link[rel=chrome-webstore-item]").attr("href",i(e))})(e),o(function(e,t){p.info("Chrome extension installed: "+(h=e)+" updateRequired: "+(m=t))},e)}(e)):p.info("Chrome extension not supported until ver 34"):"webrtc"==s&&(a=r,p.info("Using Chrome WebRTC for desktop sharing")):f.isFirefox()&&(e.desktopSharingFirefoxDisabled?a=null:"http:"===window.location.protocol?(p.log("Screen sharing is not supported over HTTP. Use of HTTPS is required."),a=null):a=this.obtainScreenOnFirefox);a||p.info("Desktop sharing disabled"),this.obtainStream=a},isSupported:function(){return!!this.obtainStream},obtainScreenOnFirefox:function(e,t,n){var i=this,o=!1;return(-1===this.options.desktopSharingFirefoxMaxVersionExtRequired||this.options.desktopSharingFirefoxMaxVersionExtRequired>=0&&f.getFirefoxVersion()<=this.options.desktopSharingFirefoxMaxVersionExtRequired)&&(o=!0,p.log("Jidesha extension required on firefox version "+f.getFirefoxVersion())),o&&!0!==g?(v&&(v=!1,c(this.options)),null===g?(window.setTimeout(function(){null===g&&(g=!1),i.obtainScreenOnFirefox(t,n)},300),void p.log("Waiting for detection of jidesha on firefox to finish.")):(g=null,v=!0,void n(new l.default(u.FIREFOX_EXTENSION_NEEDED)))):void r(0,t,n)},obtainScreenFromExtension:function(t,n,r){var o=this;if(h)a(this.options,n,r);else{m&&alert("Jitsi Desktop Streamer requires update. Changes will take effect after next Chrome restart.");try{chrome.webstore.install(i(this.options),function(e){p.log("Extension installed successfully",e),h=!0,s(o.options,200,10).then(function(){a(o.options,n,r)}).catch(function(){o.handleExtensionInstallationError(t,n,r)})},this.handleExtensionInstallationError.bind(this,t,n,r))}catch(e){this.handleExtensionInstallationError(t,n,r,e)}}},handleExtensionInstallationError:function(e,t,n,r){var o=i(this.options);if("Inline installs can not be initiated from pop-up windows."===r&&e.interval>0&&"function"==typeof e.checkAgain&&"function"==typeof e.listener)return e.listener("waitingForExtension",o),void this.checkForChromeExtensionOnInterval(e,t,n,r);var a="Failed to install the extension from "+o;p.log(a,r),n(new l.default(u.CHROME_EXTENSION_INSTALLATION_ERROR,a))},checkForChromeExtensionOnInterval:function(e,t,n){var r=this;return!1===e.checkAgain()?void n(new l.default(u.CHROME_EXTENSION_INSTALLATION_ERROR)):void s(this.options,e.interval,1).then(function(){h=!0,e.listener("extensionFound"),r.obtainScreenFromExtension(e,t,n)}).catch(function(){r.checkForChromeExtensionOnInterval(e,t,n)})}}}).call(t,"modules/RTC/ScreenObtainer.js")},function(e,t,n){(function(t){var r=n(9).getLogger(t),o=o||{};e.exports=o,o.options=o.options||{},o.VERSION="0.14.0",o.onwebrtcready=o.onwebrtcready||function(e){},o._onwebrtcreadies=[],o.webRTCReady=function(e){if("function"!=typeof e)throw new Error("Callback provided is not a function");!0===o.onwebrtcreadyDone?e(null!==o.WebRTCPlugin.plugin):o._onwebrtcreadies.push(e)},o.WebRTCPlugin=o.WebRTCPlugin||{},o.WebRTCPlugin.pluginInfo=o.WebRTCPlugin.pluginInfo||{prefix:"Tem",plugName:"TemWebRTCPlugin",pluginId:"plugin0",type:"application/x-temwebrtcplugin",onload:"__TemWebRTCReady0",portalLink:"http://skylink.io/plugin/",downloadLink:null,companyName:"Temasys",downloadLinks:{mac:"http://bit.ly/webrtcpluginpkg",win:"http://bit.ly/webrtcpluginmsi"}},null!=o.WebRTCPlugin.pluginInfo.downloadLinks&&(navigator.platform.match(/^Mac/i)?o.WebRTCPlugin.pluginInfo.downloadLink=o.WebRTCPlugin.pluginInfo.downloadLinks.mac:navigator.platform.match(/^Win/i)&&(o.WebRTCPlugin.pluginInfo.downloadLink=o.WebRTCPlugin.pluginInfo.downloadLinks.win)),o.WebRTCPlugin.TAGS={NONE:"none",AUDIO:"audio",VIDEO:"video"},o.WebRTCPlugin.pageId=Math.random().toString(36).slice(2),o.WebRTCPlugin.plugin=null,o.WebRTCPlugin.setLogLevel=null,o.WebRTCPlugin.defineWebRTCInterface=null,o.WebRTCPlugin.isPluginInstalled=null,o.WebRTCPlugin.pluginInjectionInterval=null,o.WebRTCPlugin.injectPlugin=null,o.WebRTCPlugin.PLUGIN_STATES={NONE:0,INITIALIZING:1,INJECTING:2,INJECTED:3,READY:4},o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.NONE,o.onwebrtcreadyDone=!1,o.WebRTCPlugin.PLUGIN_LOG_LEVELS={NONE:"NONE",ERROR:"ERROR",WARNING:"WARNING",INFO:"INFO",VERBOSE:"VERBOSE",SENSITIVE:"SENSITIVE"},o.WebRTCPlugin.WaitForPluginReady=null,o.WebRTCPlugin.callWhenPluginReady=null,__TemWebRTCReady0=function(){if("complete"===document.readyState)o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.READY,o.maybeThroughWebRTCReady();else var e=setInterval(function(){"complete"===document.readyState&&(clearInterval(e),o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.READY,o.maybeThroughWebRTCReady())},100)},o.maybeThroughWebRTCReady=function(){o.onwebrtcreadyDone||(o.onwebrtcreadyDone=!0,o._onwebrtcreadies.length?o._onwebrtcreadies.forEach(function(e){"function"==typeof e&&e(null!==o.WebRTCPlugin.plugin)}):"function"==typeof o.onwebrtcready&&o.onwebrtcready(null!==o.WebRTCPlugin.plugin))},o.TEXT={PLUGIN:{REQUIRE_INSTALLATION:"This website requires you to install a WebRTC-enabling plugin to work on this browser.",NOT_SUPPORTED:"Your browser does not support WebRTC.",BUTTON:"Install Now"},REFRESH:{REQUIRE_REFRESH:"Please refresh page",BUTTON:"Refresh Page"}},o._iceConnectionStates={starting:"starting",checking:"checking",connected:"connected",completed:"connected",done:"completed",disconnected:"disconnected",failed:"failed",closed:"closed"},o._iceConnectionFiredStates=[],o.isDefined=null,o.parseWebrtcDetectedBrowser=function(){var e=null;if(window.opr&&opr.addons||window.opera||navigator.userAgent.indexOf(" OPR/")>=0)e=navigator.userAgent.match(/OPR\/(\d+)/i)||[],webrtcDetectedBrowser="opera",webrtcDetectedVersion=parseInt(e[1]||"0",10),webrtcMinimumVersion=26,webrtcDetectedType="webkit",webrtcDetectedDCSupport="SCTP";else if(navigator.userAgent.match(/Bowser\/[0-9.]*/g)){e=navigator.userAgent.match(/Bowser\/[0-9.]*/g)||[];var t=parseInt((navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./i)||[])[2]||"0",10);webrtcDetectedBrowser="bowser",webrtcDetectedVersion=parseFloat((e[0]||"0/0").split("/")[1],10),webrtcMinimumVersion=0,webrtcDetectedType="webkit",webrtcDetectedDCSupport=t>30?"SCTP":"RTP"}else if(navigator.userAgent.indexOf("OPiOS")>0)e=navigator.userAgent.match(/OPiOS\/([0-9]+)\./),webrtcDetectedBrowser="opera",webrtcDetectedVersion=parseInt(e[1]||"0",10),webrtcMinimumVersion=0,webrtcDetectedType=null,webrtcDetectedDCSupport=null;else if(navigator.userAgent.indexOf("CriOS")>0)e=navigator.userAgent.match(/CriOS\/([0-9]+)\./)||[],webrtcDetectedBrowser="chrome",webrtcDetectedVersion=parseInt(e[1]||"0",10),webrtcMinimumVersion=0,webrtcDetectedType=null,webrtcDetectedDCSupport=null;else if(navigator.userAgent.indexOf("FxiOS")>0)e=navigator.userAgent.match(/FxiOS\/([0-9]+)\./)||[],webrtcDetectedBrowser="firefox",webrtcDetectedVersion=parseInt(e[1]||"0",10),webrtcMinimumVersion=0,webrtcDetectedType=null,webrtcDetectedDCSupport=null;else if(document.documentMode)e=/\brv[ :]+(\d+)/g.exec(navigator.userAgent)||[],webrtcDetectedBrowser="IE",webrtcDetectedVersion=parseInt(e[1],10),webrtcMinimumVersion=9,webrtcDetectedType="plugin",webrtcDetectedDCSupport="SCTP",webrtcDetectedVersion||(e=/\bMSIE[ :]+(\d+)/g.exec(navigator.userAgent)||[],webrtcDetectedVersion=parseInt(e[1]||"0",10));else if(window.StyleMedia||navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))e=navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)||[],webrtcDetectedBrowser="edge",webrtcDetectedVersion=parseFloat((e[0]||"0/0").split("/")[1],10),webrtcMinimumVersion=13.10547,webrtcDetectedType="ms",webrtcDetectedDCSupport=null;else if("undefined"!=typeof InstallTrigger||navigator.userAgent.indexOf("irefox")>0)e=navigator.userAgent.match(/Firefox\/([0-9]+)\./)||[],webrtcDetectedBrowser="firefox",webrtcDetectedVersion=parseInt(e[1]||"0",10),webrtcMinimumVersion=31,webrtcDetectedType="moz",webrtcDetectedDCSupport="SCTP";else if(window.chrome&&window.chrome.webstore||navigator.userAgent.indexOf("Chrom")>0)e=navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./i)||[],webrtcDetectedBrowser="chrome",webrtcDetectedVersion=parseInt(e[2]||"0",10),webrtcMinimumVersion=38,webrtcDetectedType="webkit",webrtcDetectedDCSupport=webrtcDetectedVersion>30?"SCTP":"RTP";else if(/^((?!chrome|android).)*safari/i.test(navigator.userAgent)){e=navigator.userAgent.match(/version\/(\d+)/i)||[];var n=navigator.userAgent.match(/(iPhone|iPad)/gi)||[];webrtcDetectedBrowser="safari",webrtcDetectedVersion=parseInt(e[1]||"0",10),webrtcMinimumVersion=7,webrtcDetectedType=0===n.length?"plugin":null,webrtcDetectedDCSupport=0===n.length?"SCTP":null}window.webrtcDetectedBrowser=webrtcDetectedBrowser,window.webrtcDetectedVersion=webrtcDetectedVersion,window.webrtcMinimumVersion=webrtcMinimumVersion,window.webrtcDetectedType=webrtcDetectedType,window.webrtcDetectedDCSupport=webrtcDetectedDCSupport},o.addEvent=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e[t]=n},o.renderNotificationBar=function(e,t,n,r,i){if("complete"===document.readyState){var a=window,s=document.createElement("iframe");s.name="adapterjs-alert",s.style.position="fixed",s.style.top="-41px",s.style.left=0,s.style.right=0,s.style.width="100%",s.style.height="40px",s.style.backgroundColor="#ffffe1",s.style.border="none",s.style.borderBottom="1px solid #888888",s.style.zIndex="9999999","string"==typeof s.style.webkitTransition?s.style.webkitTransition="all .5s ease-out":"string"==typeof s.style.transition&&(s.style.transition="all .5s ease-out"),document.body.appendChild(s);var c=s.contentWindow?s.contentWindow:s.contentDocument.document?s.contentDocument.document:s.contentDocument;c.document.open(),c.document.write('<span style="display: inline-block; font-family: Helvetica, Arial,sans-serif; font-size: .9rem; padding: 4px; vertical-align: middle; cursor: default;">'+e+"</span>"),t&&n?(c.document.write('<button id="okay">'+t+'</button><button id="cancel">Cancel</button>'),c.document.close(),o.addEvent(c.document.getElementById("okay"),"click",function(e){i&&o.renderNotificationBar(o.TEXT.EXTENSION?o.TEXT.EXTENSION.REQUIRE_REFRESH:o.TEXT.REFRESH.REQUIRE_REFRESH,o.TEXT.REFRESH.BUTTON,"javascript:location.reload()"),window.open(n,r?"_blank":"_top"),e.preventDefault();try{e.cancelBubble=!0}catch(e){}var t=setInterval(function(){isIE||navigator.plugins.refresh(!1),o.WebRTCPlugin.isPluginInstalled(o.WebRTCPlugin.pluginInfo.prefix,o.WebRTCPlugin.pluginInfo.plugName,o.WebRTCPlugin.pluginInfo.type,function(){clearInterval(t),o.WebRTCPlugin.defineWebRTCInterface()},function(){})},500)}),o.addEvent(c.document.getElementById("cancel"),"click",function(e){a.document.body.removeChild(s)})):c.document.close(),setTimeout(function(){"string"==typeof s.style.webkitTransform?s.style.webkitTransform="translateY(40px)":"string"==typeof s.style.transform?s.style.transform="translateY(40px)":s.style.top="0px"},300)}},webrtcDetectedType=null,checkMediaDataChannelSettings=function(e,t,n,i){if("function"==typeof n){var o=!0,a="firefox"===webrtcDetectedBrowser,s="moz"===webrtcDetectedType&&webrtcDetectedVersion>30,c="firefox"===e;if(a&&c||s)try{delete i.mandatory.MozDontOfferDataChannel}catch(e){r.error("Failed deleting MozDontOfferDataChannel"),r.error(e)}else a&&!c&&(i.mandatory.MozDontOfferDataChannel=!0);if(!a)for(var l in i.mandatory)i.mandatory.hasOwnProperty(l)&&-1!==l.indexOf("Moz")&&delete i.mandatory[l];!a||c||s||(o=!1),n(o,i)}},checkIceConnectionState=function(e,t,n){return"function"!=typeof n?void r.warn("No callback specified in checkIceConnectionState. Aborted."):(o._iceConnectionFiredStates[e=e||"peer"]&&t!==o._iceConnectionStates.disconnected&&t!==o._iceConnectionStates.failed&&t!==o._iceConnectionStates.closed||(o._iceConnectionFiredStates[e]=[]),void(o._iceConnectionFiredStates[e].indexOf(t=o._iceConnectionStates[t])<0&&(o._iceConnectionFiredStates[e].push(t),t===o._iceConnectionStates.connected&&setTimeout(function(){o._iceConnectionFiredStates[e].push(o._iceConnectionStates.done),n(o._iceConnectionStates.done)},1e3),n(t))))},createIceServer=null,createIceServers=null,RTCPeerConnection=null,RTCSessionDescription="function"==typeof RTCSessionDescription?RTCSessionDescription:null,RTCIceCandidate="function"==typeof RTCIceCandidate?RTCIceCandidate:null,getUserMedia=null,attachMediaStream=null,reattachMediaStream=null,webrtcDetectedBrowser=null,webrtcDetectedVersion=null,webrtcMinimumVersion=null,!(navigator.mozGetUserMedia||navigator.webkitGetUserMedia||navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))||0===(navigator.userAgent.match(/android/gi)||[]).length&&0===(navigator.userAgent.match(/chrome/gi)||[]).length&&navigator.userAgent.indexOf("Safari/")>0?("object"==typeof r&&"function"==typeof r.log||((r={}||r).log=function(e){},r.info=function(e){},r.error=function(e){},r.dir=function(e){},r.exception=function(e){},r.trace=function(e){},r.warn=function(e){},r.count=function(e){},r.debug=function(e){},r.count=function(e){},r.time=function(e){},r.timeEnd=function(e){},r.group=function(e){},r.groupCollapsed=function(e){},r.groupEnd=function(e){}),o.parseWebrtcDetectedBrowser(),isIE="IE"===webrtcDetectedBrowser,o.WebRTCPlugin.WaitForPluginReady=function(){for(;o.WebRTCPlugin.pluginState!==o.WebRTCPlugin.PLUGIN_STATES.READY;);},o.WebRTCPlugin.callWhenPluginReady=function(e){if(o.WebRTCPlugin.pluginState===o.WebRTCPlugin.PLUGIN_STATES.READY)e();else var t=setInterval(function(){o.WebRTCPlugin.pluginState===o.WebRTCPlugin.PLUGIN_STATES.READY&&(clearInterval(t),e())},100)},o.WebRTCPlugin.setLogLevel=function(e){o.WebRTCPlugin.callWhenPluginReady(function(){o.WebRTCPlugin.plugin.setLogLevel(e)})},o.WebRTCPlugin.injectPlugin=function(){if("complete"===document.readyState&&o.WebRTCPlugin.pluginState===o.WebRTCPlugin.PLUGIN_STATES.INITIALIZING){if(o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.INJECTING,"IE"===webrtcDetectedBrowser&&webrtcDetectedVersion<=10){var e=document.createDocumentFragment();for(o.WebRTCPlugin.plugin=document.createElement("div"),o.WebRTCPlugin.plugin.innerHTML='<object id="'+o.WebRTCPlugin.pluginInfo.pluginId+'" type="'+o.WebRTCPlugin.pluginInfo.type+'" width="1" height="1"><param name="pluginId" value="'+o.WebRTCPlugin.pluginInfo.pluginId+'" /> <param name="windowless" value="false" /> <param name="pageId" value="'+o.WebRTCPlugin.pageId+'" /> <param name="onload" value="'+o.WebRTCPlugin.pluginInfo.onload+'" /><param name="tag" value="'+o.WebRTCPlugin.TAGS.NONE+'" />'+(o.options.getAllCams?'<param name="forceGetAllCams" value="True" />':"")+"</object>";o.WebRTCPlugin.plugin.firstChild;)e.appendChild(o.WebRTCPlugin.plugin.firstChild);document.body.appendChild(e),o.WebRTCPlugin.plugin=document.getElementById(o.WebRTCPlugin.pluginInfo.pluginId)}else o.WebRTCPlugin.plugin=document.createElement("object"),o.WebRTCPlugin.plugin.id=o.WebRTCPlugin.pluginInfo.pluginId,isIE?(o.WebRTCPlugin.plugin.width="1px",o.WebRTCPlugin.plugin.height="1px"):(o.WebRTCPlugin.plugin.width="0px",o.WebRTCPlugin.plugin.height="0px"),o.WebRTCPlugin.plugin.type=o.WebRTCPlugin.pluginInfo.type,o.WebRTCPlugin.plugin.innerHTML='<param name="onload" value="'+o.WebRTCPlugin.pluginInfo.onload+'"><param name="pluginId" value="'+o.WebRTCPlugin.pluginInfo.pluginId+'"><param name="windowless" value="false" /> '+(o.options.getAllCams?'<param name="forceGetAllCams" value="True" />':"")+'<param name="pageId" value="'+o.WebRTCPlugin.pageId+'"><param name="tag" value="'+o.WebRTCPlugin.TAGS.NONE+'" />',document.body.appendChild(o.WebRTCPlugin.plugin);o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.INJECTED}},o.WebRTCPlugin.isPluginInstalled=function(e,t,n,r,i){if(isIE){try{new ActiveXObject(e+"."+t)}catch(e){return void i()}r()}else{for(var o=navigator.mimeTypes,a=0;a<o.length;a++)if(o[a].type.indexOf(n)>=0)return void r();i()}},o.WebRTCPlugin.defineWebRTCInterface=function(){if(o.WebRTCPlugin.pluginState!==o.WebRTCPlugin.PLUGIN_STATES.READY){o.WebRTCPlugin.pluginState=o.WebRTCPlugin.PLUGIN_STATES.INITIALIZING,o.isDefined=function(e){return null!=e},createIceServer=function(e,t,n){var r=null,i=e.split(":");return 0===i[0].indexOf("stun")?r={url:e,hasCredentials:!1}:0===i[0].indexOf("turn")&&(r={url:e,hasCredentials:!0,credential:n,username:t}),r},createIceServers=function(e,t,n){for(var r=[],i=0;i<e.length;++i)r.push(createIceServer(e[i],t,n));return r},RTCSessionDescription=function(e){return o.WebRTCPlugin.WaitForPluginReady(),o.WebRTCPlugin.plugin.ConstructSessionDescription(e.type,e.sdp)},RTCPeerConnection=function(e,t){if(null!=e&&!Array.isArray(e.iceServers))throw new Error("Failed to construct 'RTCPeerConnection': Malformed RTCConfiguration");if(null!=t){var n=!1;if(n|="object"!=typeof t,n|=t.hasOwnProperty("mandatory")&&null!=t.mandatory&&t.mandatory.constructor!==Object,n|=t.hasOwnProperty("optional")&&null!=t.optional&&!Array.isArray(t.optional))throw new Error("Failed to construct 'RTCPeerConnection': Malformed constraints object")}o.WebRTCPlugin.WaitForPluginReady();var r=null;if(e&&Array.isArray(e.iceServers)){r=e.iceServers;for(var i=0;i<r.length;i++)r[i].urls&&!r[i].url&&(r[i].url=r[i].urls),r[i].hasCredentials=o.isDefined(r[i].username)&&o.isDefined(r[i].credential)}return o.WebRTCPlugin.plugin.PEER_CONNECTION_VERSION&&o.WebRTCPlugin.plugin.PEER_CONNECTION_VERSION>1?(r&&(e.iceServers=r),o.WebRTCPlugin.plugin.PeerConnection(e)):o.WebRTCPlugin.plugin.PeerConnection(o.WebRTCPlugin.pageId,r,t&&t.mandatory?t.mandatory:null,t&&t.optional?t.optional:null)},MediaStreamTrack=function(){},MediaStreamTrack.getSources=function(e){o.WebRTCPlugin.callWhenPluginReady(function(){o.WebRTCPlugin.plugin.GetSources(e)})};var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t};getUserMedia=function(t,n,r){var i={};i.audio=!!t.audio&&e(t.audio),i.video=!!t.video&&e(t.video),o.WebRTCPlugin.callWhenPluginReady(function(){o.WebRTCPlugin.plugin.getUserMedia(i,n,r)})},window.navigator.getUserMedia=getUserMedia,navigator.mediaDevices||"undefined"==typeof Promise||(requestUserMedia=function(e){return new Promise(function(t,n){getUserMedia(e,t,n)})},navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],id:e.id,deviceId:e.id,groupId:""}}))})})}}),attachMediaStream=function(e,t){if(e&&e.parentNode){var n;null===t?n="":(void 0!==t.enableSoundTracks&&t.enableSoundTracks(!0),n=t.id);var r=0===e.id.length?Math.random().toString(36).slice(2):e.id,i=e.nodeName.toLowerCase();if("object"!==i){var a;switch(i){case"audio":a=o.WebRTCPlugin.TAGS.AUDIO;break;case"video":a=o.WebRTCPlugin.TAGS.VIDEO;break;default:a=o.WebRTCPlugin.TAGS.NONE}var s=document.createDocumentFragment(),c=document.createElement("div"),l="";for(e.className?l='class="'+e.className+'" ':e.attributes&&e.attributes.class&&(l='class="'+e.attributes.class.value+'" '),c.innerHTML='<object id="'+r+'" '+l+'type="'+o.WebRTCPlugin.pluginInfo.type+'"><param name="pluginId" value="'+r+'" /> <param name="pageId" value="'+o.WebRTCPlugin.pageId+'" /> <param name="windowless" value="true" /> <param name="streamId" value="'+n+'" /> <param name="tag" value="'+a+'" /> </object>';c.firstChild;)s.appendChild(c.firstChild);var u="",d="";e.clientWidth||e.clientHeight?(d=e.clientWidth,u=e.clientHeight):(e.width||e.height)&&(d=e.width,u=e.height),e.parentNode.insertBefore(s,e),(s=document.getElementById(r)).width=d,s.height=u,e.parentNode.removeChild(e)}else{for(var p=e.children,f=0;f!==p.length;++f)if("streamId"===p[f].name){p[f].value=n;break}e.setStreamId(n)}var h=document.getElementById(r);return o.forwardEventHandlers(h,e,Object.getPrototypeOf(e)),h}},reattachMediaStream=function(e,t){for(var n=null,i=t.children,a=0;a!==i.length;++a)if("streamId"===i[a].name){o.WebRTCPlugin.WaitForPluginReady(),n=o.WebRTCPlugin.plugin.getStreamWithId(o.WebRTCPlugin.pageId,i[a].value);break}return null!==n?attachMediaStream(e,n):void r.log("Could not find the stream associated with this element")},window.attachMediaStream=attachMediaStream,window.reattachMediaStream=reattachMediaStream,window.getUserMedia=getUserMedia,o.attachMediaStream=attachMediaStream,o.reattachMediaStream=reattachMediaStream,o.getUserMedia=getUserMedia,o.forwardEventHandlers=function(e,t,n){for(var r in properties=Object.getOwnPropertyNames(n),properties)r&&(propName=properties[r],"function"==typeof propName.slice&&"on"===propName.slice(0,2)&&"function"==typeof t[propName]&&o.addEvent(e,propName.slice(2),t[propName]));var i=Object.getPrototypeOf(n);i&&o.forwardEventHandlers(e,t,i)},RTCIceCandidate=function(e){return e.sdpMid||(e.sdpMid=""),o.WebRTCPlugin.WaitForPluginReady(),o.WebRTCPlugin.plugin.ConstructIceCandidate(e.sdpMid,e.sdpMLineIndex,e.candidate)},o.addEvent(document,"readystatechange",o.WebRTCPlugin.injectPlugin),o.WebRTCPlugin.injectPlugin()}else r.error("AdapterJS - WebRTC interface has already been defined")},o.WebRTCPlugin.pluginNeededButNotInstalledCb=o.WebRTCPlugin.pluginNeededButNotInstalledCb||function(){o.addEvent(document,"readystatechange",o.WebRTCPlugin.pluginNeededButNotInstalledCbPriv),o.WebRTCPlugin.pluginNeededButNotInstalledCbPriv()},o.WebRTCPlugin.pluginNeededButNotInstalledCbPriv=function(){if(!o.options.hidePluginInstallPrompt){var e=o.WebRTCPlugin.pluginInfo.downloadLink;e?o.renderNotificationBar(o.WebRTCPlugin.pluginInfo.portalLink?'This website requires you to install the  <a href="'+o.WebRTCPlugin.pluginInfo.portalLink+'" target="_blank">'+o.WebRTCPlugin.pluginInfo.companyName+" WebRTC Plugin</a> to work on this browser.":o.TEXT.PLUGIN.REQUIRE_INSTALLATION,o.TEXT.PLUGIN.BUTTON,e):o.renderNotificationBar(o.TEXT.PLUGIN.NOT_SUPPORTED)}},o.WebRTCPlugin.isPluginInstalled(o.WebRTCPlugin.pluginInfo.prefix,o.WebRTCPlugin.pluginInfo.plugName,o.WebRTCPlugin.pluginInfo.type,o.WebRTCPlugin.defineWebRTCInterface,o.WebRTCPlugin.pluginNeededButNotInstalledCb)):(e.exports=function e(t,n,r){function i(a,s){if(!n[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};t[a][0].call(l.exports,function(e){return i(t[a][1][e]||e)},l,l.exports,e,t,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(e,t,n){"use strict";var r={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};r.localCName=r.generateIdentifier(),r.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},r.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},r.matchPrefix=function(e,t){return r.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},r.parseCandidate=function(e){for(var t,n={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],port:parseInt(t[5],10),type:t[7]},r=8;r<t.length;r+=2)switch(t[r]){case"raddr":n.relatedAddress=t[r+1];break;case"rport":n.relatedPort=parseInt(t[r+1],10);break;case"tcptype":n.tcpType=t[r+1]}return n},r.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.ip),t.push(e.port);var n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),"candidate:"+t.join(" ")},r.parseRtpMap=function(e){var t=e.substr(9).split(" "),n={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),n.name=t[0],n.clockRate=parseInt(t[1],10),n.numChannels=3===t.length?parseInt(t[2],10):1,n},r.writeRtpMap=function(e){var t=e.payloadType;return void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType),"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==e.numChannels?"/"+e.numChannels:"")+"\r\n"},r.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),uri:t[1]}},r.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+" "+e.uri+"\r\n"},r.parseFmtp=function(e){for(var t,n={},r=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<r.length;i++)n[(t=r[i].trim().split("="))[0].trim()]=t[1];return n},r.writeFmtp=function(e){var t="",n=e.payloadType;if(void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var r=[];Object.keys(e.parameters).forEach(function(t){r.push(t+"="+e.parameters[t])}),t+="a=fmtp:"+n+" "+r.join(";")+"\r\n"}return t},r.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},r.writeRtcpFb=function(e){var t="",n=e.payloadType;return void 0!==e.preferredPayloadType&&(n=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+n+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},r.parseSsrcMedia=function(e){var t=e.indexOf(" "),n={ssrc:parseInt(e.substr(7,t-7),10)},r=e.indexOf(":",t);return r>-1?(n.attribute=e.substr(t+1,r-t-1),n.value=e.substr(r+1)):n.attribute=e.substr(t+1),n},r.getDtlsParameters=function(e,t){var n=r.splitLines(e),i=(n=n.concat(r.splitLines(t))).filter(function(e){return 0===e.indexOf("a=fingerprint:")})[0].substr(14);return{role:"auto",fingerprints:[{algorithm:i.split(" ")[0],value:i.split(" ")[1]}]}},r.writeDtlsParameters=function(e,t){var n="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){n+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),n},r.getIceParameters=function(e,t){var n=r.splitLines(e);return{usernameFragment:(n=n.concat(r.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:n.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},r.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},r.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=r.splitLines(e)[0].split(" "),i=3;i<n.length;i++){var o=n[i],a=r.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=r.parseRtpMap(a),c=r.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?r.parseFmtp(c[0]):{},s.rtcpFeedback=r.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(r.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return r.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(r.parseExtmap(e))}),t},r.writeRtpDescription=function(e,t){var n="";return n+="m="+e+" ",n+=t.codecs.length>0?"9":"0",n+=" UDP/TLS/RTP/SAVPF ",n+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){n+=r.writeRtpMap(e),n+=r.writeFmtp(e),n+=r.writeRtcpFb(e)}),n+="a=rtcp-mux\r\n"},r.parseRtpEncodingParameters=function(e){var t,n=[],i=r.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=r.matchPrefix(e,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,l=r.matchPrefix(e,"a=ssrc-group:FID").map(function(e){var t=e.split(" ");return t.shift(),t.map(function(e){return parseInt(e,10)})});l.length>0&&l[0].length>1&&l[0][0]===c&&(t=l[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var r={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10),rtx:{payloadType:e.payloadType,ssrc:t}};n.push(r),o&&((r=JSON.parse(JSON.stringify(r))).fec={ssrc:t,mechanism:a?"red+ulpfec":"red"},n.push(r))}}),0===n.length&&c&&n.push({ssrc:c});var u=r.matchPrefix(e,"b=");return u.length&&(0===u[0].indexOf("b=TIAS:")?u=parseInt(u[0].substr(7),10):0===u[0].indexOf("b=AS:")&&(u=parseInt(u[0].substr(5),10)),n.forEach(function(e){e.maxBitrate=u})),n},r.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},r.writeMediaSection=function(e,t,n,i){var o=r.writeRtpDescription(e.kind,t);if(o+=r.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=r.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===n?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",o+=e.rtpSender&&e.rtpReceiver?"a=sendrecv\r\n":e.rtpSender?"a=sendonly\r\n":e.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a}return o+"a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+r.localCName+"\r\n"},r.getDirection=function(e,t){for(var n=r.splitLines(e),i=0;i<n.length;i++)switch(n[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[i].substr(2)}return t?r.getDirection(t):"sendrecv"},t.exports=r},{}],2:[function(e,t,n){"use strict";!function(){var n=e("./utils").log,r=e("./utils").browserDetails;t.exports.browserDetails=r,t.exports.extractVersion=e("./utils").extractVersion,t.exports.disableLog=e("./utils").disableLog;var i=e("./chrome/chrome_shim")||null,o=e("./edge/edge_shim")||null,a=e("./firefox/firefox_shim")||null,s=e("./safari/safari_shim")||null;switch(r.browser){case"opera":case"chrome":if(!i||!i.shimPeerConnection)return void n("Chrome shim is not included in this adapter release.");n("adapter.js shimming chrome."),t.exports.browserShim=i,i.shimGetUserMedia(),i.shimMediaStream(),i.shimSourceObject(),i.shimPeerConnection(),i.shimOnTrack();break;case"firefox":if(!a||!a.shimPeerConnection)return void n("Firefox shim is not included in this adapter release.");n("adapter.js shimming firefox."),t.exports.browserShim=a,a.shimGetUserMedia(),a.shimSourceObject(),a.shimPeerConnection(),a.shimOnTrack();break;case"edge":if(!o||!o.shimPeerConnection)return void n("MS edge shim is not included in this adapter release.");n("adapter.js shimming edge."),t.exports.browserShim=o,o.shimGetUserMedia(),o.shimPeerConnection();break;case"safari":if(!s)return void n("Safari shim is not included in this adapter release.");n("adapter.js shimming safari."),t.exports.browserShim=s,s.shimGetUserMedia();break;default:n("Unsupported browser!")}}()},{"./chrome/chrome_shim":3,"./edge/edge_shim":5,"./firefox/firefox_shim":7,"./safari/safari_shim":9,"./utils":10}],3:[function(e,t,n){"use strict";var r=e("../utils.js").log,i=e("../utils.js").browserDetails,o={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){var t=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=(function(e){e.stream.addEventListener("addtrack",function(n){var r=new Event("track");r.track=n.track,r.receiver={track:n.track},r.streams=[e.stream],t.dispatchEvent(r)}),e.stream.getTracks().forEach((function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}).bind(this))}).bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var t=this;return this._srcObject=e,this.src&&URL.revokeObjectURL(this.src),e?(this.src=URL.createObjectURL(e),e.addEventListener("addtrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)}),void e.addEventListener("removetrack",function(){t.src&&URL.revokeObjectURL(t.src),t.src=URL.createObjectURL(e)})):void(this.src="")}}))},shimPeerConnection:function(){window.RTCPeerConnection=function(e,t){r("PeerConnection"),e&&e.iceTransportPolicy&&(e.iceTransports=e.iceTransportPolicy);var n=new webkitRTCPeerConnection(e,t),i=n.getStats.bind(n);return n.getStats=function(e,t,n){var r=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return i(e,t);var a=function(e){var t={};return e.result().forEach(function(e){var n={id:e.id,timestamp:e.timestamp,type:e.type};e.names().forEach(function(t){n[t]=e.stat(t)}),t[n.id]=n}),t},s=function(e,t){var n=new Map(Object.keys(e).map(function(t){return[t,e[t]]}));return t=t||e,Object.keys(t).forEach(function(e){n[e]=t[e]}),n};return arguments.length>=2?i.apply(this,[function(e){o[1](s(a(e)))},arguments[0]]):new Promise(function(t,n){i.apply(r,1===o.length&&"object"==typeof e?[function(e){t(s(a(e)))},n]:[function(e){t(s(a(e),e.result()))},n])}).then(t,n)},n},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var n=1===arguments.length?arguments[0]:void 0;return new Promise(function(r,i){t.apply(e,[r,i,n])})}return t.apply(this,arguments)}}),i.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){var e=arguments,n=this,r=new Promise(function(r,i){t.apply(n,[e[0],r,i])});return e.length<2?r:r.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=webkitRTCPeerConnection.prototype[e];webkitRTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)}}};t.exports={shimMediaStream:o.shimMediaStream,shimOnTrack:o.shimOnTrack,shimSourceObject:o.shimSourceObject,shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils.js":10,"./getusermedia":4}],4:[function(e,t,n){"use strict";var r=e("../utils.js").log;t.exports=function(){var e=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r="object"==typeof e[n]?e[n]:{ideal:e[n]};void 0!==r.exact&&"number"==typeof r.exact&&(r.min=r.max=r.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==r.ideal){t.optional=t.optional||[];var o={};"number"==typeof r.ideal?(o[i("min",n)]=r.ideal,t.optional.push(o),(o={})[i("max",n)]=r.ideal,t.optional.push(o)):(o[i("",n)]=r.ideal,t.optional.push(o))}void 0!==r.exact&&"number"!=typeof r.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",n)]=r.exact):["min","max"].forEach(function(e){void 0!==r[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,n)]=r[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},t=function(t,n){if((t=JSON.parse(JSON.stringify(t)))&&t.audio&&(t.audio=e(t.audio)),t&&"object"==typeof t.video){var i=t.video.facingMode;if((i=i&&("object"==typeof i?i:{ideal:i}))&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete t.video.facingMode,"environment"===i.exact||"environment"===i.ideal))return navigator.mediaDevices.enumerateDevices().then(function(o){var a=(o=o.filter(function(e){return"videoinput"===e.kind})).find(function(e){return-1!==e.label.toLowerCase().indexOf("back")})||o.length&&o[o.length-1];return a&&(t.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),t.video=e(t.video),r("chrome: "+JSON.stringify(t)),n(t)});t.video=e(t.video)}return r("chrome: "+JSON.stringify(t)),n(t)},n=function(e){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[e.name]||e.name,message:e.message,constraint:e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(e,r,i){t(e,function(e){navigator.webkitGetUserMedia(e,r,function(e){i(n(e))})})};var i=function(e){return new Promise(function(t,n){navigator.getUserMedia(e,t,n)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:i,enumerateDevices:function(){return new Promise(function(e){var t={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(n){e(n.map(function(e){return{label:e.label,kind:t[e.kind],deviceId:e.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var o=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(e){return t(e,function(e){return o(e).catch(function(e){return Promise.reject(n(e))})})}}else navigator.mediaDevices.getUserMedia=function(e){return i(e)};void 0===navigator.mediaDevices.addEventListener&&(navigator.mediaDevices.addEventListener=function(){r("Dummy mediaDevices.addEventListener called.")}),void 0===navigator.mediaDevices.removeEventListener&&(navigator.mediaDevices.removeEventListener=function(){r("Dummy mediaDevices.removeEventListener called.")})}},{"../utils.js":10}],5:[function(e,t,n){"use strict";var r=e("sdp"),i=e("../utils").browserDetails,o={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(e){return e}),window.RTCSessionDescription||(window.RTCSessionDescription=function(e){return e})),window.RTCPeerConnection=function(e){var t=this,n=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){t[e]=n[e].bind(n)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return t.localStreams},this.getRemoteStreams=function(){return t.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},e&&e.iceTransportPolicy)switch(e.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=e.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=e&&"max-bundle"===e.bundlePolicy,e&&e.iceServers){var r=JSON.parse(JSON.stringify(e.iceServers));this.iceOptions.iceServers=r.filter(function(e){if(e&&e.urls){var t=e.urls;return"string"==typeof t&&(t=[t]),!!(t=t.filter(function(e){return 0===e.indexOf("turn:")&&-1!==e.indexOf("transport=udp")&&-1===e.indexOf("turn:[")||0===e.indexOf("stun:")&&i.version>=14393})[0])}return!1})}this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var e=this,t=r.splitSections(e.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(n){if(n.candidate&&0!==Object.keys(n.candidate).length)-1===n.candidate.candidate.indexOf("typ endOfCandidates")&&(t[n.candidate.sdpMLineIndex+1]+="a="+n.candidate.candidate+"\r\n");else for(var r=1;r<t.length;r++)-1===t[r].indexOf("\r\na=end-of-candidates\r\n")&&(t[r]+="a=end-of-candidates\r\n");e.localDescription.sdp=t.join(""),e.dispatchEvent(n),null!==e.onicecandidate&&e.onicecandidate(n),n.candidate||"complete"===e.iceGatheringState||e.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state})&&(e.iceGatheringState="complete")}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(e){this.localStreams.push(e.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(e){var t=this.localStreams.indexOf(e);t>-1&&(this.localStreams.splice(t,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(e,t){var n={codecs:[],headerExtensions:[],fecMechanisms:[]};return e.codecs.forEach(function(e){for(var r=0;r<t.codecs.length;r++){var i=t.codecs[r];if(e.name.toLowerCase()===i.name.toLowerCase()&&e.clockRate===i.clockRate&&e.numChannels===i.numChannels){n.codecs.push(i),i.rtcpFeedback=i.rtcpFeedback.filter(function(t){for(var n=0;n<e.rtcpFeedback.length;n++)if(e.rtcpFeedback[n].type===t.type&&e.rtcpFeedback[n].parameter===t.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var r=0;r<t.headerExtensions.length;r++){var i=t.headerExtensions[r];if(e.uri===i.uri){n.headerExtensions.push(i);break}}}),n},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(e,t){var n=this,i=new RTCIceGatherer(n.iceOptions),o=new RTCIceTransport(i);i.onlocalcandidate=function(a){var s=new Event("icecandidate");s.candidate={sdpMid:e,sdpMLineIndex:t};var c=a.candidate,l=!c||0===Object.keys(c).length;l?(void 0===i.state&&(i.state="completed"),s.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(c.component="RTCP"===o.component?2:1,s.candidate.candidate=r.writeCandidate(c));var u=r.splitSections(n.localDescription.sdp);-1===s.candidate.candidate.indexOf("typ endOfCandidates")?u[s.candidate.sdpMLineIndex+1]+="a="+s.candidate.candidate+"\r\n":u[s.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",n.localDescription.sdp=u.join("");var d=n.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});switch(n.iceGatheringState){case"new":n._localIceCandidatesBuffer.push(s),l&&d&&n._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":n._emitBufferedCandidates(),n.dispatchEvent(s),null!==n.onicecandidate&&n.onicecandidate(s),d&&(n.dispatchEvent(new Event("icecandidate")),null!==n.onicecandidate&&n.onicecandidate(new Event("icecandidate")),n.iceGatheringState="complete")}},o.onicestatechange=function(){n._updateConnectionState()};var a=new RTCDtlsTransport(o);return a.ondtlsstatechange=function(){n._updateConnectionState()},a.onerror=function(){a.state="failed",n._updateConnectionState()},{iceGatherer:i,iceTransport:o,dtlsTransport:a}},window.RTCPeerConnection.prototype._transceive=function(e,t,n){var i=this._getCommonCapabilities(e.localCapabilities,e.remoteCapabilities);t&&e.rtpSender&&(i.encodings=e.sendEncodingParameters,i.rtcp={cname:r.localCName},e.recvEncodingParameters.length&&(i.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(i)),n&&e.rtpReceiver&&(i.encodings=e.recvEncodingParameters,i.rtcp={cname:e.cname},e.sendEncodingParameters.length&&(i.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(i))},window.RTCPeerConnection.prototype.setLocalDescription=function(e){var t,n,i=this;if("offer"===e.type)this._pendingOffer&&(t=r.splitSections(e.sdp),n=t.shift(),t.forEach(function(e,t){var n=r.parseRtpParameters(e);i._pendingOffer[t].localCapabilities=n}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===e.type){t=r.splitSections(i.remoteDescription.sdp),n=t.shift();var o=r.matchPrefix(n,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],s=a.iceGatherer,c=a.iceTransport,l=a.dtlsTransport,u=a.localCapabilities,d=a.remoteCapabilities;if("0"!==e.split("\n",1)[0].split(" ",2)[1]&&!a.isDatachannel){var p=r.getIceParameters(e,n);if(o){var f=r.matchPrefix(e,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return"1"===e.component});f.length&&c.setRemoteCandidates(f)}var h=r.getDtlsParameters(e,n);o&&(h.role="server"),i.usingBundle&&0!==t||(c.start(s,p,o?"controlling":"controlled"),l.start(h));var m=i._getCommonCapabilities(u,d);i._transceive(a,m.codecs.length>0,!1)}})}switch(this.localDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}var a=arguments.length>1&&"function"==typeof arguments[1];if(a){var s=arguments[1];window.setTimeout(function(){s(),"new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),i._emitBufferedCandidates()},0)}var c=Promise.resolve();return c.then(function(){a||("new"===i.iceGatheringState&&(i.iceGatheringState="gathering"),window.setTimeout(i._emitBufferedCandidates.bind(i),500))}),c},window.RTCPeerConnection.prototype.setRemoteDescription=function(e){var t=this,n=new MediaStream,i=[],o=r.splitSections(e.sdp),a=o.shift(),s=r.matchPrefix(a,"a=ice-lite").length>0;switch(this.usingBundle=r.matchPrefix(a,"a=group:BUNDLE ").length>0,o.forEach(function(o,c){var l=r.splitLines(o)[0].substr(2).split(" "),u=l[0],d="0"===l[1],p=r.getDirection(o,a),f=r.matchPrefix(o,"a=mid:");if(f=f.length?f[0].substr(6):r.generateIdentifier(),"application"!==u||"DTLS/SCTP"!==l[2]){var h,m,g,v,y,b,_,E,w,S,T,C,A=r.parseRtpParameters(o);d||(T=r.getIceParameters(o,a),(C=r.getDtlsParameters(o,a)).role="client"),E=r.parseRtpEncodingParameters(o);var R,D=r.matchPrefix(o,"a=ssrc:").map(function(e){return r.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];D&&(R=D.value);var x=r.matchPrefix(o,"a=end-of-candidates",a).length>0,k=r.matchPrefix(o,"a=candidate:").map(function(e){return r.parseCandidate(e)}).filter(function(e){return"1"===e.component});if("offer"!==e.type||d)"answer"!==e.type||d||(m=(h=t.transceivers[c]).iceGatherer,g=h.iceTransport,v=h.dtlsTransport,y=h.rtpSender,b=h.rtpReceiver,_=h.sendEncodingParameters,w=h.localCapabilities,t.transceivers[c].recvEncodingParameters=E,t.transceivers[c].remoteCapabilities=A,t.transceivers[c].cname=R,(s||x)&&k.length&&g.setRemoteCandidates(k),t.usingBundle&&0!==c||(g.start(m,T,"controlling"),v.start(C)),t._transceive(h,"sendrecv"===p||"recvonly"===p,"sendrecv"===p||"sendonly"===p),!b||"sendrecv"!==p&&"sendonly"!==p?delete h.rtpReceiver:(i.push([S=b.track,b]),n.addTrack(S)));else{var I,O=t.usingBundle&&c>0?{iceGatherer:t.transceivers[0].iceGatherer,iceTransport:t.transceivers[0].iceTransport,dtlsTransport:t.transceivers[0].dtlsTransport}:t._createIceAndDtlsTransports(f,c);x&&O.iceTransport.setRemoteCandidates(k),w=RTCRtpReceiver.getCapabilities(u),_=[{ssrc:1001*(2*c+2)}],b=new RTCRtpReceiver(O.dtlsTransport,u),i.push([S=b.track,b]),n.addTrack(S),t.localStreams.length>0&&t.localStreams[0].getTracks().length>=c&&("audio"===u?I=t.localStreams[0].getAudioTracks()[0]:"video"===u&&(I=t.localStreams[0].getVideoTracks()[0]),I&&(y=new RTCRtpSender(I,O.dtlsTransport))),t.transceivers[c]={iceGatherer:O.iceGatherer,iceTransport:O.iceTransport,dtlsTransport:O.dtlsTransport,localCapabilities:w,remoteCapabilities:A,rtpSender:y,rtpReceiver:b,kind:u,mid:f,cname:R,sendEncodingParameters:_,recvEncodingParameters:E},t._transceive(t.transceivers[c],!1,"sendrecv"===p||"sendonly"===p)}}else t.transceivers[c]={mid:f,isDatachannel:!0}}),this.remoteDescription={type:e.type,sdp:e.sdp},e.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+e.type+'"')}return n.getTracks().length&&(t.remoteStreams.push(n),window.setTimeout(function(){var e=new Event("addstream");e.stream=n,t.dispatchEvent(e),null!==t.onaddstream&&window.setTimeout(function(){t.onaddstream(e)},0),i.forEach(function(r){var i=r[0],o=r[1],a=new Event("track");a.track=i,a.receiver=o,a.streams=[n],t.dispatchEvent(e),null!==t.ontrack&&window.setTimeout(function(){t.ontrack(a)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this.dispatchEvent(t),null!==this.onsignalingstatechange&&this.onsignalingstatechange(t)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var e=new Event("negotiationneeded");this.dispatchEvent(e),null!==this.onnegotiationneeded&&this.onnegotiationneeded(e)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0||t.checking>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":(t.connected>0||t.completed>0)&&(e="connected"),e!==this.iceConnectionState){this.iceConnectionState=e;var n=new Event("iceconnectionstatechange");this.dispatchEvent(n),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(n)}},window.RTCPeerConnection.prototype.createOffer=function(){var e,t=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!=typeof arguments[0]?e=arguments[0]:3===arguments.length&&(e=arguments[2]);var n=[],i=0,o=0;if(this.localStreams.length&&(i=this.localStreams[0].getAudioTracks().length,o=this.localStreams[0].getVideoTracks().length),e){if(e.mandatory||e.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==e.offerToReceiveAudio&&(i=e.offerToReceiveAudio),void 0!==e.offerToReceiveVideo&&(o=e.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(e){n.push({kind:e.kind,track:e,wantReceive:"audio"===e.kind?i>0:o>0}),"audio"===e.kind?i--:"video"===e.kind&&o--});i>0||o>0;)i>0&&(n.push({kind:"audio",wantReceive:!0}),i--),o>0&&(n.push({kind:"video",wantReceive:!0}),o--);var a=r.writeSessionBoilerplate(),s=[];n.forEach(function(e,n){var i,o,a=e.track,c=e.kind,l=r.generateIdentifier(),u=t.usingBundle&&n>0?{iceGatherer:s[0].iceGatherer,iceTransport:s[0].iceTransport,dtlsTransport:s[0].dtlsTransport}:t._createIceAndDtlsTransports(l,n),d=RTCRtpSender.getCapabilities(c),p=[{ssrc:1001*(2*n+1)}];a&&(i=new RTCRtpSender(a,u.dtlsTransport)),e.wantReceive&&(o=new RTCRtpReceiver(u.dtlsTransport,c)),s[n]={iceGatherer:u.iceGatherer,iceTransport:u.iceTransport,dtlsTransport:u.dtlsTransport,localCapabilities:d,remoteCapabilities:null,rtpSender:i,rtpReceiver:o,kind:c,mid:l,sendEncodingParameters:p,recvEncodingParameters:null}}),this.usingBundle&&(a+="a=group:BUNDLE "+s.map(function(e){return e.mid}).join(" ")+"\r\n"),n.forEach(function(e,n){var i=s[n];a+=r.writeMediaSection(i,i.localCapabilities,"offer",t.localStreams[0])}),this._pendingOffer=s;var c=new RTCSessionDescription({type:"offer",sdp:a});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,c),Promise.resolve(c)},window.RTCPeerConnection.prototype.createAnswer=function(){var e=this,t=r.writeSessionBoilerplate();this.usingBundle&&(t+="a=group:BUNDLE "+this.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(n){if(n.isDatachannel)t+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+n.mid+"\r\n";else{var i=e._getCommonCapabilities(n.localCapabilities,n.remoteCapabilities);t+=r.writeMediaSection(n,i,"answer",e.localStreams[0])}});var n=new RTCSessionDescription({type:"answer",sdp:t});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,n),Promise.resolve(n)},window.RTCPeerConnection.prototype.addIceCandidate=function(e){if(null===e)this.transceivers.forEach(function(e){e.iceTransport.addRemoteCandidate({})});else{var t=e.sdpMLineIndex;if(e.sdpMid)for(var n=0;n<this.transceivers.length;n++)if(this.transceivers[n].mid===e.sdpMid){t=n;break}var i=this.transceivers[t];if(i){var o=Object.keys(e.candidate).length>0?r.parseCandidate(e.candidate):{};if("tcp"===o.protocol&&(0===o.port||9===o.port))return;if("1"!==o.component)return;"endOfCandidates"===o.type&&(o={}),i.iceTransport.addRemoteCandidate(o);var a=r.splitSections(this.remoteDescription.sdp);a[t+1]+=(o.type?e.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=a.join("")}}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var e=[];this.transceivers.forEach(function(t){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(n){t[n]&&e.push(t[n].getStats())})});var t=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(n){var r=new Map;Promise.all(e).then(function(e){e.forEach(function(e){Object.keys(e).forEach(function(t){r.set(t,e[t]),r[t]=e[t]})}),t&&window.setTimeout(t,0,r),n(r)})})}}};t.exports={shimPeerConnection:o.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":10,"./getusermedia":6,sdp:1}],6:[function(e,t,n){"use strict";t.exports=function(){var e=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return e(t).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}},{}],7:[function(e,t,n){"use strict";var r=e("../utils").browserDetails,i={shimOnTrack:function(){"object"!=typeof window||!window.RTCPeerConnection||"ontrack"in window.RTCPeerConnection.prototype||Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=(function(e){e.stream.getTracks().forEach((function(t){var n=new Event("track");n.track=t,n.receiver={track:t},n.streams=[e.stream],this.dispatchEvent(n)}).bind(this))}).bind(this))}})},shimSourceObject:function(){"object"==typeof window&&(!window.HTMLMediaElement||"srcObject"in window.HTMLMediaElement.prototype||Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(e,t){if(r.version<38&&e&&e.iceServers){for(var n=[],i=0;i<e.iceServers.length;i++){var o=e.iceServers[i];if(o.hasOwnProperty("urls"))for(var a=0;a<o.urls.length;a++){var s={url:o.urls[a]};0===o.urls[a].indexOf("turn")&&(s.username=o.username,s.credential=o.credential),n.push(s)}else n.push(e.iceServers[i])}e.iceServers=n}return new mozRTCPeerConnection(e,t)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(e){var t=RTCPeerConnection.prototype[e];RTCPeerConnection.prototype[e]=function(){return arguments[0]=new("addIceCandidate"===e?RTCIceCandidate:RTCSessionDescription)(arguments[0]),t.apply(this,arguments)}});var e=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return null===arguments[0]?Promise.resolve():e.apply(this,arguments)};var t=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(e,n,r){return t.apply(this,[e||null]).then(function(e){return function(e){var t=new Map;return Object.keys(e).forEach(function(n){t.set(n,e[n]),t[n]=e[n]}),t}(e)}).then(n,r)}}}};t.exports={shimOnTrack:i.shimOnTrack,shimSourceObject:i.shimSourceObject,shimPeerConnection:i.shimPeerConnection,shimGetUserMedia:e("./getusermedia")}},{"../utils":10,"./getusermedia":8}],8:[function(e,t,n){"use strict";var i=e("../utils").log,o=e("../utils").browserDetails;t.exports=function(){var e=function(e){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},t=function(t,n,r){var a=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(n){if("require"!==n&&"advanced"!==n&&"mediaSource"!==n){var r=e[n]="object"==typeof e[n]?e[n]:{ideal:e[n]};if(void 0===r.min&&void 0===r.max&&void 0===r.exact||t.push(n),void 0!==r.exact&&("number"==typeof r.exact?r.min=r.max=r.exact:e[n]=r.exact,delete r.exact),void 0!==r.ideal){e.advanced=e.advanced||[];var i={};i[n]="number"==typeof r.ideal?{min:r.ideal,max:r.ideal}:r.ideal,e.advanced.push(i),delete r.ideal,Object.keys(r).length||delete e[n]}}}),t.length&&(e.require=t),e};return t=JSON.parse(JSON.stringify(t)),o.version<38&&(i("spec: "+JSON.stringify(t)),t.audio&&(t.audio=a(t.audio)),t.video&&(t.video=a(t.video)),i("ff37: "+JSON.stringify(t))),navigator.mozGetUserMedia(t,n,function(t){r(e(t))})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(e){return new Promise(function(n,r){t(e,n,r)})},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},o.version<41){var n=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return n().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(o.version<49){var a=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(t){return a(t).catch(function(t){return Promise.reject(e(t))})}}navigator.getUserMedia=function(e,n,i){return o.version<44?t(e,n,i):(r.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),void navigator.mediaDevices.getUserMedia(e).then(n,i))}}},{"../utils":10}],9:[function(e,t,n){"use strict";t.exports={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}}},{}],10:[function(e,t,n){"use strict";var i=!0,o={disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(i)return;void 0!==r&&"function"==typeof r.log&&r.log.apply(r,arguments)}},extractVersion:function(e,t,n){var r=e.match(t);return r&&r.length>=n&&parseInt(r[n],10)},detectBrowser:function(){var e={browser:null,version:null};if("undefined"==typeof window||!window.navigator)return e.browser="Not a browser.",e;if(navigator.mozGetUserMedia)e.browser="firefox",e.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)e.browser="chrome",e.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return e.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",e;e.browser="safari",e.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return e.browser="Not a supported browser.",e;e.browser="edge",e.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}return e}};t.exports={log:o.log,disableLog:o.disableLog,browserDetails:o.detectBrowser(),extractVersion:o.extractVersion}},{}]},{},[2])(2),o.parseWebrtcDetectedBrowser(),navigator.mozGetUserMedia?(MediaStreamTrack.getSources=function(e){setTimeout(function(){e([{kind:"audio",id:"default",label:"",facing:""},{kind:"video",id:"default",label:"",facing:""}])},0)},attachMediaStream=function(e,t){return e.srcObject=t,e},reattachMediaStream=function(e,t){return e.srcObject=t.srcObject,e},createIceServer=function(e,t,n){r.warn("createIceServer is deprecated. It should be replaced with an application level implementation.");var i=null,o=e.split(":");if(0===o[0].indexOf("stun"))i={urls:[e]};else if(0===o[0].indexOf("turn"))if(webrtcDetectedVersion<27){var a=e.split("?");1!==a.length&&0!==a[1].indexOf("transport=udp")||(i={urls:[a[0]],credential:n,username:t})}else i={urls:[e],credential:n,username:t};return i},createIceServers=function(e,t,n){r.warn("createIceServers is deprecated. It should be replaced with an application level implementation.");var o=[];for(i=0;i<e.length;i++){var a=createIceServer(e[i],t,n);null!==a&&o.push(a)}return o}):navigator.webkitGetUserMedia?(attachMediaStream=function(e,t){return webrtcDetectedVersion>=43?e.srcObject=t:void 0!==e.src?e.src=URL.createObjectURL(t):r.error("Error attaching stream to element."),e},reattachMediaStream=function(e,t){return webrtcDetectedVersion>=43?e.srcObject=t.srcObject:e.src=t.src,e},createIceServer=function(e,t,n){r.warn("createIceServer is deprecated. It should be replaced with an application level implementation.");var i=null,o=e.split(":");return 0===o[0].indexOf("stun")?i={url:e}:0===o[0].indexOf("turn")&&(i={url:e,credential:n,username:t}),i},createIceServers=function(e,t,n){r.warn("createIceServers is deprecated. It should be replaced with an application level implementation.");var o=[];if(webrtcDetectedVersion>=34)o={urls:e,credential:n,username:t};else for(i=0;i<e.length;i++){var a=createIceServer(e[i],t,n);null!==a&&o.push(a)}return o}):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)&&(attachMediaStream=function(e,t){return e.srcObject=t,e},reattachMediaStream=function(e,t){return e.srcObject=t.srcObject,e}),attachMediaStream_base=attachMediaStream,"opera"===webrtcDetectedBrowser&&(attachMediaStream_base=function(e,t){webrtcDetectedVersion>38?e.srcObject=t:void 0!==e.src&&(e.src=URL.createObjectURL(t))}),attachMediaStream=function(e,t){return"chrome"!==webrtcDetectedBrowser&&"opera"!==webrtcDetectedBrowser||t?attachMediaStream_base(e,t):e.src="",e},reattachMediaStream_base=reattachMediaStream,reattachMediaStream=function(e,t){return reattachMediaStream_base(e,t),e},window.attachMediaStream=attachMediaStream,window.reattachMediaStream=reattachMediaStream,window.getUserMedia=function(e,t,n){navigator.getUserMedia(e,t,n)},o.attachMediaStream=attachMediaStream,o.reattachMediaStream=reattachMediaStream,o.getUserMedia=getUserMedia,"undefined"==typeof Promise&&(requestUserMedia=null),o.maybeThroughWebRTCReady()),function(){"use strict";var e=null;o.TEXT.EXTENSION={REQUIRE_INSTALLATION_FF:"To enable screensharing you need to install the Skylink WebRTC tools Firefox Add-on.",REQUIRE_INSTALLATION_CHROME:"To enable screensharing you need to install the Skylink WebRTC tools Chrome Extension.",REQUIRE_REFRESH:"Please refresh this page after the Skylink WebRTC tools extension has been installed.",BUTTON_FF:"Install Now",BUTTON_CHROME:"Go to Chrome Web Store"};var t=function(e){if(null===e||"object"!=typeof e)return e;var t=e.constructor();for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};if(window.navigator.mozGetUserMedia?(e=window.navigator.getUserMedia,navigator.getUserMedia=function(n,r,i){if(n&&n.video&&n.video.mediaSource){if("screen"!==n.video.mediaSource&&"window"!==n.video.mediaSource)return void i(new Error('GetUserMedia: Only "screen" and "window" are supported as mediaSource constraints'));var a=t(n);a.video.mozMediaSource=a.video.mediaSource;var s=setInterval(function(){"complete"===document.readyState&&(clearInterval(s),e(a,r,function(e){["PermissionDeniedError","SecurityError"].indexOf(e.name)>-1&&"https:"===window.parent.location.protocol?o.renderNotificationBar(o.TEXT.EXTENSION.REQUIRE_INSTALLATION_FF,o.TEXT.EXTENSION.BUTTON_FF,"https://addons.mozilla.org/en-US/firefox/addon/skylink-webrtc-tools/",!0,!0):i(e)}))},1)}else e(n,r,i)},o.getUserMedia=window.getUserMedia=navigator.getUserMedia):window.navigator.webkitGetUserMedia&&"safari"!==window.webrtcDetectedBrowser?(e=window.navigator.getUserMedia,navigator.getUserMedia=function(n,r,a){if(n&&n.video&&n.video.mediaSource){if("chrome"!==window.webrtcDetectedBrowser)return void a(new Error("Current browser does not support screensharing"));var s=t(n),c=function(t,n){t?a("permission-denied"===t?new Error("Permission denied for screen retrieval"):new Error("Failed retrieving selected screen")):(s.video.mandatory=s.video.mandatory||{},s.video.mandatory.chromeMediaSource="desktop",s.video.mandatory.maxWidth=window.screen.width>1920?window.screen.width:1920,s.video.mandatory.maxHeight=window.screen.height>1080?window.screen.height:1080,n&&(s.video.mandatory.chromeMediaSourceId=n),delete s.video.mediaSource,e(s,r,a))},l=function(e){e.data&&(e.data.chromeMediaSourceId&&("PermissionDeniedError"===e.data.chromeMediaSourceId?c("permission-denied"):c(null,e.data.chromeMediaSourceId)),e.data.chromeExtensionStatus&&("not-installed"===e.data.chromeExtensionStatus?o.renderNotificationBar(o.TEXT.EXTENSION.REQUIRE_INSTALLATION_CHROME,o.TEXT.EXTENSION.BUTTON_CHROME,e.data.data,!0,!0):c(e.data.chromeExtensionStatus,null)),window.removeEventListener("message",l))};window.addEventListener("message",l),i({captureSourceId:!0})}else e(n,r,a)},o.getUserMedia=window.getUserMedia=navigator.getUserMedia,navigator.mediaDevices.getUserMedia=function(e){return new Promise(function(t,n){window.getUserMedia(e,t,n)})}):navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)?r.warn("Edge does not support screensharing feature in getUserMedia"):(e=window.navigator.getUserMedia,navigator.getUserMedia=function(n,r,i){if(n&&n.video&&n.video.mediaSource){var a=t(n);o.WebRTCPlugin.callWhenPluginReady(function(){return o.WebRTCPlugin.plugin.HasScreensharingFeature&&o.WebRTCPlugin.plugin.isScreensharingAvailable?(a.video.optional=a.video.optional||[],a.video.optional.push({sourceId:o.WebRTCPlugin.plugin.screensharingKey||"Screensharing"}),delete a.video.mediaSource,void e(a,r,i)):void i(new Error("Your version of the WebRTC plugin does not support screensharing"))})}else e(n,r,i)},o.getUserMedia=getUserMedia=window.getUserMedia=navigator.getUserMedia,navigator.mediaDevices&&"undefined"!=typeof Promise&&(navigator.mediaDevices.getUserMedia=requestUserMedia)),"chrome"===window.webrtcDetectedBrowser){var n=document.createElement("iframe");n.onload=function(){n.isLoaded=!0},n.src="https://cdn.temasys.com.sg/skylink/extensions/detectRTC.html",n.style.display="none",(document.body||document.documentElement).appendChild(n);var i=function(e){return e=e||{},n.isLoaded?void n.contentWindow.postMessage(e,"*"):void setTimeout(function(){n.contentWindow.postMessage(e,"*")},100)}}else"opera"===window.webrtcDetectedBrowser&&r.warn("Opera does not support screensharing feature in getUserMedia")}()}).call(t,"modules/RTC/adapter.screenshare.js")},function(e,t){"use strict";e.exports={CAMERA:"camera",DESKTOP:"desktop"}},function(e,t){"use strict";e.exports={ENVIRONMENT:"environment",USER:"user"}},function(e,t,n){(function(t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n,r,i,o,a){var s=this;u.call(this,null,e,t,(function(){this.dontFireRemoveEvent||this.eventEmitter.emit(c.LOCAL_TRACK_STOPPED),this.dontFireRemoveEvent=!1}).bind(this),n,r,null),this.dontFireRemoveEvent=!1,this.resolution=i,f.isFirefox()&&(this.resolution=null),this.deviceId=o,this.startMuted=!1,this.initialMSID=this.getMSID(),this.inMuteOrUnmuteProgress=!1,this._facingMode=a,this._trackEnded=!1,this._bytesSent=null,this._testByteSent=!0,this._realDeviceId=""===this.deviceId?void 0:this.deviceId,this.stopStreamInProgress=!1,this._noDataFromSourceTimeout=null,this._onDeviceListChanged=function(e){s._setRealDeviceIdFromDeviceList(e),void 0!==s.getTrack().readyState||void 0===s._realDeviceId||e.find(function(e){return e.deviceId===s._realDeviceId})||(s._trackEnded=!0)},this.isAudioTrack()&&m.isDeviceChangeAvailable("output")&&(this._onAudioOutputDeviceChanged=this.setAudioOutput.bind(this),m.addListener(h.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged)),m.addListener(h.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._initNoDataFromSourceHandlers()}function o(e,t){return e.inMuteOrUnmuteProgress?Promise.reject(new a.default(s.TRACK_MUTE_UNMUTE_IN_PROGRESS)):(e.inMuteOrUnmuteProgress=!0,e._setMute(t).then(function(){e.inMuteOrUnmuteProgress=!1}).catch(function(t){throw e.inMuteOrUnmuteProgress=!1,t}))}var a=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),s=r(n(7)),c=r(n(8)),l=n(56),u=n(58),d=n(9).getLogger(t),p=n(36),f=n(32),h=n(49),m=n(50),g=n(59),v=n(55);(i.prototype=Object.create(u.prototype)).constructor=i,i.prototype.isEnded=function(){return"ended"===this.getTrack().readyState||this._trackEnded},i.prototype._initNoDataFromSourceHandlers=function(){var e=this;this.isVideoTrack()&&this.videoType===v.CAMERA&&function(){var t=e._onNoDataFromSourceError.bind(e);e._setHandler("track_mute",function(){e._checkForCameraIssues()&&function(){var n=window.performance.now();e._noDataFromSourceTimeout=setTimeout(t,3e3),e._setHandler("track_unmute",function(){e._clearNoDataFromSourceMuteResources(),g.sendEventToAll(e.getType()+".track_unmute",{value:window.performance.now()-n})})}()}),e._setHandler("track_ended",t)}()},i.prototype._clearNoDataFromSourceMuteResources=function(){this._noDataFromSourceTimeout&&(clearTimeout(this._noDataFromSourceTimeout),this._noDataFromSourceTimeout=null),this._setHandler("track_unmute",void 0)},i.prototype._onNoDataFromSourceError=function(){this._clearNoDataFromSourceMuteResources(),this._checkForCameraIssues()&&this._fireNoDataFromSourceEvent()},i.prototype._fireNoDataFromSourceEvent=function(){this.eventEmitter.emit(c.NO_DATA_FROM_SOURCE),g.sendEventToAll(this.getType()+".no_data_from_source")},i.prototype._setRealDeviceIdFromDeviceList=function(e){var t=this.getTrack(),n=e.find(function(e){return e.kind===t.kind+"input"&&e.label===t.label});n&&(this._realDeviceId=n.deviceId)},i.prototype.mute=function(){return o(this,!0)},i.prototype.unmute=function(){return o(this,!1)},i.prototype._setMute=function(e){var t=this;if(this.isMuted()===e)return Promise.resolve();var n=Promise.resolve(),r=this;if(this.conference&&this.conference.room||(this.startMuted=e),this.dontFireRemoveEvent=!1,"https:"!==window.location.protocol||this.isAudioTrack()||this.videoType===v.DESKTOP||f.isFirefox())this.track&&(this.track.enabled=!e);else if(e)this.dontFireRemoveEvent=!0,n=new Promise(function(e,n){t._removeStreamFromConferenceAsMute(function(){t._stopMediaStream(),t._setStream(null),e()},function(e){n(e)})});else{var i={cameraDeviceId:this.getDeviceId(),devices:[p.VIDEO],facingMode:this.getCameraFacingMode()};this.resolution&&(i.resolution=this.resolution),n=m.obtainAudioAndVideoPermissions(i).then(function(e){var t=r.getType(),n=e.find(function(e){return e.mediaType===t});if(!n)throw new a.default(s.TRACK_NO_STREAM_FOUND);return r._setStream(n.stream),r.track=n.track,r.videoType!==n.videoType&&(d.warn("Video type has changed after unmute!",r.videoType,n.videoType),r.videoType=n.videoType),r.containers=r.containers.map(function(e){return m.attachMediaStream(e,r.stream)}),r._addStreamToConferenceAsUnmute()})}return n.then(function(){return r._sendMuteStatus(e)}).then(function(){r.eventEmitter.emit(c.TRACK_MUTE_CHANGED,this)})},i.prototype._addStreamToConferenceAsUnmute=function(){if(!this.conference||!this.conference.room)return Promise.resolve();var e=this;return new Promise(function(t,n){e.conference.room.addStream(e.stream,t,n,{mtype:e.type,type:"unmute",ssrc:e.ssrc,msid:e.getMSID()})})},i.prototype._removeStreamFromConferenceAsMute=function(e,t){return this.conference&&this.conference.room?void this.conference.room.removeStream(this.stream,e,t,{mtype:this.type,type:"mute",ssrc:this.ssrc}):void e()},i.prototype._sendMuteStatus=function(e){if(!this.conference||!this.conference.room)return Promise.resolve();var t=this;return new Promise(function(n){t.conference.room[t.isAudioTrack()?"setAudioMute":"setVideoMute"](e,n)})},i.prototype.dispose=function(){var e=this,t=Promise.resolve();return this.conference&&(t=this.conference.removeTrack(this)),this.stream&&(this._stopMediaStream(),this.detach()),m.removeListener(h.DEVICE_LIST_CHANGED,this._onDeviceListChanged),this._onAudioOutputDeviceChanged&&m.removeListener(h.AUDIO_OUTPUT_DEVICE_CHANGED,this._onAudioOutputDeviceChanged),t.then(function(){return u.prototype.dispose.call(e)})},i.prototype.isMuted=function(){return!(this.stream&&(!this.isVideoTrack()||this.isActive())&&this.track&&this.track.enabled)},i.prototype._setSSRC=function(e){this.ssrc=e},i.prototype._setConference=function(e){this.conference=e;for(var t=0;t<this.containers.length;t++)this._maybeFireTrackAttached(this.containers[t])},i.prototype.getSSRC=function(){return this.ssrc&&this.ssrc.groups&&this.ssrc.groups.length?this.ssrc.groups[0].primarySSRC:this.ssrc&&this.ssrc.ssrcs&&this.ssrc.ssrcs.length?this.ssrc.ssrcs[0]:null},i.prototype.isLocal=function(){return!0},i.prototype.getDeviceId=function(){return this._realDeviceId||this.deviceId},i.prototype._setByteSent=function(e){this._bytesSent=e;var t=this.conference?this.conference.getConnectionState():null;this._testByteSent&&"connected"===t&&(setTimeout((function(){this._bytesSent<=0&&this._fireNoDataFromSourceEvent()}).bind(this),3e3),this._testByteSent=!1)},i.prototype.getCameraFacingMode=function(){if(this.isVideoTrack()&&this.videoType===v.CAMERA){var e;try{e=this.track.getSettings()}catch(e){}return e&&"facingMode"in e?e.facingMode:void 0!==this._facingMode?this._facingMode:l.USER}},i.prototype._stopMediaStream=function(){this.stopStreamInProgress=!0,m.stopMediaStream(this.stream),this.stopStreamInProgress=!1},i.prototype._checkForCameraIssues=function(){return!(!this.isVideoTrack()||this.stopStreamInProgress||this.videoType===v.DESKTOP||this._isReceivingData())},i.prototype._isReceivingData=function(){return!!this.stream&&this.stream.getTracks().some(function(e){return!("readyState"in e&&"live"!==e.readyState||"muted"in e&&!0===e.muted)})},e.exports=i}).call(t,"modules/RTC/JitsiLocalTrack.js")},function(e,t,n){(function(t){"use strict";function r(e,t,n,r,i,o,a){this.containers=[],this.conference=e,this.stream=t,this.ssrc=a,this.eventEmitter=new c,this.audioLevel=-1,this.type=i,this.track=n,this.videoType=o,this.handlers={},this.disposed=!1,this._setHandler("inactive",r)}var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8)),o=n(9).getLogger(t),a=n(32),s=n(50),c=n(14),l=n(36),u={track_mute:"onmute",track_unmute:"onunmute",track_ended:"onended"};r.prototype._setHandler=function(e,t){this.handlers[e]=t,this.stream&&("inactive"===e?(a.isFirefox()&&function(e){var t=e.getOriginalStream();if(t){var n=t.stop;t.stop=function(){n.apply(t),e.isActive()&&t.onended()}}}(this),function(e,t){void 0!==e.active?e.oninactive=t:e.onended=t}(this.stream,t)):u.hasOwnProperty(e)&&this.stream.getVideoTracks().forEach(function(n){n[u[e]]=t},this))},r.prototype._setStream=function(e){this.stream=e,Object.keys(this.handlers).forEach(function(e){"function"==typeof this.handlers[e]&&this._setHandler(e,this.handlers[e])},this)},r.prototype.getType=function(){return this.type},r.prototype.isAudioTrack=function(){return this.getType()===l.AUDIO},r.prototype.isVideoTrack=function(){return this.getType()===l.VIDEO},r.prototype.isLocal=function(){throw new Error("Not implemented by subclass")},r.prototype.getOriginalStream=function(){return this.stream},r.prototype.getStreamId=function(){return this.stream?this.stream.id:null},r.prototype.getTrack=function(){return this.track},r.prototype.getTrackId=function(){return this.track?this.track.id:null},r.prototype.getUsageLabel=function(){return this.isAudioTrack()?"mic":this.videoType?this.videoType:"default"},r.prototype._maybeFireTrackAttached=function(e){this.conference&&e&&this.conference._onTrackAttach(this,e)},r.prototype.attach=function(e){return this.stream&&(e=s.attachMediaStream(e,this.stream)),this.containers.push(e),this._maybeFireTrackAttached(e),this._attachTTFMTracker(e),e},r.prototype.detach=function(e){for(var t=this.containers,n=t.length-1;n>=0;--n){var r=t[n];e||s.attachMediaStream(r,null),e&&r!==e||t.splice(n,1)}e&&s.attachMediaStream(e,null)},r.prototype._attachTTFMTracker=function(e){},r.prototype.dispose=function(){return this.eventEmitter.removeAllListeners(),this.disposed=!0,Promise.resolve()},r.prototype.isScreenSharing=function(){},r.prototype._getId=function(){return this.getTrackId()},r.prototype.getId=function(){return this.stream?s.getStreamID(this.stream):null},r.prototype.isActive=function(){return void 0===this.stream.active||this.stream.active},r.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},r.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},r.prototype.addEventListener=r.prototype.on,r.prototype.removeEventListener=r.prototype.off,r.prototype.setAudioLevel=function(e){this.audioLevel!==e&&(this.eventEmitter.emit(i.TRACK_AUDIO_LEVEL_CHANGED,e),this.audioLevel=e)},r.prototype.getMSID=function(){var e=this.getStreamId(),t=this.getTrackId();return e&&t?e+" "+t:null},r.prototype.setAudioOutput=function(e){var t=this;return s.isDeviceChangeAvailable("output")?this.isVideoTrack()?Promise.resolve():Promise.all(this.containers.map(function(t){return t.setSinkId(e).catch(function(e){throw o.warn("Failed to change audio output device on element. Default or previously set audio output device will be used.",t,e),e})})).then(function(){t.eventEmitter.emit(i.TRACK_AUDIO_OUTPUT_CHANGED,e)}):Promise.reject(new Error("Audio output device change is not supported"))},e.exports=r}).call(t,"modules/RTC/JitsiTrack.js")},function(e,t,n){(function(t){"use strict";function r(e){var t=new Error;return t.stack=e.stack,t.name=(e.name||"Unknown error")+(e.gum&&e.gum.error&&e.gum.error.name?" - "+e.gum.error.name:""),t.constraintName=e.gum&&e.gum.constraints?JSON.stringify(e.gum.constraints):"",t.message=e.message,t}function i(e,t){this.rtpStats=null,this.eventEmitter=new l,this.xmpp=e,this.options=t||{},this.callStatsIntegrationEnabled=this.options.callStatsID&&this.options.callStatsSecret&&!0!==i.disableThirdPartyRequests,this.callStatsIntegrationEnabled&&function(e){h||(f.loadScript(e||"https://api.callstats.io/static/callstats-ws.min.js",!0,!0),h=!0)}(this.options.callStatsCustomScriptUrl),this.callStats=null,this.callStatsStarted=!1,this.logStatsIntervalId=null}var o=function(e){return e&&e.__esModule?e:{default:e}}(n(6)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(60)),s=n(61),c=n(62),l=n(14),u=n(9).getLogger(t),d=n(112),p=n(113),f=n(114),h=!1;i.init=function(e){i.audioLevelsEnabled=!e.disableAudioLevels,"number"==typeof e.audioLevelsInterval&&(i.audioLevelsInterval=e.audioLevelsInterval),!0!==(i.disableThirdPartyRequests=e.disableThirdPartyRequests)?function(e){f.loadScript(e||"analytics.js",!0,!1,!e,function(){i.analytics.loaded()},function(){i.analytics.dispose()})}(e.analyticsScriptUrl):i.analytics.dispose()},i.audioLevelsEnabled=!1,i.audioLevelsInterval=200,i.disableThirdPartyRequests=!1,i.analytics=s,i.callsStatsInstances=[],i.prototype.startRemoteStats=function(e){this.stopRemoteStats();try{this.rtpStats=new p(e,i.audioLevelsInterval,2e3,this.eventEmitter),this.rtpStats.start(i.audioLevelsEnabled)}catch(e){this.rtpStats=null,u.error("Failed to start collecting remote statistics: "+e)}this.rtpStats&&(this.logStatsIntervalId=setInterval((function(){var e=this.rtpStats.getCollectedStats();this.xmpp.sendLogs(e)&&this.rtpStats.clearCollectedStats()}).bind(this),6e4))},i.localStats=[],i.startLocalStats=function(e,t){if(i.audioLevelsEnabled){var n=new d(e,i.audioLevelsInterval,t);this.localStats.push(n),n.start()}},i.prototype.addAudioLevelListener=function(e){i.audioLevelsEnabled&&this.eventEmitter.on(a.AUDIO_LEVEL,e)},i.prototype.removeAudioLevelListener=function(e){i.audioLevelsEnabled&&this.eventEmitter.removeListener(a.AUDIO_LEVEL,e)},i.prototype.addAudioProblemListener=function(e){this.eventEmitter.on(a.AUDIO_NOT_WORKING,e)},i.prototype.addConnectionStatsListener=function(e){this.eventEmitter.on(a.CONNECTION_STATS,e)},i.prototype.removeConnectionStatsListener=function(e){this.eventEmitter.removeListener(a.CONNECTION_STATS,e)},i.prototype.addByteSentStatsListener=function(e){this.eventEmitter.on(a.BYTE_SENT_STATS,e)},i.prototype.removeByteSentStatsListener=function(e){this.eventEmitter.removeListener(a.BYTE_SENT_STATS,e)},i.prototype.dispose=function(){this.stopCallStats(),this.stopRemoteStats(),this.eventEmitter&&this.eventEmitter.removeAllListeners()},i.stopLocalStats=function(e){if(i.audioLevelsEnabled)for(var t=0;t<i.localStats.length;t++)if(i.localStats[t].stream===e){i.localStats.splice(t,1)[0].stop();break}},i.prototype.stopRemoteStats=function(){this.rtpStats&&(this.rtpStats.stop(),this.rtpStats=null,this.logStatsIntervalId&&(clearInterval(this.logStatsIntervalId),this.logStatsIntervalId=null))},i.prototype.startCallStats=function(e,t){this.callStatsIntegrationEnabled&&!this.callStatsStarted&&(this.callstats=new c(e,t,this.options),i.callsStatsInstances.push(this.callstats),this.callStatsStarted=!0)},i.prototype.stopCallStats=function(){if(this.callStatsStarted){var e=i.callsStatsInstances.indexOf(this.callstats);e>-1&&i.callsStatsInstances.splice(e,1),c.dispose(),this.callStatsStarted=!1}},i.prototype.isCallstatsEnabled=function(){return this.callStatsIntegrationEnabled},i.prototype.sendIceConnectionFailedEvent=function(e){this.callstats&&this.callstats.sendIceConnectionFailedEvent(e,this.callstats),i.analytics.sendEvent("connection.ice_failed")},i.prototype.sendMuteEvent=function(e,t){this.callstats&&c.sendMuteEvent(e,t,this.callstats)},i.prototype.sendScreenSharingEvent=function(e){this.callstats&&c.sendScreenSharingEvent(e,this.callstats)},i.prototype.sendDominantSpeakerEvent=function(){this.callstats&&c.sendDominantSpeakerEvent(this.callstats)},i.sendActiveDeviceListEvent=function(e){i.callsStatsInstances.length?i.callsStatsInstances.forEach(function(t){c.sendActiveDeviceListEvent(e,t)}):c.sendActiveDeviceListEvent(e,null)},i.prototype.associateStreamWithVideoTag=function(e,t,n,r){this.callstats&&this.callstats.associateStreamWithVideoTag(e,t,n,r)},i.sendGetUserMediaFailed=function(e){i.callsStatsInstances.length?i.callsStatsInstances.forEach(function(t){c.sendGetUserMediaFailed(e instanceof o.default?r(e):e,t)}):c.sendGetUserMediaFailed(e instanceof o.default?r(e):e,null)},i.prototype.sendCreateOfferFailed=function(e,t){this.callstats&&c.sendCreateOfferFailed(e,t,this.callstats)},i.prototype.sendCreateAnswerFailed=function(e,t){this.callstats&&c.sendCreateAnswerFailed(e,t,this.callstats)},i.prototype.sendSetLocalDescFailed=function(e,t){this.callstats&&c.sendSetLocalDescFailed(e,t,this.callstats)},i.prototype.sendSetRemoteDescFailed=function(e,t){this.callstats&&c.sendSetRemoteDescFailed(e,t,this.callstats)},i.prototype.sendAddIceCandidateFailed=function(e,t){this.callstats&&c.sendAddIceCandidateFailed(e,t,this.callstats)},i.prototype.sendDetectedAudioProblem=function(e){this.callstats&&this.callstats.sendDetectedAudioProblem(e)},i.sendLog=function(e){i.callsStatsInstances.length?i.callsStatsInstances.forEach(function(t){c.sendApplicationLog(e,t)}):c.sendApplicationLog(e,null)},i.prototype.sendFeedback=function(e,t){this.callstats&&this.callstats.sendFeedback(e,t),i.analytics.sendEvent("feedback.rating",{value:e,detailed:t})},i.LOCAL_JID=n(116).LOCAL_JID,i.reportGlobalError=function(e){e instanceof o.default&&e.gum?i.sendGetUserMediaFailed(e):i.sendLog(e)},i.sendEventToAll=function(e,t){this.analytics.sendEvent(e,t),i.sendLog(JSON.stringify({name:e,data:t}))},e.exports=i}).call(t,"modules/statistics/statistics.js")},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUDIO_LEVEL="statistics.audioLevel",t.AUDIO_NOT_WORKING="statistics.audio_not_working",t.BYTE_SENT_STATS="statistics.byte_sent_stats",t.CONNECTION_STATS="statistics.connectionstats"},function(e,t,n){"use strict";function r(){}function i(){this.browserName=o.getBrowserName(),this.permanentProperties={}}var o=n(32);r.prototype.sendEvent=function(){},i.eventsQueue=[],i.prototype.sendEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._checkAnalyticsAndMaybeCacheEvent(e,t)){t.browserName=this.browserName;try{this.analytics.sendEvent(e,Object.assign({},this.permanentProperties,t))}catch(e){}}},i.prototype._checkAnalyticsAndMaybeCacheEvent=function(e,t){if(null==this.analytics){if(!window.Analytics)return i.eventsQueue.push({action:e,data:t}),!1;this.loaded()}return!0},i.prototype.dispose=function(){this.analytics=new r,i.eventsQueue.length=0},i.prototype.addPermanentProperties=function(e){this.permanentProperties=Object.assign(this.permanentProperties,e)},i.prototype.loaded=function(){var e=window.Analytics||r;this.analytics=new e,i.eventsQueue.length&&(i.eventsQueue.forEach((function(e){this.sendEvent(e.action,e.data)}).bind(this)),i.eventsQueue.length=0)},e.exports=new i},function(e,t,n){(function(t){"use strict";function r(e,t){if(o.log("CallStats Status: err="+e+" msg="+t),p.initializeInProgress=!1,"success"===e){var n=u.addNewFabric(this.peerconnection,d,u.fabricUsage.multiplex,this.confID,this.pcCallback.bind(this)),r="success"===n.status;return r?(p.initializeFailed=!1,p.initialized=!0,p.feedbackEnabled=!0,void(p.reportsQueue.length&&(p.reportsQueue.forEach(function(e){if(e.type===f.ERROR){var t=e.data;p._reportError.call(this,t.type,t.error,t.pc)}else if(e.type===f.EVENT&&r){var n=e.data;u.sendFabricEvent(this.peerconnection,n.event,this.confID,n.eventData)}else if(e.type===f.MST_WITH_USERID){var i=e.data;u.associateMstWithUserID(this.peerconnection,i.callStatsId,this.confID,i.ssrc,i.usageLabel,i.containerId)}},this),p.reportsQueue.length=0))):(p.initializeFailed=!0,void o.log("callstats fabric not initilized",n.message))}p.initializeFailed=!0}function i(e){return function(){try{e.apply(this,arguments)}catch(e){a.callErrorHandler(e),o.error(e)}}}var o=n(9).getLogger(t),a=n(39),s=n(63),c=n(64),l="applicationLog",u=null,d="jitsi",p=i(function(e,t,n){try{p.feedbackEnabled=!1,u=new callstats($,c,s),this.peerconnection=e.peerconnection.peerconnection,this.userID={aliasName:Strophe.getResourceFromJid(e.room.myroomjid),userName:t.getCallStatsUserName()};var i=window.location;this.confID=i.hostname+"/"+n.roomName,this.callStatsID=n.callStatsID,this.callStatsSecret=n.callStatsSecret,p.initializeInProgress=!0,u.initialize(this.callStatsID,this.callStatsSecret,this.userID,r.bind(this))}catch(e){a.callErrorHandler(e),u=null,o.error(e)}});p.reportsQueue=[],p.initialized=!1,p.initializeInProgress=!1,p.initializeFailed=!1,p.feedbackEnabled=!1,p._checkInitialize=function(){!p.initialized&&p.initializeFailed&&u&&!p.initializeInProgress&&(p.initializeInProgress=!0,u.initialize(u.callStatsID,u.callStatsSecret,u.userID,r.bind(u)))};var f={ERROR:"error",EVENT:"event",MST_WITH_USERID:"mstWithUserID"};p.prototype.pcCallback=i(function(e,t){u&&"success"!==e&&o.error("Monitoring status: "+e+" msg: "+t)}),p.prototype.associateStreamWithVideoTag=function(e,t,n,r){if(u){var a=t?this.userID:"focus";i(function(){o.debug("Calling callStats.associateMstWithUserID with:",this.peerconnection,a,this.confID,e,n,r),p.initialized?u.associateMstWithUserID(this.peerconnection,a,this.confID,e,n,r):(p.reportsQueue.push({type:f.MST_WITH_USERID,data:{callStatsId:a,containerId:r,ssrc:e,usageLabel:n}}),p._checkInitialize())}).bind(this)()}},p.sendMuteEvent=i(function(e,t,n){p._reportEvent.call(n,"video"===t?e?"videoPause":"videoResume":e?"audioMute":"audioUnmute")}),p.sendScreenSharingEvent=i(function(e,t){p._reportEvent.call(t,e?"screenShareStart":"screenShareStop")}),p.sendDominantSpeakerEvent=i(function(e){p._reportEvent.call(e,"dominantSpeaker")}),p.sendActiveDeviceListEvent=i(function(e,t){p._reportEvent.call(t,"activeDeviceList",e)}),p._reportEvent=function(e,t){p.initialized?u.sendFabricEvent(this.peerconnection,e,this.confID,t):(p.reportsQueue.push({type:f.EVENT,data:{event:e,eventData:t}}),p._checkInitialize())},p.prototype.sendTerminateEvent=i(function(){p.initialized&&u.sendFabricEvent(this.peerconnection,u.fabricEvent.fabricTerminated,this.confID)}),p.prototype.sendDetectedAudioProblem=i(function(e){p._reportError.call(this,l,e,this.peerconnection)}),p.prototype.sendIceConnectionFailedEvent=i(function(e,t){p._reportError.call(t,"iceConnectionFailure",null,e)}),p.prototype.sendFeedback=i(function(e,t){p.feedbackEnabled&&u.sendUserFeedback(this.confID,{userID:this.userID,overall:e,comment:t})}),p._reportError=function(e,t,n){t||(o.warn("No error is passed!"),t=new Error("Unknown error")),p.initialized?u.reportError(n,this.confID,e,t):(p.reportsQueue.push({type:f.ERROR,data:{type:e,error:t,pc:n}}),p._checkInitialize())},p.sendGetUserMediaFailed=i(function(e,t){p._reportError.call(t,"getUserMedia",e,null)}),p.sendCreateOfferFailed=i(function(e,t,n){p._reportError.call(n,"createOffer",e,t)}),p.sendCreateAnswerFailed=i(function(e,t,n){p._reportError.call(n,"createAnswer",e,t)}),p.sendSetLocalDescFailed=i(function(e,t,n){p._reportError.call(n,"setLocalDescription",e,t)}),p.sendSetRemoteDescFailed=i(function(e,t,n){p._reportError.call(n,"setRemoteDescription",e,t)}),p.sendAddIceCandidateFailed=i(function(e,t,n){p._reportError.call(n,"addIceCandidate",e,t)}),p.sendApplicationLog=i(function(e,t){p._reportError.call(t,l,e,null)}),p.dispose=function(){p.initialized=!1,p.initializeFailed=!1,p.initializeInProgress=!1},e.exports=p}).call(t,"modules/statistics/CallStats.js")},function(e,t,n){var r;!function(i){function o(e,t,n){var r,i=0,o=[0],a=null;if("UTF8"!==(r=n||"UTF8")&&"UTF16"!==r)throw"encoding must be UTF8 or UTF16";if("HEX"===t){if(0!=e.length%2)throw"srcString of HEX type must be in byte increments";a=c(e),i=a.binLen,o=a.value}else if("ASCII"===t||"TEXT"===t)a=s(e,r),i=a.binLen,o=a.value;else{if("B64"!==t)throw"inputFormat must be HEX, TEXT, ASCII, or B64";a=l(e),i=a.binLen,o=a.value}this.getHash=function(e,t,n,r){var a,s=null,c=o.slice(),l=i;if(3===arguments.length?"number"!=typeof n&&(r=n,n=1):2===arguments.length&&(n=1),n!==parseInt(n,10)||1>n)throw"numRounds must a integer >= 1";switch(t){case"HEX":s=u;break;case"B64":s=d;break;default:throw"format must be HEX or B64"}if("SHA-1"===e)for(a=0;a<n;a++)c=M(c,l),l=160;else if("SHA-224"===e)for(a=0;a<n;a++)c=j(c,l,e),l=224;else if("SHA-256"===e)for(a=0;a<n;a++)c=j(c,l,e),l=256;else if("SHA-384"===e)for(a=0;a<n;a++)c=j(c,l,e),l=384;else{if("SHA-512"!==e)throw"Chosen SHA variant is not supported";for(a=0;a<n;a++)c=j(c,l,e),l=512}return s(c,p(r))},this.getHMAC=function(e,t,n,a,f){var h,m,g,v,y=[],b=[];switch(h=null,a){case"HEX":a=u;break;case"B64":a=d;break;default:throw"outputFormat must be HEX or B64"}if("SHA-1"===n)m=64,v=160;else if("SHA-224"===n)m=64,v=224;else if("SHA-256"===n)m=64,v=256;else if("SHA-384"===n)m=128,v=384;else{if("SHA-512"!==n)throw"Chosen SHA variant is not supported";m=128,v=512}if("HEX"===t)g=(h=c(e)).binLen,h=h.value;else if("ASCII"===t||"TEXT"===t)g=(h=s(e,r)).binLen,h=h.value;else{if("B64"!==t)throw"inputFormat must be HEX, TEXT, ASCII, or B64";g=(h=l(e)).binLen,h=h.value}for(e=8*m,t=m/4-1,m<g/8?(h="SHA-1"===n?M(h,g):j(h,g,n))[t]&=4294967040:m>g/8&&(h[t]&=4294967040),m=0;m<=t;m+=1)y[m]=909522486^h[m],b[m]=1549556828^h[m];return a(n="SHA-1"===n?M(b.concat(M(y.concat(o),e+i)),e+v):j(b.concat(j(y.concat(o),e+i,n)),e+v,n),p(f))}}function a(e,t){this.a=e,this.b=t}function s(e,t){var n,r,i=[],o=[],a=0;if("UTF8"===t)for(r=0;r<e.length;r+=1)for(o=[],2048<(n=e.charCodeAt(r))?(o[0]=224|(61440&n)>>>12,o[1]=128|(4032&n)>>>6,o[2]=128|63&n):128<n?(o[0]=192|(1984&n)>>>6,o[1]=128|63&n):o[0]=n,n=0;n<o.length;n+=1)i[a>>>2]|=o[n]<<24-a%4*8,a+=1;else if("UTF16"===t)for(r=0;r<e.length;r+=1)i[a>>>2]|=e.charCodeAt(r)<<16-a%4*8,a+=2;return{value:i,binLen:8*a}}function c(e){var t,n,r=[],i=e.length;if(0!=i%2)throw"String of HEX type must be in byte increments";for(t=0;t<i;t+=2){if(n=parseInt(e.substr(t,2),16),isNaN(n))throw"String of HEX type contains invalid characters";r[t>>>3]|=n<<24-t%8*4}return{value:r,binLen:4*i}}function l(e){var t,n,r,i,o,a=[],s=0;if(-1===e.search(/^[a-zA-Z0-9=+\/]+$/))throw"Invalid character in base-64 string";if(t=e.indexOf("="),e=e.replace(/\=/g,""),-1!==t&&t<e.length)throw"Invalid '=' found in base-64 string";for(n=0;n<e.length;n+=4){for(o=e.substr(n,4),r=i=0;r<o.length;r+=1)i|=(t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(o[r]))<<18-6*r;for(r=0;r<o.length-1;r+=1)a[s>>2]|=(i>>>16-8*r&255)<<24-s%4*8,s+=1}return{value:a,binLen:8*s}}function u(e,t){var n,r,i="",o=4*e.length;for(n=0;n<o;n+=1)i+="0123456789abcdef".charAt((r=e[n>>>2]>>>8*(3-n%4))>>>4&15)+"0123456789abcdef".charAt(15&r);return t.outputUpper?i.toUpperCase():i}function d(e,t){var n,r,i,o="",a=4*e.length;for(n=0;n<a;n+=3)for(i=(e[n>>>2]>>>8*(3-n%4)&255)<<16|(e[n+1>>>2]>>>8*(3-(n+1)%4)&255)<<8|e[n+2>>>2]>>>8*(3-(n+2)%4)&255,r=0;4>r;r+=1)o=8*n+6*r<=32*e.length?o+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63):o+t.b64Pad;return o}function p(e){var t={outputUpper:!1,b64Pad:"="};try{e.hasOwnProperty("outputUpper")&&(t.outputUpper=e.outputUpper),e.hasOwnProperty("b64Pad")&&(t.b64Pad=e.b64Pad)}catch(e){}if("boolean"!=typeof t.outputUpper)throw"Invalid outputUpper formatting option";if("string"!=typeof t.b64Pad)throw"Invalid b64Pad formatting option";return t}function f(e,t){return e<<t|e>>>32-t}function h(e,t){return e>>>t|e<<32-t}function m(e,t){var n;return n=new a(e.a,e.b),32>=t?new a(n.a>>>t|n.b<<32-t&4294967295,n.b>>>t|n.a<<32-t&4294967295):new a(n.b>>>t-32|n.a<<64-t&4294967295,n.a>>>t-32|n.b<<64-t&4294967295)}function g(e,t){return 32>=t?new a(e.a>>>t,e.b>>>t|e.a<<32-t&4294967295):new a(0,e.a>>>t-32)}function v(e,t,n){return e^t^n}function y(e,t,n){return e&t^~e&n}function b(e,t,n){return new a(e.a&t.a^~e.a&n.a,e.b&t.b^~e.b&n.b)}function _(e,t,n){return e&t^e&n^t&n}function E(e,t,n){return new a(e.a&t.a^e.a&n.a^t.a&n.a,e.b&t.b^e.b&n.b^t.b&n.b)}function w(e){return h(e,2)^h(e,13)^h(e,22)}function S(e){var t=m(e,28),n=m(e,34);return e=m(e,39),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function T(e){return h(e,6)^h(e,11)^h(e,25)}function C(e){var t=m(e,14),n=m(e,18);return e=m(e,41),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function A(e){return h(e,7)^h(e,18)^e>>>3}function R(e){var t=m(e,1),n=m(e,8);return e=g(e,7),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function D(e){return h(e,17)^h(e,19)^e>>>10}function x(e){var t=m(e,19),n=m(e,61);return e=g(e,6),new a(t.a^n.a^e.a,t.b^n.b^e.b)}function k(e,t){var n=(65535&e)+(65535&t);return((e>>>16)+(t>>>16)+(n>>>16)&65535)<<16|65535&n}function I(e,t,n,r){var i=(65535&e)+(65535&t)+(65535&n)+(65535&r);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)&65535)<<16|65535&i}function O(e,t,n,r,i){var o=(65535&e)+(65535&t)+(65535&n)+(65535&r)+(65535&i);return((e>>>16)+(t>>>16)+(n>>>16)+(r>>>16)+(i>>>16)+(o>>>16)&65535)<<16|65535&o}function N(e,t){var n,r,i;return i=(65535&(r=(e.b>>>16)+(t.b>>>16)+((n=(65535&e.b)+(65535&t.b))>>>16)))<<16|65535&n,new a((65535&(r=(e.a>>>16)+(t.a>>>16)+((n=(65535&e.a)+(65535&t.a)+(r>>>16))>>>16)))<<16|65535&n,i)}function L(e,t,n,r){var i,o,s;return s=(65535&(o=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+((i=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b))>>>16)))<<16|65535&i,new a((65535&(o=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+((i=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(o>>>16))>>>16)))<<16|65535&i,s)}function P(e,t,n,r,i){var o,s,c;return c=(65535&(s=(e.b>>>16)+(t.b>>>16)+(n.b>>>16)+(r.b>>>16)+(i.b>>>16)+((o=(65535&e.b)+(65535&t.b)+(65535&n.b)+(65535&r.b)+(65535&i.b))>>>16)))<<16|65535&o,new a((65535&(s=(e.a>>>16)+(t.a>>>16)+(n.a>>>16)+(r.a>>>16)+(i.a>>>16)+((o=(65535&e.a)+(65535&t.a)+(65535&n.a)+(65535&r.a)+(65535&i.a)+(s>>>16))>>>16)))<<16|65535&o,c)}function M(e,t){var n,r,i,o,a,s,c,l,u,d=[],p=y,h=v,m=_,g=f,b=k,E=O,w=[1732584193,4023233417,2562383102,271733878,3285377520];for(e[t>>>5]|=128<<24-t%32,e[15+(t+65>>>9<<4)]=t,u=e.length,c=0;c<u;c+=16){for(n=w[0],r=w[1],i=w[2],o=w[3],a=w[4],l=0;80>l;l+=1)d[l]=16>l?e[l+c]:g(d[l-3]^d[l-8]^d[l-14]^d[l-16],1),s=20>l?E(g(n,5),p(r,i,o),a,1518500249,d[l]):40>l?E(g(n,5),h(r,i,o),a,1859775393,d[l]):60>l?E(g(n,5),m(r,i,o),a,2400959708,d[l]):E(g(n,5),h(r,i,o),a,3395469782,d[l]),a=o,o=i,i=g(r,30),r=n,n=s;w[0]=b(n,w[0]),w[1]=b(r,w[1]),w[2]=b(i,w[2]),w[3]=b(o,w[3]),w[4]=b(a,w[4])}return w}function j(e,t,n){var r,i,o,s,c,l,u,d,p,f,h,m,g,v,M,j,F,U,B,H,J,G,W,V,z,q,K=[],$=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];if(f=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428],i=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],"SHA-224"===n||"SHA-256"===n)h=64,r=15+(t+65>>>9<<4),v=16,M=1,z=Number,j=k,F=I,U=O,B=A,H=D,J=w,G=T,V=_,W=y,f="SHA-224"===n?f:i;else{if("SHA-384"!==n&&"SHA-512"!==n)throw"Unexpected error in SHA-2 implementation";h=80,r=31+(t+128>>>10<<5),v=32,M=2,j=N,F=L,U=P,B=R,H=x,J=S,G=C,V=E,W=b,$=[new(z=a)($[0],3609767458),new z($[1],602891725),new z($[2],3964484399),new z($[3],2173295548),new z($[4],4081628472),new z($[5],3053834265),new z($[6],2937671579),new z($[7],3664609560),new z($[8],2734883394),new z($[9],1164996542),new z($[10],1323610764),new z($[11],3590304994),new z($[12],4068182383),new z($[13],991336113),new z($[14],633803317),new z($[15],3479774868),new z($[16],2666613458),new z($[17],944711139),new z($[18],2341262773),new z($[19],2007800933),new z($[20],1495990901),new z($[21],1856431235),new z($[22],3175218132),new z($[23],2198950837),new z($[24],3999719339),new z($[25],766784016),new z($[26],2566594879),new z($[27],3203337956),new z($[28],1034457026),new z($[29],2466948901),new z($[30],3758326383),new z($[31],168717936),new z($[32],1188179964),new z($[33],1546045734),new z($[34],1522805485),new z($[35],2643833823),new z($[36],2343527390),new z($[37],1014477480),new z($[38],1206759142),new z($[39],344077627),new z($[40],1290863460),new z($[41],3158454273),new z($[42],3505952657),new z($[43],106217008),new z($[44],3606008344),new z($[45],1432725776),new z($[46],1467031594),new z($[47],851169720),new z($[48],3100823752),new z($[49],1363258195),new z($[50],3750685593),new z($[51],3785050280),new z($[52],3318307427),new z($[53],3812723403),new z($[54],2003034995),new z($[55],3602036899),new z($[56],1575990012),new z($[57],1125592928),new z($[58],2716904306),new z($[59],442776044),new z($[60],593698344),new z($[61],3733110249),new z($[62],2999351573),new z($[63],3815920427),new z(3391569614,3928383900),new z(3515267271,566280711),new z(3940187606,3454069534),new z(4118630271,4000239992),new z(116418474,1914138554),new z(174292421,2731055270),new z(289380356,3203993006),new z(460393269,320620315),new z(685471733,587496836),new z(852142971,1086792851),new z(1017036298,365543100),new z(1126000580,2618297676),new z(1288033470,3409855158),new z(1501505948,4234509866),new z(1607167915,987167468),new z(1816402316,1246189591)],f="SHA-384"===n?[new z(3418070365,f[0]),new z(1654270250,f[1]),new z(2438529370,f[2]),new z(355462360,f[3]),new z(1731405415,f[4]),new z(41048885895,f[5]),new z(3675008525,f[6]),new z(1203062813,f[7])]:[new z(i[0],4089235720),new z(i[1],2227873595),new z(i[2],4271175723),new z(i[3],1595750129),new z(i[4],2917565137),new z(i[5],725511199),new z(i[6],4215389547),new z(i[7],327033209)]}for(e[t>>>5]|=128<<24-t%32,e[r]=t,q=e.length,m=0;m<q;m+=v){for(t=f[0],r=f[1],i=f[2],o=f[3],s=f[4],c=f[5],l=f[6],u=f[7],g=0;g<h;g+=1)K[g]=16>g?new z(e[g*M+m],e[g*M+m+1]):F(H(K[g-2]),K[g-7],B(K[g-15]),K[g-16]),d=U(u,G(s),W(s,c,l),$[g],K[g]),p=j(J(t),V(t,r,i)),u=l,l=c,c=s,s=j(o,d),o=i,i=r,r=t,t=j(d,p);f[0]=j(t,f[0]),f[1]=j(r,f[1]),f[2]=j(i,f[2]),f[3]=j(o,f[3]),f[4]=j(s,f[4]),f[5]=j(c,f[5]),f[6]=j(l,f[6]),f[7]=j(u,f[7])}if("SHA-224"===n)e=[f[0],f[1],f[2],f[3],f[4],f[5],f[6]];else if("SHA-256"===n)e=f;else if("SHA-384"===n)e=[f[0].a,f[0].b,f[1].a,f[1].b,f[2].a,f[2].b,f[3].a,f[3].b,f[4].a,f[4].b,f[5].a,f[5].b];else{if("SHA-512"!==n)throw"Unexpected error in SHA-2 implementation";e=[f[0].a,f[0].b,f[1].a,f[1].b,f[2].a,f[2].b,f[3].a,f[3].b,f[4].a,f[4].b,f[5].a,f[5].b,f[6].a,f[6].b,f[7].a,f[7].b]}return e}void 0===(r=(function(){return o}).call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){function r(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r=i(e),o=r.source,l=r.id;return t.forceNew||t["force new connection"]||!1===t.multiplex||c[l]&&r.path in c[l].nsps?(s("ignoring socket cache for %s",o),n=a(o,t)):(c[l]||(s("new io instance for %s",o),c[l]=a(o,t)),n=c[l]),n.socket(r.path)}var i=n(65),o=n(70),a=n(78),s=n(67)("socket.io-client");e.exports=t=r;var c=t.managers={};t.protocol=o.protocol,t.connect=r,t.Manager=n(78),t.Socket=n(105)},function(e,t,n){(function(t){var r=n(66),i=n(67)("socket.io-client:url");e.exports=function(e,n){var o=e;n=n||t.location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e)),o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443")),o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port==o.port?"":":"+o.port),o}}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},c=14;c--;)s[r[c]]=a[c]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t,n){function r(){var e;try{e=t.storage.debug}catch(e){}return e}(t=e.exports=n(68)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(){var e=arguments,n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),!n)return e;var r="color: "+this.color;e=[e[0],r,"color: inherit"].concat(Array.prototype.slice.call(e,1));var i=0,o=0;return e[0].replace(/%[a-z%]/g,function(e){"%%"!==e&&(i++,"%c"===e&&(o=i))}),e.splice(o,0,r),e},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return"WebkitAppearance"in document.documentElement.style||window.console&&(console.firebug||console.exception&&console.table)||navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){return JSON.stringify(e)},t.enable(r())},function(e,t,n){function r(){return t.colors[o++%t.colors.length]}(t=e.exports=function(e){function n(){}function o(){var e=o,n=+new Date;e.diff=n-(i||n),e.prev=i,e.curr=n,i=n,null==e.useColors&&(e.useColors=t.useColors()),null==e.color&&e.useColors&&(e.color=r());var a=Array.prototype.slice.call(arguments);a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&(a=["%o"].concat(a));var s=0;a[0]=a[0].replace(/%([a-z%])/g,function(n,r){if("%%"===n)return n;s++;var i=t.formatters[r];return"function"==typeof i&&(n=i.call(e,a[s]),a.splice(s,1),s--),n}),"function"==typeof t.formatArgs&&(a=t.formatArgs.apply(e,a)),(o.log||t.log||console.log.bind(console)).apply(e,a)}n.enabled=!1,o.enabled=!0;var a=t.enabled(e)?o:n;return a.namespace=e,a}).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e);for(var n=(e||"").split(/[\s,]+/),r=n.length,i=0;i<r;i++)n[i]&&("-"===(e=n[i].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(69),t.names=[],t.skips=[],t.formatters={};var i,o=0},function(e,t){function n(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}var r=1e3,i=60*r,o=60*i,a=24*o;e.exports=function(e,t){return t=t||{},"string"==typeof e?function(e){if(!((e=""+e).length>1e4)){var t=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(t){var n=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*n;case"days":case"day":case"d":return n*a;case"hours":case"hour":case"hrs":case"hr":case"h":return n*o;case"minutes":case"minute":case"mins":case"min":case"m":return n*i;case"seconds":case"second":case"secs":case"sec":case"s":return n*r;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return n}}}}(e):t.long?function(e){return n(e,a,"day")||n(e,o,"hour")||n(e,i,"minute")||n(e,r,"second")||e+" ms"}(e):function(e){return e>=a?Math.round(e/a)+"d":e>=o?Math.round(e/o)+"h":e>=i?Math.round(e/i)+"m":e>=r?Math.round(e/r)+"s":e+"ms"}(e)}},function(e,t,n){function r(){}function i(e){var n="",r=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(r=!0,n+=e.nsp),null!=e.id&&(r&&(n+=",",r=!1),n+=e.id),null!=e.data&&(r&&(n+=","),n+=l.stringify(e.data)),c("encoded %j as %s",e,n),n}function o(){this.reconstructor=null}function a(e){this.reconPack=e,this.buffers=[]}function s(e){return{type:t.ERROR,data:"parser error"}}var c=n(67)("socket.io-parser"),l=n(71),u=(n(74),n(75)),d=n(76),p=n(77);t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=r,t.Decoder=o,r.prototype.encode=function(e,n){c("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type?function(e,t){d.removeBlobs(e,function(e){var n=d.deconstructPacket(e),r=i(n.packet),o=n.buffers;o.unshift(r),t(o)})}(e,n):n([i(e)])},u(o.prototype),o.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n={},r=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return s();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var i="";"-"!=e.charAt(++r)&&(i+=e.charAt(r),r!=e.length););if(i!=Number(i)||"-"!=e.charAt(r))throw new Error("Illegal attachments");n.attachments=Number(i)}if("/"==e.charAt(r+1))for(n.nsp="";++r&&","!=(a=e.charAt(r))&&(n.nsp+=a,r!=e.length););else n.nsp="/";var o=e.charAt(r+1);if(""!==o&&Number(o)==o){for(n.id="";++r;){var a;if(null==(a=e.charAt(r))||Number(a)!=a){--r;break}if(n.id+=e.charAt(r),r==e.length)break}n.id=Number(n.id)}if(e.charAt(++r))try{n.data=l.parse(e.substr(r))}catch(e){return s()}return c("decoded %s as %j",e,n),n}(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new a(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!p(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},o.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},a.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=d.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},a.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t,n){var r;(function(e,i){(function(){function o(e,t){function n(e){if(n[e]!==g)return n[e];var o;if("bug-string-char-index"==e)o="a"!="a"[0];else if("json"==e)o=n("json-stringify")&&n("json-parse");else{var a,s='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==e){var l=t.stringify,u="function"==typeof l&&b;if(u){(a=function(){return 1}).toJSON=a;try{u="0"===l(0)&&"0"===l(new r)&&'""'==l(new i)&&l(y)===g&&l(g)===g&&l()===g&&"1"===l(a)&&"[1]"==l([a])&&"[null]"==l([g])&&"null"==l(null)&&"[null,null,null]"==l([g,y,null])&&l({a:[a,!0,!1,null,"\0\b\n\f\r\t"]})==s&&"1"===l(null,a)&&"[\n 1,\n 2\n]"==l([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==l(new c(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==l(new c(864e13))&&'"-000001-01-01T00:00:00.000Z"'==l(new c(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==l(new c(-1))}catch(e){u=!1}}o=u}if("json-parse"==e){var d=t.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){var p=5==(a=d(s)).a.length&&1===a.a[0];if(p){try{p=!d('"\t"')}catch(e){}if(p)try{p=1!==d("01")}catch(e){}if(p)try{p=1!==d("1.")}catch(e){}}}}catch(e){p=!1}o=p}}return n[e]=!!o}e||(e=l.Object()),t||(t=l.Object());var r=e.Number||l.Number,i=e.String||l.String,a=e.Object||l.Object,c=e.Date||l.Date,u=e.SyntaxError||l.SyntaxError,d=e.TypeError||l.TypeError,p=e.Math||l.Math,f=e.JSON||l.JSON;"object"==typeof f&&f&&(t.stringify=f.stringify,t.parse=f.parse);var h,m,g,v=a.prototype,y=v.toString,b=new c(-0xc782b5b800cec);try{b=-109252==b.getUTCFullYear()&&0===b.getUTCMonth()&&1===b.getUTCDate()&&10==b.getUTCHours()&&37==b.getUTCMinutes()&&6==b.getUTCSeconds()&&708==b.getUTCMilliseconds()}catch(e){}if(!n("json")){var _="[object Function]",E="[object Number]",w="[object String]",S="[object Array]",T=n("bug-string-char-index");if(!b)var C=p.floor,A=[0,31,59,90,120,151,181,212,243,273,304,334],R=function(e,t){return A[t]+365*(e-1970)+C((e-1969+(t=+(t>1)))/4)-C((e-1901+t)/100)+C((e-1601+t)/400)};if((h=v.hasOwnProperty)||(h=function(e){var t,n={};return(n.__proto__=null,n.__proto__={toString:1},n).toString!=y?h=function(e){var t=this.__proto__,n=e in(this.__proto__=null,this);return this.__proto__=t,n}:(t=n.constructor,h=function(e){var n=(this.constructor||t).prototype;return e in this&&!(e in n&&this[e]===n[e])}),n=null,h.call(this,e)}),m=function(e,t){var n,r,i,o=0;for(i in(n=function(){this.valueOf=0}).prototype.valueOf=0,r=new n)h.call(r,i)&&o++;return n=r=null,o?m=2==o?function(e,t){var n,r={},i=y.call(e)==_;for(n in e)i&&"prototype"==n||h.call(r,n)||!(r[n]=1)||!h.call(e,n)||t(n)}:function(e,t){var n,r,i=y.call(e)==_;for(n in e)i&&"prototype"==n||!h.call(e,n)||(r="constructor"===n)||t(n);(r||h.call(e,n="constructor"))&&t(n)}:(r=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],m=function(e,t){var n,i,o=y.call(e)==_,a=!o&&"function"!=typeof e.constructor&&s[typeof e.hasOwnProperty]&&e.hasOwnProperty||h;for(n in e)o&&"prototype"==n||!a.call(e,n)||t(n);for(i=r.length;n=r[--i];a.call(e,n)&&t(n));}),m(e,t)},!n("json-stringify")){var D={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},x=function(e,t){return("000000"+(t||0)).slice(-e)},k=function(e){for(var t='"',n=0,r=e.length,i=!T||r>10,o=i&&(T?e.split(""):e);n<r;n++){var a=e.charCodeAt(n);switch(a){case 8:case 9:case 10:case 12:case 13:case 34:case 92:t+=D[a];break;default:if(a<32){t+="\\u00"+x(2,a.toString(16));break}t+=i?o[n]:e.charAt(n)}}return t+'"'},I=function(e,t,n,r,i,o,a){var s,c,l,u,p,f,v,b,_,T,A,D,O,N,L,P;try{s=t[e]}catch(e){}if("object"==typeof s&&s)if("[object Date]"!=(c=y.call(s))||h.call(s,"toJSON"))"function"==typeof s.toJSON&&(c!=E&&c!=w&&c!=S||h.call(s,"toJSON"))&&(s=s.toJSON(e));else if(s>-1/0&&s<1/0){if(R){for(p=C(s/864e5),l=C(p/365.2425)+1970-1;R(l+1,0)<=p;l++);for(u=C((p-R(l,0))/30.42);R(l,u+1)<=p;u++);p=1+p-R(l,u),v=C((f=(s%864e5+864e5)%864e5)/36e5)%24,b=C(f/6e4)%60,_=C(f/1e3)%60,T=f%1e3}else l=s.getUTCFullYear(),u=s.getUTCMonth(),p=s.getUTCDate(),v=s.getUTCHours(),b=s.getUTCMinutes(),_=s.getUTCSeconds(),T=s.getUTCMilliseconds();s=(l<=0||l>=1e4?(l<0?"-":"+")+x(6,l<0?-l:l):x(4,l))+"-"+x(2,u+1)+"-"+x(2,p)+"T"+x(2,v)+":"+x(2,b)+":"+x(2,_)+"."+x(3,T)+"Z"}else s=null;if(n&&(s=n.call(t,e,s)),null===s)return"null";if("[object Boolean]"==(c=y.call(s)))return""+s;if(c==E)return s>-1/0&&s<1/0?""+s:"null";if(c==w)return k(""+s);if("object"==typeof s){for(N=a.length;N--;)if(a[N]===s)throw d();if(a.push(s),A=[],L=o,o+=i,c==S){for(O=0,N=s.length;O<N;O++)D=I(O,s,n,r,i,o,a),A.push(D===g?"null":D);P=A.length?i?"[\n"+o+A.join(",\n"+o)+"\n"+L+"]":"["+A.join(",")+"]":"[]"}else m(r||s,function(e){var t=I(e,s,n,r,i,o,a);t!==g&&A.push(k(e)+":"+(i?" ":"")+t)}),P=A.length?i?"{\n"+o+A.join(",\n"+o)+"\n"+L+"}":"{"+A.join(",")+"}":"{}";return a.pop(),P}};t.stringify=function(e,t,n){var r,i,o,a;if(s[typeof t]&&t)if((a=y.call(t))==_)i=t;else if(a==S){o={};for(var c,l=0,u=t.length;l<u;c=t[l++],((a=y.call(c))==w||a==E)&&(o[c]=1));}if(n)if((a=y.call(n))==E){if((n-=n%1)>0)for(r="",n>10&&(n=10);r.length<n;r+=" ");}else a==w&&(r=n.length<=10?n:n.slice(0,10));return I("",((c={})[""]=e,c),i,o,r,"",[])}}if(!n("json-parse")){var O,N,L=i.fromCharCode,P={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},M=function(){throw O=N=null,u()},j=function(){for(var e,t,n,r,i,o=N,a=o.length;O<a;)switch(i=o.charCodeAt(O)){case 9:case 10:case 13:case 32:O++;break;case 123:case 125:case 91:case 93:case 58:case 44:return e=T?o.charAt(O):o[O],O++,e;case 34:for(e="@",O++;O<a;)if((i=o.charCodeAt(O))<32)M();else if(92==i)switch(i=o.charCodeAt(++O)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:e+=P[i],O++;break;case 117:for(t=++O,n=O+4;O<n;O++)(i=o.charCodeAt(O))>=48&&i<=57||i>=97&&i<=102||i>=65&&i<=70||M();e+=L("0x"+o.slice(t,O));break;default:M()}else{if(34==i)break;for(i=o.charCodeAt(O),t=O;i>=32&&92!=i&&34!=i;)i=o.charCodeAt(++O);e+=o.slice(t,O)}if(34==o.charCodeAt(O))return O++,e;M();default:if(t=O,45==i&&(r=!0,i=o.charCodeAt(++O)),i>=48&&i<=57){for(48==i&&(i=o.charCodeAt(O+1))>=48&&i<=57&&M(),r=!1;O<a&&(i=o.charCodeAt(O))>=48&&i<=57;O++);if(46==o.charCodeAt(O)){for(n=++O;n<a&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==O&&M(),O=n}if(101==(i=o.charCodeAt(O))||69==i){for(43!=(i=o.charCodeAt(++O))&&45!=i||O++,n=O;n<a&&(i=o.charCodeAt(n))>=48&&i<=57;n++);n==O&&M(),O=n}return+o.slice(t,O)}if(r&&M(),"true"==o.slice(O,O+4))return O+=4,!0;if("false"==o.slice(O,O+5))return O+=5,!1;if("null"==o.slice(O,O+4))return O+=4,null;M()}return"$"},F=function(e){var t,n;if("$"==e&&M(),"string"==typeof e){if("@"==(T?e.charAt(0):e[0]))return e.slice(1);if("["==e){for(t=[];"]"!=(e=j());n||(n=!0))n&&(","==e?"]"==(e=j())&&M():M()),","==e&&M(),t.push(F(e));return t}if("{"==e){for(t={};"}"!=(e=j());n||(n=!0))n&&(","==e?"}"==(e=j())&&M():M()),","!=e&&"string"==typeof e&&"@"==(T?e.charAt(0):e[0])&&":"==j()||M(),t[e.slice(1)]=F(j());return t}M()}return e},U=function(e,t,n){var r=B(e,t,n);r===g?delete e[t]:e[t]=r},B=function(e,t,n){var r,i=e[t];if("object"==typeof i&&i)if(y.call(i)==S)for(r=i.length;r--;)U(i,r,n);else m(i,function(e){U(i,e,n)});return n.call(e,t,i)};t.parse=function(e,t){var n,r;return O=0,N=""+e,n=F(j()),"$"!=j()&&M(),O=N=null,t&&y.call(t)==_?B(((r={})[""]=n,r),"",t):n}}}return t.runInContext=o,t}var a=n(73),s={function:!0,object:!0},c=s[typeof t]&&t&&!t.nodeType&&t,l=s[typeof window]&&window||this,u=c&&s[typeof e]&&e&&!e.nodeType&&"object"==typeof i&&i;if(!u||u.global!==u&&u.window!==u&&u.self!==u||(l=u),c&&!a)o(l,c);else{var d=l.JSON,p=l.JSON3,f=!1,h=o(l,l.JSON3={noConflict:function(){return f||(f=!0,l.JSON=d,l.JSON3=p,d=p=null),h}});l.JSON={parse:h.parse,stringify:h.stringify}}a&&(void 0===(r=(function(){return h}).call(t,n,t,e))||(e.exports=r))}).call(this)}).call(t,n(72)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(74),i=n(77);t.deconstructPacket=function(e){var t=[],n=e;return n.data=function e(n){if(!n)return n;if(i(n)){var o={_placeholder:!0,num:t.length};return t.push(n),o}if(r(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=e(n[s]);return a}if("object"==typeof n&&!(n instanceof Date)){for(var c in a={},n)a[c]=e(n[c]);return a}return n}(e.data),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(r(n)){for(var i=0;i<n.length;i++)n[i]=e(n[i]);return n}if(n&&"object"==typeof n){for(var o in n)n[o]=e(n[o]);return n}return n}(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){var o=0,a=t;(function t(s,c,l){if(!s)return s;if(e.Blob&&s instanceof Blob||e.File&&s instanceof File){o++;var u=new FileReader;u.onload=function(){l?l[c]=this.result:a=this.result,--o||n(a)},u.readAsArrayBuffer(s)}else if(r(s))for(var d=0;d<s.length;d++)t(s[d],d,s);else if(s&&"object"==typeof s&&!i(s))for(var p in s)t(s[p],p,s)})(a),o||n(a)}}).call(t,function(){return this}())},function(e,t){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,function(){return this}())},function(e,t,n){function r(e,t){return this instanceof r?(e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=!1!==t.autoConnect,void(this.autoConnect&&this.open())):new r(e,t)}var i=n(79),o=n(105),a=n(106),s=n(70),c=n(108),l=n(109),u=n(67)("socket.io-client:manager"),d=n(103),p=n(111),f=Object.prototype.hasOwnProperty;e.exports=r,r.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},r.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(r.prototype),r.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},r.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},r.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},r.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},r.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},r.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},r.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},r.prototype.open=r.prototype.connect=function(e){if(u("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;u("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=c(t,"open",function(){n.onopen(),e&&e()}),o=c(t,"error",function(t){if(u("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;u("connect attempt will timeout after %d",a);var s=setTimeout(function(){u("connect attempt timed out after %d",a),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},r.prototype.onopen=function(){u("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(c(e,"data",l(this,"ondata"))),this.subs.push(c(e,"ping",l(this,"onping"))),this.subs.push(c(e,"pong",l(this,"onpong"))),this.subs.push(c(e,"error",l(this,"onerror"))),this.subs.push(c(e,"close",l(this,"onclose"))),this.subs.push(c(this.decoder,"decoded",l(this,"ondecoded")))},r.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},r.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},r.prototype.ondata=function(e){this.decoder.add(e)},r.prototype.ondecoded=function(e){this.emit("packet",e)},r.prototype.onerror=function(e){u("error",e),this.emitAll("error",e)},r.prototype.socket=function(e){function t(){~d(r.connecting,n)||r.connecting.push(n)}var n=this.nsps[e];if(!n){n=new o(this,e),this.nsps[e]=n;var r=this;n.on("connecting",t),n.on("connect",function(){n.id=r.engine.id}),this.autoConnect&&t()}return n},r.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},r.prototype.packet=function(e){u("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},r.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},r.prototype.cleanup=function(){u("cleanup");for(var e;e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},r.prototype.close=r.prototype.disconnect=function(){u("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},r.prototype.onclose=function(e){u("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},r.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)u("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();u("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(u("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(u("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(u("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},r.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(80)},function(e,t,n){e.exports=n(81),e.exports.parser=n(88)},function(e,t,n){(function(t){function r(e,n){if(!(this instanceof r))return new r(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=l(e),n.hostname=e.host,n.secure="https"==e.protocol||"wss"==e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=l(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"==location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=d.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized;var i="object"==typeof t&&t;i.global===i&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.open()}var i=n(82),o=n(96),a=n(67)("engine.io-client:socket"),s=n(103),c=n(88),l=n(66),u=n(104),d=n(97);e.exports=r,r.priorWebsocketSuccess=!1,o(r.prototype),r.protocol=c.protocol,r.Socket=r,r.Transport=n(87),r.transports=n(82),r.parser=n(88),r.prototype.createTransport=function(e){a('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=c.protocol,t.transport=e,this.id&&(t.sid=this.id),new i[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},r.prototype.open=function(){var e;if(this.rememberUpgrade&&r.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},r.prototype.setTransport=function(e){a("setting transport %s",e.name);var t=this;this.transport&&(a("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},r.prototype.probe=function(e){function t(){p.onlyBinaryUpgrades&&(d=d||!this.supportsBinary&&p.transport.supportsBinary),d||(a('probe transport "%s" opened',e),u.send([{type:"ping",data:"probe"}]),u.once("packet",function(t){if(!d)if("pong"==t.type&&"probe"==t.data){if(a('probe transport "%s" pong',e),p.upgrading=!0,p.emit("upgrading",u),!u)return;r.priorWebsocketSuccess="websocket"==u.name,a('pausing current transport "%s"',p.transport.name),p.transport.pause(function(){d||"closed"!=p.readyState&&(a("changing transport and sending upgrade packet"),l(),p.setTransport(u),u.send([{type:"upgrade"}]),p.emit("upgrade",u),u=null,p.upgrading=!1,p.flush())})}else{a('probe transport "%s" failed',e);var n=new Error("probe error");n.transport=u.name,p.emit("upgradeError",n)}}))}function n(){d||(d=!0,l(),u.close(),u=null)}function i(t){var r=new Error("probe error: "+t);r.transport=u.name,n(),a('probe transport "%s" failed because of error: %s',e,t),p.emit("upgradeError",r)}function o(){i("transport closed")}function s(){i("socket closed")}function c(e){u&&e.name!=u.name&&(a('"%s" works - aborting "%s"',e.name,u.name),n())}function l(){u.removeListener("open",t),u.removeListener("error",i),u.removeListener("close",o),p.removeListener("close",s),p.removeListener("upgrading",c)}a('probing transport "%s"',e);var u=this.createTransport(e,{probe:1}),d=!1,p=this;r.priorWebsocketSuccess=!1,u.once("open",t),u.once("error",i),u.once("close",o),this.once("close",s),this.once("upgrading",c),u.open()},r.prototype.onOpen=function(){if(a("socket open"),this.readyState="open",r.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){a("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},r.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(a('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(u(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else a('packet received with socket readyState "%s"',this.readyState)},r.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},r.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},r.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){a("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},r.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},r.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},r.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(a("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},r.prototype.write=r.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},r.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},r.prototype.close=function(){function e(){r.onClose("forced close"),a("socket closing - telling transport to close"),r.transport.close()}function t(){r.removeListener("upgrade",t),r.removeListener("upgradeError",t),e()}function n(){r.once("upgrade",t),r.once("upgradeError",t)}if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var r=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?n():e()}):this.upgrading?n():e()}return this},r.prototype.onError=function(e){a("socket error %j",e),r.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},r.prototype.onClose=function(e,t){"opening"!=this.readyState&&"open"!=this.readyState&&"closing"!=this.readyState||(a('socket close with reason: "%s"',e),clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)},r.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~s(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){var r=n(83),i=n(85),o=n(100),a=n(101);t.polling=function(t){var n=!1,a=!1,s=!1!==t.jsonp;if(e.location){var c="https:"==location.protocol,l=location.port;l||(l=c?443:80),n=t.hostname!=location.hostname||l!=t.port,a=t.secure!=c}if(t.xdomain=n,t.xscheme=a,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new o(t)},t.websocket=a}).call(t,function(){return this}())},function(e,t,n){var r=n(84);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t,n){(function(t){function r(){}function i(e){if(c.call(this,e),t.location){var n="https:"==location.protocol,r=location.port;r||(r=n?443:80),this.xd=e.hostname!=t.location.hostname||r!=e.port,this.xs=e.secure!=n}else this.extraHeaders=e.extraHeaders}function o(e){this.method=e.method||"GET",this.uri=e.uri,this.xd=!!e.xd,this.xs=!!e.xs,this.async=!1!==e.async,this.data=null!=e.data?e.data:null,this.agent=e.agent,this.isBinary=e.isBinary,this.supportsBinary=e.supportsBinary,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders,this.create()}function a(){for(var e in o.requests)o.requests.hasOwnProperty(e)&&o.requests[e].abort()}var s=n(83),c=n(86),l=n(96),u=n(98),d=n(67)("engine.io-client:polling-xhr");e.exports=i,e.exports.Request=o,u(i,c),i.prototype.supportsBinary=!0,i.prototype.request=function(e){return(e=e||{}).uri=this.uri(),e.xd=this.xd,e.xs=this.xs,e.agent=this.agent||!1,e.supportsBinary=this.supportsBinary,e.enablesXDR=this.enablesXDR,e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized,e.extraHeaders=this.extraHeaders,new o(e)},i.prototype.doWrite=function(e,t){var n=this.request({method:"POST",data:e,isBinary:"string"!=typeof e&&void 0!==e}),r=this;n.on("success",t),n.on("error",function(e){r.onError("xhr post error",e)}),this.sendXhr=n},i.prototype.doPoll=function(){d("xhr poll");var e=this.request(),t=this;e.on("data",function(e){t.onData(e)}),e.on("error",function(e){t.onError("xhr poll error",e)}),this.pollXhr=e},l(o.prototype),o.prototype.create=function(){var e={agent:this.agent,xdomain:this.xd,xscheme:this.xs,enablesXDR:this.enablesXDR};e.pfx=this.pfx,e.key=this.key,e.passphrase=this.passphrase,e.cert=this.cert,e.ca=this.ca,e.ciphers=this.ciphers,e.rejectUnauthorized=this.rejectUnauthorized;var n=this.xhr=new s(e),r=this;try{d("xhr open %s: %s",this.method,this.uri),n.open(this.method,this.uri,this.async);try{if(this.extraHeaders)for(var i in n.setDisableHeaderCheck(!0),this.extraHeaders)this.extraHeaders.hasOwnProperty(i)&&n.setRequestHeader(i,this.extraHeaders[i])}catch(e){}if(this.supportsBinary&&(n.responseType="arraybuffer"),"POST"==this.method)try{n.setRequestHeader("Content-type",this.isBinary?"application/octet-stream":"text/plain;charset=UTF-8")}catch(e){}"withCredentials"in n&&(n.withCredentials=!0),this.hasXDR()?(n.onload=function(){r.onLoad()},n.onerror=function(){r.onError(n.responseText)}):n.onreadystatechange=function(){4==n.readyState&&(200==n.status||1223==n.status?r.onLoad():setTimeout(function(){r.onError(n.status)},0))},d("xhr data %s",this.data),n.send(this.data)}catch(e){return void setTimeout(function(){r.onError(e)},0)}t.document&&(this.index=o.requestsCount++,o.requests[this.index]=this)},o.prototype.onSuccess=function(){this.emit("success"),this.cleanup()},o.prototype.onData=function(e){this.emit("data",e),this.onSuccess()},o.prototype.onError=function(e){this.emit("error",e),this.cleanup(!0)},o.prototype.cleanup=function(e){if(null!=this.xhr){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=r:this.xhr.onreadystatechange=r,e)try{this.xhr.abort()}catch(e){}t.document&&delete o.requests[this.index],this.xhr=null}},o.prototype.onLoad=function(){var e;try{var t;try{t=this.xhr.getResponseHeader("Content-Type").split(";")[0]}catch(e){}if("application/octet-stream"===t)e=this.xhr.response;else if(this.supportsBinary)try{e=String.fromCharCode.apply(null,new Uint8Array(this.xhr.response))}catch(t){for(var n=new Uint8Array(this.xhr.response),r=[],i=0,o=n.length;i<o;i++)r.push(n[i]);e=String.fromCharCode.apply(null,r)}else e=this.xhr.responseText}catch(e){this.onError(e)}null!=e&&this.onData(e)},o.prototype.hasXDR=function(){return void 0!==t.XDomainRequest&&!this.xs&&this.enablesXDR},o.prototype.abort=function(){this.cleanup()},t.document&&(o.requestsCount=0,o.requests={},t.attachEvent?t.attachEvent("onunload",a):t.addEventListener&&t.addEventListener("beforeunload",a,!1))}).call(t,function(){return this}())},function(e,t,n){function r(e){u&&!(e&&e.forceBase64)||(this.supportsBinary=!1),i.call(this,e)}var i=n(87),o=n(97),a=n(88),s=n(98),c=n(99),l=n(67)("engine.io-client:polling");e.exports=r;var u=null!=new(n(83))({xdomain:!1}).responseType;s(r,i),r.prototype.name="polling",r.prototype.doOpen=function(){this.poll()},r.prototype.pause=function(e){function t(){l("paused"),n.readyState="paused",e()}var n=this;if(this.readyState="pausing",this.polling||!this.writable){var r=0;this.polling&&(l("we are currently polling - waiting to pause"),r++,this.once("pollComplete",function(){l("pre-pause polling complete"),--r||t()})),this.writable||(l("we are currently writing - waiting to pause"),r++,this.once("drain",function(){l("pre-pause writing complete"),--r||t()}))}else t()},r.prototype.poll=function(){l("polling"),this.polling=!0,this.doPoll(),this.emit("poll")},r.prototype.onData=function(e){var t=this;l("polling got data %s",e),a.decodePayload(e,this.socket.binaryType,function(e,n,r){return"opening"==t.readyState&&t.onOpen(),"close"==e.type?(t.onClose(),!1):void t.onPacket(e)}),"closed"!=this.readyState&&(this.polling=!1,this.emit("pollComplete"),"open"==this.readyState?this.poll():l('ignoring poll - transport state "%s"',this.readyState))},r.prototype.doClose=function(){function e(){l("writing close packet"),t.write([{type:"close"}])}var t=this;"open"==this.readyState?(l("transport open - closing"),e()):(l("transport not open - deferring close"),this.once("open",e))},r.prototype.write=function(e){var t=this;this.writable=!1;var n=function(){t.writable=!0,t.emit("drain")};t=this,a.encodePayload(e,this.supportsBinary,function(e){t.doWrite(e,n)})},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"https":"http",n="";return!1!==this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||e.sid||(e.b64=1),e=o.encode(e),this.port&&("https"==t&&443!=this.port||"http"==t&&80!=this.port)&&(n=":"+this.port),e.length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e}},function(e,t,n){function r(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}var i=n(88),o=n(96);e.exports=r,o(r.prototype),r.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},r.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},r.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},r.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},r.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},r.prototype.onData=function(e){var t=i.decodePacket(e,this.socket.binaryType);this.onPacket(t)},r.prototype.onPacket=function(e){this.emit("packet",e)},r.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){function r(e,n){return n("b"+t.packets[e.type]+e.data.data)}function i(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=g[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}function o(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(m)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);return i[0]=g[e.type],r(new b([i.buffer,e.data]))}function a(e,t,n){for(var r=new Array(e.length),i=d(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}var s=n(89),c=n(90),l=n(91),u=n(92),d=n(93),p=n(94),f=navigator.userAgent.match(/Android/i),h=/PhantomJS/i.test(navigator.userAgent),m=f||h;t.protocol=3;var g=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},v=s(g),y={type:"error",data:"parser error"},b=n(95);t.encodePacket=function(t,n,a,s){"function"==typeof n&&(s=n,n=!1),"function"==typeof a&&(s=a,a=null);var c=void 0===t.data?void 0:t.data.buffer||t.data;if(e.ArrayBuffer&&c instanceof ArrayBuffer)return i(t,n,s);if(b&&c instanceof e.Blob)return o(t,n,s);if(c&&c.base64)return r(t,s);var l=g[t.type];return void 0!==t.data&&(l+=a?p.encode(String(t.data)):String(t.data)),s(""+l)},t.encodeBase64Packet=function(n,r){var i,o="b"+t.packets[n.type];if(b&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];r(o+e)},a.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),c=new Array(s.length),l=0;l<s.length;l++)c[l]=s[l];i=String.fromCharCode.apply(null,c)}return o+=e.btoa(i),r(o)},t.decodePacket=function(e,n,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r)try{e=p.decode(e)}catch(e){return y}var i=e.charAt(0);return Number(i)==i&&v[i]?e.length>1?{type:v[i],data:e.substring(1)}:{type:v[i]}:y}i=new Uint8Array(e)[0];var o=l(e,1);return b&&"blob"===n&&(o=new b([o])),{type:v[i],data:o}},t.decodeBase64Packet=function(t,n){var r=v[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=u.decode(t.substr(1));return"blob"===n&&b&&(i=new b([i])),{type:r,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var i=c(e);return n&&i?b&&!m?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r):e.length?void a(e,function(e,r){t.encodePacket(e,!!i&&n,!0,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))}):r("0:")},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""==e)return r(y,0,1);for(var o,a,s="",c=0,l=e.length;c<l;c++){var u=e.charAt(c);if(":"!=u)s+=u;else{if(""==s||s!=(o=Number(s)))return r(y,0,1);if(s!=(a=e.substr(c+1,o)).length)return r(y,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),y.type==i.type&&y.data==i.data)return r(y,0,1);if(!1===r(i,c+o,l))return}c+=o,s=""}}return""!=s?r(y,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){return e.length?void a(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);for(i[o++]=255,r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)}):n(new ArrayBuffer(0))},t.encodePayloadAsBlob=function(e,n){a(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,b){var s=new b([t.buffer,a.buffer,e]);n(null,s)}})},function(e,t){return n(new b(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,o=[],a=!1;i.byteLength>0;){for(var s=new Uint8Array(i),c=0===s[0],u="",d=1;255!=s[d];d++){if(u.length>310){a=!0;break}u+=s[d]}if(a)return r(y,0,1);i=l(i,2+u.length),u=parseInt(u);var p=l(i,0,u);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var f=new Uint8Array(p);for(p="",d=0;d<f.length;d++)p+=String.fromCharCode(f[d])}o.push(p),i=l(i,u)}var h=o.length;o.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,h)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){var r=n(74);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(r(n)){for(var i=0;i<n.length;i++)if(e(n[i]))return!0}else if(n&&"object"==typeof n)for(var o in n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){!function(e){"use strict";t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(t){var n,r,i,o,a,s=.75*t.length,c=t.length,l=0;"="===t[t.length-1]&&(s--,"="===t[t.length-2]&&s--);var u=new ArrayBuffer(s),d=new Uint8Array(u);for(n=0;n<c;n+=4)r=e.indexOf(t[n]),i=e.indexOf(t[n+1]),o=e.indexOf(t[n+2]),a=e.indexOf(t[n+3]),d[l++]=r<<2|i>>4,d[l++]=(15&i)<<4|o>>2,d[l++]=(3&o)<<6|63&a;return u}}("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(e,t){function n(){}e.exports=function(e,t,r){function i(e,n){if(i.count<=0)throw new Error("after called too many times");--i.count,e?(o=!0,t(e),t=r):0!==i.count||o||t(null,n)}var o=!1;return r=r||n,i.count=e,0===e?t():i}},function(e,t,n){var r;(function(e,i){!function(i){function o(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function a(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function s(e,t){return h(e>>t&63|128)}function c(e){if(0==(4294967168&e))return h(e);var t="";return 0==(4294965248&e)?t=h(e>>6&31|192):0==(4294901760&e)?(a(e),t=h(e>>12&15|224),t+=s(e,6)):0==(4292870144&e)&&(t=h(e>>18&7|240),t+=s(e,12),t+=s(e,6)),t+h(63&e|128)}function l(){if(f>=p)throw Error("Invalid byte index");var e=255&d[f];if(f++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function u(){var e,t;if(f>p)throw Error("Invalid byte index");if(f==p)return!1;if(e=255&d[f],f++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|l())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|l()<<6|l())>=2048)return a(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(15&e)<<18|l()<<12|l()<<6|l())>=65536&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}var d,p,f,h=String.fromCharCode,m={version:"2.0.0",encode:function(e){for(var t=o(e),n=t.length,r=-1,i="";++r<n;)i+=c(t[r]);return i},decode:function(e){d=o(e),p=d.length,f=0;for(var t,n=[];!1!==(t=u());)n.push(t);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=h((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=h(t);return i}(n)}};void 0===(r=(function(){return m}).call(t,n,t,e))||(e.exports=r)}()}).call(t,n(72)(e),function(){return this}())},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}var r=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,i=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),o=i&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}();e.exports=i?o?t.Blob:function(e,t){return n(e),new Blob(e,t||{})}:r&&r.prototype.append&&r.prototype.getBlob?function(e,t){t=t||{};var i=new r;n(e);for(var o=0;o<e.length;o++)i.append(e[o]);return t.type?i.getBlob(t.type):i.getBlob()}:void 0}).call(t,function(){return this}())},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){r.off(e,n),t.apply(this,arguments)}var r=this;return this._callbacks=this._callbacks||{},n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks[e];if(!n)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";function n(e){var t="";do{t=o[e%a]+t,e=Math.floor(e/a)}while(e>0);return t}function r(){var e=n(+new Date);return e!==i?(c=0,i=e):e+"."+n(c++)}for(var i,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),a=64,s={},c=0,l=0;l<a;l++)s[o[l]]=l;r.encode=n,r.decode=function(e){var t=0;for(l=0;l<e.length;l++)t=t*a+s[e.charAt(l)];return t},e.exports=r},function(e,t,n){(function(t){function r(){}function i(e){o.call(this,e),this.query=this.query||{},s||(t.___eio||(t.___eio=[]),s=t.___eio),this.index=s.length;var n=this;s.push(function(e){n.onData(e)}),this.query.j=this.index,t.document&&t.addEventListener&&t.addEventListener("beforeunload",function(){n.script&&(n.script.onerror=r)},!1)}var o=n(86),a=n(98);e.exports=i;var s,c=/\n/g,l=/\\n/g;a(i,o),i.prototype.supportsBinary=!1,i.prototype.doClose=function(){this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),o.prototype.doClose.call(this)},i.prototype.doPoll=function(){var e=this,t=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),t.async=!0,t.src=this.uri(),t.onerror=function(t){e.onError("jsonp poll error",t)};var n=document.getElementsByTagName("script")[0];n?n.parentNode.insertBefore(t,n):(document.head||document.body).appendChild(t),this.script=t,"undefined"!=typeof navigator&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype.doWrite=function(e,t){function n(){r(),t()}function r(){if(i.iframe)try{i.form.removeChild(i.iframe)}catch(e){i.onError("jsonp polling iframe removal error",e)}try{var e;o=document.createElement('<iframe src="javascript:0" name="'+i.iframeId+'">')}catch(e){(o=document.createElement("iframe")).name=i.iframeId,o.src="javascript:0"}o.id=i.iframeId,i.form.appendChild(o),i.iframe=o}var i=this;if(!this.form){var o,a=document.createElement("form"),s=document.createElement("textarea"),u=this.iframeId="eio_iframe_"+this.index;a.className="socketio",a.style.position="absolute",a.style.top="-1000px",a.style.left="-1000px",a.target=u,a.method="POST",a.setAttribute("accept-charset","utf-8"),s.name="d",a.appendChild(s),document.body.appendChild(a),this.form=a,this.area=s}this.form.action=this.uri(),r(),e=e.replace(l,"\\\n"),this.area.value=e.replace(c,"\\n");try{this.form.submit()}catch(e){}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){"complete"==i.iframe.readyState&&n()}:this.iframe.onload=n}}).call(t,function(){return this}())},function(e,t,n){(function(t){function r(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,i.call(this,e)}var i=n(87),o=n(88),a=n(97),s=n(98),c=n(99),l=n(67)("engine.io-client:websocket"),u=t.WebSocket||t.MozWebSocket,d=u;if(!d&&"undefined"==typeof window)try{d=n(102)}catch(e){}e.exports=r,s(r,i),r.prototype.name="websocket",r.prototype.supportsBinary=!0,r.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=u?new d(e):new d(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},r.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(r.prototype.onData=function(e){var t=this;setTimeout(function(){i.prototype.onData.call(t,e)},0)}),r.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,i=0,a=r;i<a;i++)!function(e){o.encodePacket(e,n.supportsBinary,function(i){if(!u){var o={};e.options&&(o.compress=e.options.compress),n.perMessageDeflate&&("string"==typeof i?t.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{u?n.ws.send(i):n.ws.send(i,o)}catch(e){l("websocket closed before onclose event")}--r||(n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0))})}(e[i])},r.prototype.onClose=function(){i.prototype.onClose.call(this)},r.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},r.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=c()),this.supportsBinary||(e.b64=1),(e=a.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},r.prototype.check=function(){return!(!d||"__initialize"in d&&this.name===r.prototype.name)}}).call(t,function(){return this}())},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){function r(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}var i=n(70),o=n(106),a=n(107),s=n(108),c=n(109),l=n(67)("socket.io-client:socket"),u=n(110);e.exports=r;var d={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},p=o.prototype.emit;o(r.prototype),r.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[s(e,"open",c(this,"onopen")),s(e,"packet",c(this,"onpacket")),s(e,"close",c(this,"onclose"))]}},r.prototype.open=r.prototype.connect=function(){return this.connected||(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting")),this},r.prototype.send=function(){var e=a(arguments);return e.unshift("message"),this.emit.apply(this,e),this},r.prototype.emit=function(e){if(d.hasOwnProperty(e))return p.apply(this,arguments),this;var t=a(arguments),n=i.EVENT;u(t)&&(n=i.BINARY_EVENT);var r={type:n,data:t,options:{}};return r.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),r.id=this.ids++),this.connected?this.packet(r):this.sendBuffer.push(r),delete this.flags,this},r.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},r.prototype.onopen=function(){l("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:i.CONNECT})},r.prototype.onclose=function(e){l("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},r.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case i.CONNECT:this.onconnect();break;case i.EVENT:case i.BINARY_EVENT:this.onevent(e);break;case i.ACK:case i.BINARY_ACK:this.onack(e);break;case i.DISCONNECT:this.ondisconnect();break;case i.ERROR:this.emit("error",e.data)}},r.prototype.onevent=function(e){var t=e.data||[];l("emitting event %j",t),null!=e.id&&(l("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?p.apply(this,t):this.receiveBuffer.push(t)},r.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var r=a(arguments);l("sending ack %j",r);var o=u(r)?i.BINARY_ACK:i.ACK;t.packet({type:o,id:e,data:r})}}},r.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(l("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):l("bad ack %s",e.id)},r.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},r.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)p.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},r.prototype.ondisconnect=function(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},r.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},r.prototype.close=r.prototype.disconnect=function(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:i.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},r.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r,i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(t){var r=n(74);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(r(n)){for(var i=0;i<n.length;i++)if(e(n[i]))return!0}else if(n&&"object"==typeof n)for(var o in n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){function n(e){this.ms=(e=e||{}).min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}},function(e,t,n){"use strict";function r(e,t,n){this.stream=e,this.intervalId=null,this.intervalMilis=t,this.audioLevel=0,this.callback=n}var i=n(32);window.AudioContext=window.AudioContext||window.webkitAudioContext;var o=null;window.AudioContext&&(o=new AudioContext),r.prototype.start=function(){if(o&&!i.isTemasysPluginUsed()){var e=o.createAnalyser();e.smoothingTimeConstant=.8,e.fftSize=2048,o.createMediaStreamSource(this.stream).connect(e);var t=this;this.intervalId=setInterval(function(){var n=new Uint8Array(e.frequencyBinCount);e.getByteTimeDomainData(n);var r=function(e){for(var t=0,n=e.length,r=0;r<n;r++)t<e[r]&&(t=e[r]);return parseFloat(((t-127)/128).toFixed(3))}(n);r!=t.audioLevel&&(t.audioLevel=function(e,t){var n=t-e;return parseFloat((n>.2?t-.2:n<-.4?t+.4:e).toFixed(3))}(r,t.audioLevel),t.callback(t.audioLevel))},this.intervalMilis)}},r.prototype.stop=function(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null)},e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t){return!t||t<=0||!e||e<=0?0:Math.round(e/t*100)}function i(){this.ssrc2Loss={},this.ssrc2AudioLevel={},this.ssrc2bitrate={download:0,upload:0},this.ssrc2resolution={}}function o(){this.bandwidth={},this.bitrate={},this.packetLoss=null,this.transport=[]}function a(e,t,n,r){this._browserType=u.getBrowserType();var i=p[this._browserType];if(!i)throw"The browser type '"+this._browserType+"' isn't supported!";this._getStatValue=this._defineGetStatValueMethod(i),this.peerconnection=e,this.baselineAudioLevelsReport=null,this.currentAudioLevelsReport=null,this.currentStatsReport=null,this.baselineStatsReport=null,this.audioLevelsIntervalId=null,this.eventEmitter=r,this.conferenceStats=new o,this.GATHER_INTERVAL=15e3,this.gatherStatsIntervalId=null,this.statsToBeLogged={timestamps:[],stats:{}},this.audioLevelsIntervalMilis=t,this.statsIntervalId=null,this.statsIntervalMilis=n,this.ssrc2stats={}}var s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(60)),c=n(39),l=n(9).getLogger(t),u=n(32),d=u.isChrome()||u.isOpera()||u.isFirefox()||u.isNWJS(),p={};p[u.RTC_BROWSER_FIREFOX]={ssrc:"ssrc",packetsReceived:"packetsReceived",packetsLost:"packetsLost",packetsSent:"packetsSent",bytesReceived:"bytesReceived",bytesSent:"bytesSent"},p[u.RTC_BROWSER_CHROME]={receiveBandwidth:"googAvailableReceiveBandwidth",sendBandwidth:"googAvailableSendBandwidth",remoteAddress:"googRemoteAddress",transportType:"googTransportType",localAddress:"googLocalAddress",activeConnection:"googActiveConnection",ssrc:"ssrc",packetsReceived:"packetsReceived",packetsSent:"packetsSent",packetsLost:"packetsLost",bytesReceived:"bytesReceived",bytesSent:"bytesSent",googFrameHeightReceived:"googFrameHeightReceived",googFrameWidthReceived:"googFrameWidthReceived",googFrameHeightSent:"googFrameHeightSent",googFrameWidthSent:"googFrameWidthSent",audioInputLevel:"audioInputLevel",audioOutputLevel:"audioOutputLevel"},p[u.RTC_BROWSER_OPERA]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_NWJS]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_IEXPLORER]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_SAFARI]=p[u.RTC_BROWSER_CHROME],p[u.RTC_BROWSER_REACT_NATIVE]=p[u.RTC_BROWSER_CHROME],i.prototype.setSsrcLoss=function(e){this.ssrc2Loss=e||{}},i.prototype.setSsrcResolution=function(e){this.ssrc2resolution=e||{}},i.prototype.setSsrcBitrate=function(e){this.ssrc2bitrate.download+=e.download,this.ssrc2bitrate.upload+=e.upload},i.prototype.resetSsrcBitrate=function(){this.ssrc2bitrate.download=0,this.ssrc2bitrate.upload=0},i.prototype.setSsrcAudioLevel=function(e){this.ssrc2AudioLevel=function(e){return Math.min(Math.max(e,0),1)}(e)},e.exports=a,a.prototype.stop=function(){this.audioLevelsIntervalId&&(clearInterval(this.audioLevelsIntervalId),this.audioLevelsIntervalId=null),this.statsIntervalId&&(clearInterval(this.statsIntervalId),this.statsIntervalId=null),this.gatherStatsIntervalId&&(clearInterval(this.gatherStatsIntervalId),this.gatherStatsIntervalId=null)},a.prototype.errorCallback=function(e){c.callErrorHandler(e),l.error("Get stats error",e),this.stop()},a.prototype.start=function(e){var t=this;e&&(this.audioLevelsIntervalId=setInterval(function(){t.peerconnection.getStats(function(e){var n;n=e&&e.result&&"function"==typeof e.result?e.result():e,t.currentAudioLevelsReport=n,t.processAudioLevelReport(),t.baselineAudioLevelsReport=t.currentAudioLevelsReport},t.errorCallback)},t.audioLevelsIntervalMilis)),d&&(this.statsIntervalId=setInterval(function(){t.peerconnection.getStats(function(e){var n;n=e&&e.result&&"function"==typeof e.result?e.result():e,t.currentStatsReport=n;try{t.processStatsReport()}catch(e){c.callErrorHandler(e),l.error("Unsupported key:"+e,e)}t.baselineStatsReport=t.currentStatsReport},t.errorCallback)},t.statsIntervalMilis)),d&&this._browserType!==u.RTC_BROWSER_FIREFOX&&(this.gatherStatsIntervalId=setInterval(function(){t.peerconnection.getStats(function(e){t.addStatsToBeLogged(e.result())},function(){})},this.GATHER_INTERVAL))},a.prototype.addStatsToBeLogged=function(e){var t=this,n=this.statsToBeLogged.timestamps.length;this.statsToBeLogged.timestamps.push((new Date).getTime()),e.forEach(function(e){if(function(e,t){return"googComponent"!=t&&"googCertificate"!=e.substring(0,15)&&"googTrack"!=e.substring(0,9)&&"googLibjingleSession"!=e.substring(0,20)}(e.id,e.type)){var r=t.statsToBeLogged.stats[e.id];r||(r=t.statsToBeLogged.stats[e.id]={}),r.type=e.type,e.names().forEach(function(t){if(function(e,t,n){if("googCandidatePair"==t){if("googChannelId"==n)return!1}else if("ssrc"==t&&("googTrackId"==n||"transportId"==n||"ssrc"==n))return!1;return!0}(0,e.type,t)){var i=r[t];for(i||(i=r[t]=[]);i.length<n;)i.push(null);i.push(e.stat(t))}})}})},a.prototype.getCollectedStats=function(){return this.statsToBeLogged},a.prototype.clearCollectedStats=function(){this.statsToBeLogged.stats={},this.statsToBeLogged.timestamps=[]},a.prototype._defineGetStatValueMethod=function(e){var t,n=function(t){var n=e[t];if(n)return n;throw"The property '"+t+"' isn't supported!"};switch(this._browserType){case u.RTC_BROWSER_CHROME:case u.RTC_BROWSER_OPERA:case u.RTC_BROWSER_NWJS:t=function(e,t){return e.stat(t)};break;case u.RTC_BROWSER_REACT_NATIVE:t=function(e,t){var n;return e.values.some(function(e){return!!e.hasOwnProperty(t)&&(n=e[t],!0)}),n};break;default:t=function(e,t){return e[t]}}return function(e,r){return t(e,n(r))}},a.prototype.processStatsReport=function(){if(this.baselineStatsReport){var e=this._getStatValue,t={};for(var n in this.currentStatsReport){var o=this.currentStatsReport[n];try{var a=e(o,"receiveBandwidth"),c=e(o,"sendBandwidth");(a||c)&&(this.conferenceStats.bandwidth={download:Math.round(a/1e3),upload:Math.round(c/1e3)})}catch(e){}if("googCandidatePair"!=o.type){if("candidatepair"==o.type){if("succeeded"==o.state)continue;var u=this.currentStatsReport[o.localCandidateId],d=this.currentStatsReport[o.remoteCandidateId];this.conferenceStats.transport.push({ip:d.ipAddress+":"+d.portNumber,type:u.transport,localip:u.ipAddress+":"+u.portNumber})}if("ssrc"==o.type||"outboundrtp"==o.type||"inboundrtp"==o.type){var p=this.baselineStatsReport[n],f=e(o,"ssrc");if(p){if(f){var h=this.ssrc2stats[f]||(this.ssrc2stats[f]=new i),m=!0,g="packetsReceived",v=e(o,g);if(null!=v&&""!==v||(m=!1,null!=(v=e(o,g="packetsSent")))){(!v||v<0)&&(v=0);var y=e(p,g);(!y||y<0)&&(y=0);var b=v-y;(!b||b<0)&&(b=0);var _=e(o,"packetsLost");(!_||_<0)&&(_=0);var E=e(p,"packetsLost");(!E||E<0)&&(E=0);var w=_-E;(!w||w<0)&&(w=0),h.setSsrcLoss({packetsTotal:b+w,packetsLost:w,isDownloadStream:m});var S=0,T=0,C=e(o,"bytesReceived");C&&(S=C-e(p,"bytesReceived")),"number"!=typeof(C=e(o,"bytesSent"))&&"string"!=typeof C||(C=Number(C),isNaN(C)||(t[f]=C,C>0&&(T=C-e(p,"bytesSent"))));var A=Math.round((o.timestamp-p.timestamp)/1e3);S=S<=0||A<=0?0:Math.round(8*S/A/1e3),T=T<=0||A<=0?0:Math.round(8*T/A/1e3),S>10&&0===h.ssrc2AudioLevel&&this.eventEmitter.emit(s.AUDIO_NOT_WORKING,f),h.setSsrcBitrate({download:S,upload:T});var R={height:null,width:null};try{var D,x;((D=e(o,"googFrameHeightReceived"))&&(x=e(o,"googFrameWidthReceived"))||(D=e(o,"googFrameHeightSent"))&&(x=e(o,"googFrameWidthSent")))&&(R.height=D,R.width=x)}catch(e){}h.setSsrcResolution(R.height&&R.width?R:null)}else l.warn("No packetsReceived nor packetsSent stat found")}}else l.warn(f+" not enough data")}}else{var k,I,O,N;try{k=e(o,"remoteAddress"),I=e(o,"transportType"),O=e(o,"localAddress"),N=e(o,"activeConnection")}catch(e){}if(!k||!I||!O||"true"!=N)continue;var L=this.conferenceStats.transport;L.some(function(e){return e.ip==k&&e.type==I&&e.localip==O})||L.push({ip:k,type:I,localip:O})}}var P={download:0,upload:0},M={download:0,upload:0},j=0,F=0,U={};Object.keys(this.ssrc2stats).forEach(function(e){var t=this.ssrc2stats[e],n=t.ssrc2Loss,r=n.isDownloadStream?"download":"upload";P[r]+=n.packetsTotal,M[r]+=n.packetsLost;var i=t.ssrc2bitrate;j+=i.download,F+=i.upload,t.resetSsrcBitrate(),U[e]=t.ssrc2resolution},this),this.eventEmitter.emit(s.BYTE_SENT_STATS,t),this.conferenceStats.bitrate={upload:F,download:j},this.conferenceStats.packetLoss={total:r(M.download+M.upload,P.download+P.upload),download:r(M.download,P.download),upload:r(M.upload,P.upload)},this.eventEmitter.emit(s.CONNECTION_STATS,{bandwidth:this.conferenceStats.bandwidth,bitrate:this.conferenceStats.bitrate,packetLoss:this.conferenceStats.packetLoss,resolution:U,transport:this.conferenceStats.transport}),this.conferenceStats.transport=[]}},a.prototype.processAudioLevelReport=function(){if(this.baselineAudioLevelsReport){var e=this._getStatValue;for(var t in this.currentAudioLevelsReport){var n=this.currentAudioLevelsReport[t];if("ssrc"==n.type){var r=this.baselineAudioLevelsReport[t],o=e(n,"ssrc");if(r)if(o){var a=this.ssrc2stats[o]||(this.ssrc2stats[o]=new i);try{var c=e(n,"audioInputLevel")||e(n,"audioOutputLevel")}catch(e){return l.warn("Audio Levels are not available in the statistics."),void clearInterval(this.audioLevelsIntervalId)}if(c){var u=!e(n,"packetsReceived");a.setSsrcAudioLevel(c/=32767),this.eventEmitter.emit(s.AUDIO_LEVEL,o,c,u)}}else Date.now()-n.timestamp<3e3&&l.warn("No ssrc: ");else l.warn(o+" not enough data")}}}}}).call(t,"modules/statistics/RTPStatsCollector.js")},function(e,t,n){"use strict";var r=n(115);e.exports={loadScript:function(e,t,n,i,o,a){var s=document,c="script",l=s.createElement(c),u=s.getElementsByTagName(c)[0];if(l.async=t,i){var d=r();if(d){var p=d.src,f=p.substring(0,p.lastIndexOf("/")+1);p&&f&&(e=f+e)}}o&&(l.onload=o),a&&(l.onerror=a),l.src=e,n?u.parentNode.insertBefore(l,u):u.parentNode.appendChild(l)}}},function(e,t,n){var r,i;this||window,void 0===(i="function"==typeof(r=function(){function e(t,n){var r,i=null,o="number"==typeof n;return n=o?Math.round(n):0,"string"==typeof t&&t&&(o?r=t.match(/(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/):(r=t.match(/^(?:|[^:@]*@|.+\)@(?=data:text\/javascript|blob|http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/))&&r[1]||(r=t.match(/\)@(data:text\/javascript(?:;[^,]+)?,.+?|(?:|blob:)(?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/)),r&&r[1]&&(i=n>0?e(t.slice(t.indexOf(r[0])+r[0].length),n-1):r[1])),i}function t(){if(0===o.length)return null;var r,d,p,f,h,m=[],g=t.skipStackDepth||1;for(r=0;r<o.length;r++)s&&a?n.test(o[r].readyState)&&m.push(o[r]):m.push(o[r]);if(d=new Error,l&&(p=d.stack),!p&&u)try{throw d}catch(n){p=n.stack}if(p&&!(h=function(e,t){var n,r=null;if(t=t||o,"string"==typeof e&&e)for(n=t.length;n--;)if(t[n].src===e){r=t[n];break}return r}(f=e(p,g),m))&&i&&f===i&&(h=function(e){var t,n,r=null;for(t=0,n=(e=e||o).length;t<n;t++)if(!e[t].hasAttribute("src")){if(r){r=null;break}r=e[t]}return r}(m)),h||1===m.length&&(h=m[0]),h||c&&(h=document.currentScript),!h&&s&&a)for(r=m.length;r--;)if("interactive"===m[r].readyState){h=m[r];break}return h||(h=m[m.length-1]||null),h}var n=/^(interactive|loaded|complete)$/,r=window.location?window.location.href:null,i=r&&r.replace(/#.*$/,"").replace(/\?.*$/,"")||null,o=document.getElementsByTagName("script"),a="readyState"in(o[0]||document.createElement("script")),s=!window.opera||"[object Opera]"!==window.opera.toString(),c="currentScript"in document;"stackTraceLimit"in Error&&Error.stackTraceLimit!==1/0&&(Error,Error.stackTraceLimit=1/0);var l=!1,u=!1;!function(){try{var e=new Error;throw l="string"==typeof e.stack&&!!e.stack,e}catch(e){u="string"==typeof e.stack&&!!e.stack}}(),t.skipStackDepth=1;var d=t;return d.near=t,d.far=function(){return null},d.origin=function(){return null},d})?r.apply(t,[]):r)||(e.exports=i)},function(e,t){"use strict";e.exports={LOCAL_JID:"local"}},function(e,t,n){(function(t){"use strict";function r(e,t){e.ondatachannel=this.onDataChannel.bind(this),this.eventEmitter=t,this._dataChannels=[]}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=n(9).getLogger(t),a=n(49),s=n(39);r.prototype.onDataChannel=function(e){var t=e.channel,n=this;t.onopen=function(){o.info("Data channel opened by the Videobridge!",t),n.eventEmitter.emit(a.DATA_CHANNEL_OPEN)},t.onerror=function(e){o.error("Data Channel Error:",e,t)},t.onmessage=function(e){var r,c=e.data;try{r=JSON.parse(c)}catch(e){s.callErrorHandler(e),o.error("Failed to parse data channel message as JSON: ",c,t,e)}if(null!=r){var l=r.colibriClass;if("DominantSpeakerEndpointChangeEvent"===l){var u=r.dominantSpeakerEndpoint;o.info("Data channel new dominant speaker event: ",u),n.eventEmitter.emit(a.DOMINANTSPEAKER_CHANGED,u)}else if("InLastNChangeEvent"===l){var d,p=r.oldValue,f=r.newValue;"boolean"!==(d=void 0===p?"undefined":i(p))&&(p="string"===d?"true"==p:new Boolean(p).valueOf()),"boolean"!==(d=void 0===f?"undefined":i(f))&&(f="string"===d?"true"==f:new Boolean(f).valueOf()),n.eventEmitter.emit(a.LASTN_CHANGED,p,f)}else if("LastNEndpointsChangeEvent"===l){var h=r.lastNEndpoints,m=r.endpointsEnteringLastN;o.info("Data channel new last-n event: ",h,m,r),n.eventEmitter.emit(a.LASTN_ENDPOINT_CHANGED,h,m,r)}else if("EndpointMessage"===l)n.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,r.from,r.msgPayload);else if("EndpointConnectivityStatusChangeEvent"===l){var g=r.endpoint,v="true"===r.active;o.info("Endpoint connection status changed: "+g+" active ? "+v),n.eventEmitter.emit(a.ENDPOINT_CONN_STATUS_CHANGED,g,v)}else o.debug("Data channel JSON-formatted message: ",r),n.eventEmitter.emit("rtc.datachannel."+l,r)}},t.onclose=function(){o.info("The Data Channel closed",t);var e=n._dataChannels.indexOf(t);e>-1&&(n._dataChannels=n._dataChannels.splice(e,1))},this._dataChannels.push(t)},r.prototype.closeAllChannels=function(){this._dataChannels.forEach(function(e){e.close()})},r.prototype.sendSelectedEndpointMessage=function(e){this._onXXXEndpointChanged("selected",e)},r.prototype.sendPinnedEndpointMessage=function(e){this._onXXXEndpointChanged("pinned",e)},r.prototype._onXXXEndpointChanged=function(e,t){var n=e.charAt(0),r=e.substring(1),i=n.toLowerCase()+r,a=n.toUpperCase()+r;o.log("sending "+i+" endpoint changed notification to the bridge: ",t);var s={};s.colibriClass=a+"EndpointChangedEvent",s[i+"Endpoint"]=t||null,this.send(s),o.log(i+" endpoint changed: ",t)},r.prototype._some=function(e,t){var n=this._dataChannels;return!(!n||0===n.length)&&(t?n.some(e,t):n.some(e))},r.prototype.send=function(e){if(!this._some(function(t){if("open"==t.readyState)return t.send(JSON.stringify(e)),!0}))throw new Error("No opened data channels found!")},r.prototype.sendDataChannelMessage=function(e,t){this.send({colibriClass:"EndpointMessage",to:e,msgPayload:t})},e.exports=r}).call(t,"modules/RTC/DataChannels.js")},function(e,t,n){(function(t){"use strict";function r(e,t,n,r,i,a,s,c,l){o.call(this,t,r,i,function(){},a,s,c),this.rtc=e,this.peerjid=n,this.muted=l,this.hasBeenMuted=l,this.rtc&&this.track&&this._bindMuteHandlers()}var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(8)),o=n(58),a=n(9).getLogger(t),s=n(32),c=n(49),l=n(59),u=!1,d=!1;(r.prototype=Object.create(o.prototype)).constructor=r,r.prototype._bindMuteHandlers=function(){this.track.addEventListener("mute",(function(){a.debug('"onmute" event('+Date.now()+"): ",this.getParticipantId(),this.getType(),this.getSSRC()),this.rtc.eventEmitter.emit(c.REMOTE_TRACK_MUTE,this)}).bind(this)),this.track.addEventListener("unmute",(function(){a.debug('"onunmute" event('+Date.now()+"): ",this.getParticipantId(),this.getType(),this.getSSRC()),this.rtc.eventEmitter.emit(c.REMOTE_TRACK_UNMUTE,this)}).bind(this))},r.prototype.setMute=function(e){this.muted!==e&&(e&&(this.hasBeenMuted=!0),this.stream&&(this.stream.muted=e),this.muted=e,this.eventEmitter.emit(i.TRACK_MUTE_CHANGED,this))},r.prototype.isMuted=function(){return this.muted},r.prototype.getParticipantId=function(){return Strophe.getResourceFromJid(this.peerjid)},r.prototype.isLocal=function(){return!1},r.prototype.getSSRC=function(){return this.ssrc},r.prototype._setVideoType=function(e){this.videoType!==e&&(this.videoType=e,this.eventEmitter.emit(i.TRACK_VIDEOTYPE_CHANGED,e))},r.prototype._playCallback=function(){var e=this.isVideoTrack()?"video":"audio",t=window.performance.now();console.log("(TIME) Render "+e+":\t",t),this.conference.getConnectionTimes()[e+".render"]=t;var n=t-(this.conference.getConnectionTimes()["session.initiate"]-this.conference.getConnectionTimes()["muc.joined"])-(window.connectionTimes["obtainPermissions.end"]-window.connectionTimes["obtainPermissions.start"]);this.conference.getConnectionTimes()[e+".ttfm"]=n,console.log("(TIME) TTFM "+e+":\t",n);var r=e+".ttfm";this.hasBeenMuted&&(r+=".muted"),l.analytics.sendEvent(r,{value:n})},r.prototype._attachTTFMTracker=function(e){u&&this.isAudioTrack()||d&&this.isVideoTrack()||(this.isAudioTrack()&&(u=!0),this.isVideoTrack()&&(d=!0),s.isTemasysPluginUsed()?n(54).addEvent(e,"play",this._playCallback.bind(this)):e.addEventListener("canplay",this._playCallback.bind(this)))},e.exports=r}).call(t,"modules/RTC/JitsiRemoteTrack.js")},function(e,t,n){var r=n(120),i=n(122);t.write=i,t.parse=r.parse,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates},function(e,t,n){var r=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,n,i){if(i&&!n)t[i]=r(e[1]);else for(var o=0;o<n.length;o+=1)null!=e[o+1]&&(t[n[o]]=r(e[o+1]))},o=function(e,t,n){var r=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:r&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:r?t[e.name]:t;i(n.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},a=n(121),s=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],r=t;return e.split(/(\r\n|\r|\n)/).filter(s).forEach(function(e){var t=e[0],i=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),r=n[n.length-1]);for(var s=0;s<(a[t]||[]).length;s+=1){var c=a[t][s];if(c.reg.test(i))return o(c,r,i)}}),t.media=n,t};var c=function(e,t){var n=t.split("=");return 2===n.length&&(e[n[0]]=r(n[1])),e};t.parseFmtpConfig=function(e){return e.split(/\;\s?/).reduce(c,{})},t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),i=0;i<n.length;i+=3)t.push({component:n[i],ip:n[i+1],port:n[i+2]});return t}},function(e,t){var n=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["value","uri","config"],format:function(e){return null!=e.config?"extmap:%s %s %s":"extmap:%s %s"}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*):(.*)/,names:["id","attribute","value"],format:"ssrc:%d %s:%s"},{push:"ssrcGroups",reg:/^ssrc-group:(\w*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{push:"invalid",names:["value"]}]};Object.keys(n).forEach(function(e){n[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},function(e,t,n){var r=n(121),i=/%[sdv%]/g,o=function(e){var t=1,n=arguments,r=n.length;return e.replace(i,function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})},a=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var i=0;i<t.names.length;i+=1)r.push(t.name?n[t.name][t.names[i]]:n[t.names[i]]);else r.push(n[t.name]);return o.apply(null,r)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var n=t.innerOrder||c,i=[];return(t.outerOrder||s).forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?i.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){i.push(a(t,n,e))})})}),e.media.forEach(function(e){i.push(a("m",r.m[0],e)),n.forEach(function(t){r[t].forEach(function(n){n.name in e&&null!=e[n.name]?i.push(a(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach(function(e){i.push(a(t,n,e))})})})}),i.join("\r\n")+"\r\n"}},function(e,t,n){t.Interop=n(124)},function(e,t,n){"use strict";function r(){this.cache={}}var i=n(125),o=n(126);e.exports=r,r.prototype.getFirstSendingIndexFromAnswer=function(e){if(!this.cache.answer)return null;var t=i.parse(this.cache.answer);if(t&&t.media&&Array.isArray(t.media))for(var n=0;n<t.media.length;n++)if(t.media[n].type==e&&(!t.media[n].direction||"sendrecv"===t.media[n].direction||"sendonly"===t.media[n].direction))return n;return null},r.prototype.toPlanB=function(e){var t=this;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=i.parse(e.sdp);if(void 0===n.media||!Array.isArray(n.media)||0===n.media.length)return console.warn("The description has no media."),e;if(n.media.length<=3&&n.media.every(function(e){return-1!==["video","audio","data"].indexOf(e.mid)}))return console.warn("This description does not look like Unified Plan."),e;for(var r=e.sdp,o=!1,a=0;a<n.media.length;a++)n.media[a].rtp.forEach(function(e){if("NULL"===e.codec){o=!0;var n=i.parse(t.cache.offer);e.codec=n.media[a].rtp[0].codec}});o&&(r=i.write(n)),this.cache[e.type]=r;var s=n.media;n.media=[];var c={},l=[];s.forEach(function(e){if(("string"!=typeof e.rtcpMux||"rtcp-mux"!==e.rtcpMux)&&"inactive"!==e.direction)throw new Error("Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.");return"application"===e.type?(n.media.push(e),void l.push(e.mid)):(void 0===c[e.type]&&(c[e.type]=e),"object"==typeof e.sources&&Object.keys(e.sources).forEach(function(t){"object"!=typeof c[e.type].sources&&(c[e.type].sources={}),c[e.type].sources[t]=e.sources[t],void 0!==e.msid&&(c[e.type].sources[t].msid=e.msid)}),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&(void 0!==c[e.type].ssrcGroups&&Array.isArray(c[e.type].ssrcGroups)||(c[e.type].ssrcGroups=[]),c[e.type].ssrcGroups=c[e.type].ssrcGroups.concat(e.ssrcGroups)),void(c[e.type]===e&&(e.candidates=s[0].candidates,e.iceUfrag=s[0].iceUfrag,e.icePwd=s[0].icePwd,e.fingerprint=s[0].fingerprint,e.mid=e.type,delete e.bundleOnly,delete e.msid,l.push(e.type),n.media.push(e))))}),n.groups.some(function(e){if("BUNDLE"===e.type)return e.mids=l.join(" "),!0}),n.msidSemantic={semantic:"WMS",token:"*"};var u=i.write(n);return new RTCSessionDescription({type:e.type,sdp:u})},r.prototype.toUnifiedPlan=function(e){var t=this;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var n=i.parse(e.sdp);if(void 0===n.media||!Array.isArray(n.media)||0===n.media.length)return console.warn("The description has no media."),e;if(n.media.length>3||!n.media.every(function(e){return-1!==["video","audio","data"].indexOf(e.mid)}))return console.warn("This description does not look like Plan B."),e;var r=[];n.media.forEach(function(e){r.push(e.mid)});var a,s=!1;if(void 0!==n.groups&&Array.isArray(n.groups)&&(s=n.groups.every(function(e){return"BUNDLE"!==e.type||o.apply(e.mids.sort(),[r.sort()])})),!s)throw new Error("Cannot convert to Unified Plan because m-lines that are not bundled were found.");void 0!==this.cache[e.type]&&(a=i.parse(this.cache[e.type]));var c={audio:{},video:{}},l={};if(n.media.forEach(function(t){if(("string"!=typeof t.rtcpMux||"rtcp-mux"!==t.rtcpMux)&&"inactive"!==t.direction)throw new Error("Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.");if("application"!==t.type){var n=t.sources,r=t.ssrcGroups,i=t.candidates,o=t.iceUfrag,s=t.icePwd,u=t.fingerprint,d=t.port;delete t.sources,delete t.ssrcGroups,delete t.candidates,delete t.iceUfrag,delete t.icePwd,delete t.fingerprint,delete t.port,delete t.mid;var p={};void 0!==r&&Array.isArray(r)&&r.forEach(function(e){"SIM"!==e.semantics&&void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(t){void 0===p[t]&&(p[t]=[]),p[t].push(e)})});var f={};"object"==typeof n&&Object.keys(n).forEach(function(r){var h;if("offer"!==e.type||n[r].msid)if(void 0!==p[r]&&Array.isArray(p[r])&&p[r].some(function(e){return e.ssrcs.some(function(e){if("object"==typeof f[e])return h=f[e],!0})}),"object"==typeof h)h.sources[r]=n[r],delete n[r].msid;else{if(h=Object.create(t),f[r]=h,void 0!==n[r].msid&&(h.msid=n[r].msid,h.direction="sendrecv",delete n[r].msid),h.sources={},h.sources[r]=n[r],h.ssrcGroups=p[r],void 0!==a&&void 0!==a.media&&Array.isArray(a.media)&&a.media.forEach(function(e){"object"==typeof e.sources&&Object.keys(e.sources).forEach(function(t){t===r&&(h.mid=e.mid)})}),void 0===h.mid){if("answer"===e.type)throw new Error("An unmapped SSRC was found.");h.mid=[t.type,"-",r].join("")}h.candidates=i,h.iceUfrag=o,h.icePwd=s,h.fingerprint=u,h.port=d,l[h.mid]=h}else c[t.type][r]=n[r]})}else l[t.mid]=t}),n.media=[],r=[],"answer"===e.type)for(var u=0;u<a.media.length;u++){var d=a.media[u];void 0===l[d.mid]&&(delete d.msid,delete d.sources,delete d.ssrcGroups,d.direction&&"sendrecv"!==d.direction?"sendonly"===d.direction&&(d.direction="inactive"):d.direction="recvonly"),n.media.push(d),"string"==typeof d.mid&&r.push(d.mid)}else void 0!==a&&void 0!==a.media&&Array.isArray(a.media)&&a.media.forEach(function(e){r.push(e.mid),void 0!==l[e.mid]?n.media.push(l[e.mid]):(delete e.msid,delete e.sources,delete e.ssrcGroups,e.direction&&"sendrecv"!==e.direction||(e.direction="recvonly"),e.direction&&"sendonly"!==e.direction||(e.direction="inactive"),n.media.push(e))}),Object.keys(l).forEach(function(e){-1===r.indexOf(e)&&(r.push(e),"recvonly"===l[e].direction?n.media.some(function(t){if(("sendrecv"===t.direction||"sendonly"===t.direction)&&t.type===l[e].type)return Object.keys(l[e].sources).forEach(function(n){t.sources[n]=l[e].sources[n]}),!0}):n.media.push(l[e]))});["audio","video"].forEach(function(e){if(n&&n.media&&Array.isArray(n.media)){var r=null;if(Object.keys(c[e]).length>0&&null===(r=t.getFirstSendingIndexFromAnswer(e)))for(var i=0;i<n.media.length;i++)if(n.media[i].type===e){r=i;break}if(r&&n.media.length>r){var o=n.media[r];Object.keys(c[e]).forEach(function(t){o.sources&&o.sources[t]&&console.warn("Replacing an existing SSRC."),o.sources||(o.sources={}),o.sources[t]=c[e][t]})}}}),n.groups.some(function(e){if("BUNDLE"===e.type)return e.mids=r.join(" "),!0}),n.msidSemantic={semantic:"WMS",token:"*"};var p=i.write(n);return this.cache[e.type]=p,new RTCSessionDescription({type:e.type,sdp:p})}},function(e,t,n){var r=n(119);t.write=function(e,t){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach(function(e){void 0!==e.sources&&0!==Object.keys(e.sources).length&&(e.ssrcs=[],Object.keys(e.sources).forEach(function(t){var n=e.sources[t];Object.keys(n).forEach(function(r){e.ssrcs.push({id:t,attribute:r,value:n[r]})})}),delete e.sources),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))})}),void 0!==e&&void 0!==e.groups&&Array.isArray(e.groups)&&e.groups.forEach(function(e){void 0!==e.mids&&Array.isArray(e.mids)&&(e.mids=e.mids.join(" "))}),r.write(e,t)},t.parse=function(e){var t=r.parse(e);return void 0!==t&&void 0!==t.media&&Array.isArray(t.media)&&t.media.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources={},e.ssrcs.forEach(function(t){e.sources[t.id]||(e.sources[t.id]={}),e.sources[t.id][t.attribute]=t.value}),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){"string"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))})}),void 0!==t&&void 0!==t.groups&&Array.isArray(t.groups)&&t.groups.forEach(function(e){"string"==typeof e.mids&&(e.mids=e.mids.split(" "))}),t}},function(e,t){e.exports=function e(t){if(!t)return!1;if(this.length!=t.length)return!1;for(var n=0,r=this.length;n<r;n++)if(this[n]instanceof Array&&t[n]instanceof Array){if(!e.apply(this[n],[t[n]]))return!1}else if(this[n]!=t[n])return!1;return!0}},function(e,t,n){function r(e){this.options=e||{},this.options.numOfLayers||(this.options.numOfLayers=d),this.layers=[]}function i(){return Math.floor(4294967295*Math.random())+0}function o(e,t){null!=e&&Array.isArray(e.media)&&e.media.forEach(function(e){"video"===e.type&&t(e)})}function a(e){return e&&null!=e&&e.type&&""!=e.type&&e.sdp&&""!=e.sdp}var s=n(119),c=n(128),l=c.parseSsrcs,u=c.writeSsrcs,d=3;r.prototype._maybeInitializeLayers=function(e){if(e&&"video"===e.type){var t,n=l(e);if(0===Object.keys(n).length)return void(0!==this.layers.length&&(this.layers=[]));var r=n[t=this.layers.length>0&&n[this.layers[0].ssrc]?this.layers[0].ssrc:parseInt(Object.keys(n)[0])];if(this.layers.length>0&&(r.cname!==this.layers[0].cname||t!==this.layers[0].ssrc)&&(this.layers=[]),this.layers.length<1){this.layers.push({ssrc:t,msid:r.msid,cname:r.cname});var o=!1;Array.isArray(e.rtp)&&(o=e.rtp.some(function(e){return"rtx"===e.codec})),o&&(this.layers[0].rtx=i());for(var a=1;a<Math.max(1,this.options.numOfLayers);a++){var s={ssrc:i()};o&&(s.rtx=i()),this.layers.push(s)}}}},r.prototype._restoreSimulcastView=function(e){if(e&&"video"===e.type&&0!==this.layers.length){for(var t={},n=this.layers[0].msid,r=this.layers[0].cname,i=[],o=[],a=0;a<this.layers.length;a++){var s=this.layers[a];t[s.ssrc]={msid:n,cname:r},i.push(s.ssrc),s.rtx&&(t[s.rtx]={msid:n,cname:r},o.push({semantics:"FID",ssrcs:[s.ssrc,s.rtx].join(" ")}))}o.push({semantics:"SIM",ssrcs:i.join(" ")}),e.ssrcGroups=o,e.ssrcs=u(t,i)}},r.prototype.isSupported=function(){return window.chrome},r.prototype.mungeRemoteDescription=function(e){if(!a(e))return e;var t=s.parse(e.sdp),n=this;return o(t,function(e){n.options.explodeRemoteSimulcast?function(e){if(e&&Array.isArray(e.ssrcGroups))for(var t=l(e),n=[],r=e.ssrcGroups.length;r--;)if("SIM"===e.ssrcGroups[r].semantics){for(var i=e.ssrcGroups[r].ssrcs.split(" "),o=0;o<i.length;o++){var a=i[o];n.push(a);var s=t[a].msid.split(" ");t[a].msid=[s[0],"/",o," ",s[1],"/",o].join(""),t[a].cname=[t[a].cname,"/",o].join(""),e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var r=e.ssrcs.split(" ");-1!==r.indexOf(a)&&r.forEach(function(e){t[e].msid=t[a].msid,t[e].cname=t[a].cname,e!==a&&n.push(e)})}})}e.ssrcs=u(t,n),e.ssrcGroups.splice(r,1)}}(e):function(e){if(e&&Array.isArray(e.ssrcGroups)){var t=l(e);e.ssrcGroups.forEach(function(n){if("SIM"===n.semantics){console.info("Imploding SIM group: "+n.ssrcs),n.nuke=!0;for(var r=n.ssrcs.split(" "),i=1;i<r.length;i++){var o=r[i];delete t[o],e.ssrcGroups.forEach(function(e){if("SIM"!==e.semantics){var n=e.ssrcs.split(" ");-1!==n.indexOf(o)&&(n.forEach(function(e){delete t[e]}),e.nuke=!0)}})}}}),e.ssrcs=u(t);for(var n=e.ssrcGroups.length;n--;)e.ssrcGroups[n].nuke&&e.ssrcGroups.splice(n,1)}else console.info("Halt: There are no SSRC groups in the remote description.")}(e),n.layers.length<1?function(e){if(e&&Array.isArray(e.invalid))for(var t=e.invalid.length;t--;)"x-google-flag:conference"==e.invalid[t].value&&e.invalid.splice(t,1)}(e):function(e){e&&(Array.isArray(e.invalid)||(e.invalid=[]),e.invalid.some(function(e){return"x-google-flag:conference"===e.value})||e.invalid.push({value:"x-google-flag:conference"}))}(e)}),new RTCSessionDescription({type:e.type,sdp:s.write(t)})},r.prototype.mungeLocalDescription=function(e){if(!a(e)||!this.isSupported())return e;var t=s.parse(e.sdp),n=this;return o(t,function(e){"recvonly"!=e.direction&&"inactive"!=e.direction&&(n._maybeInitializeLayers(e),n._restoreSimulcastView(e))}),new RTCSessionDescription({type:e.type,sdp:s.write(t)})},e.exports=r},function(e,t){t.writeSsrcs=function(e,t){var n=[];if(void 0!==e&&0!==Object.keys(e).length){Array.isArray(t)||(t=[]);for(var r=0;r<t.length;r++){var i=t[r],o=e[i];Object.keys(o).forEach(function(e){n.push({id:i,attribute:e,value:o[e]})})}Object.keys(e).forEach(function(r){if(r=parseInt(r),!(t.indexOf(r)>=0)){var i=e[r];Object.keys(i).forEach(function(e){n.push({id:r,attribute:e,value:i[e]})})}})}return n},t.parseSsrcs=function(e){var t={};return void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(e){t[e.id]||(t[e.id]={}),t[e.id][e.attribute]=e.value}),t}},function(e,t,n){"use strict";function r(e,t){this.mySDP=e,this.otherSDP=t}var i=n(52);r.prototype.getNewMedia=function(){function e(e){if(!e)return!1;if(this.length!=e.length)return!1;for(var t=0,n=this.length;t<n;t++)if(this[t]instanceof Array&&e[t]instanceof Array){if(!this[t].equals(e[t]))return!1}else if(this[t]!=e[t])return!1;return!0}var t=this.mySDP.getMediaSsrcMap(),n=this.otherSDP.getMediaSsrcMap(),r={};return Object.keys(n).forEach(function(i){var o=t[i],a=n[i];return!o&&a?void(r[i]=a):(Object.keys(a.ssrcs).forEach(function(e){-1===Object.keys(o.ssrcs).indexOf(e)&&(r[i]||(r[i]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),r[i].ssrcs[e]=a.ssrcs[e])}),void a.ssrcGroups.forEach(function(t){for(var n=!1,s=0;s<o.ssrcGroups.length;s++){var c=o.ssrcGroups[s];if(t.semantics==c.semantics&&e.apply(t.ssrcs,[c.ssrcs])){n=!0;break}}n||(r[i]||(r[i]={mediaindex:a.mediaindex,mid:a.mid,ssrcs:{},ssrcGroups:[]}),r[i].ssrcGroups.push(t))}))}),r},r.prototype.toJingle=function(e){var t=this.getNewMedia(),n=!1;return Object.keys(t).forEach(function(r){n=!0;var o=t[r];e.c("content",{name:o.mid}),e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:o.mid}),Object.keys(o.ssrcs).forEach(function(t){var n=o.ssrcs[t];e.c("source",{xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.attrs({ssrc:n.ssrc}),n.lines.forEach(function(t){var n=t.indexOf(" "),r=t.substr(n+1);if(e.c("parameter"),-1==r.indexOf(":"))e.attrs({name:r});else{var o=r.split(":",2),a=o[0],s=i.filter_special_chars(o[1]);e.attrs({name:a}),e.attrs({value:s})}e.up()}),e.up()}),o.ssrcGroups.forEach(function(t){t.ssrcs.length&&(e.c("ssrc-group",{semantics:t.semantics,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),t.ssrcs.forEach(function(t){e.c("source",{ssrc:t}).up()}),e.up())}),e.up(),e.up()}),n},e.exports=r},function(e,t,n){"use strict";function r(e){for(var t=e.split("\r\nm="),n=1,r=t.length;n<r;n++){var i="m="+t[n];n!=r-1&&(i+="\r\n"),t[n]=i}var o=t.shift()+"\r\n";this.media=t,this.raw=o+t.join(""),this.session=o}var i=n(52);r.prototype.failICE=!1,r.prototype.removeTcpCandidates=!1,r.prototype.removeUdpCandidates=!1,r.prototype.getMediaSsrcMap=function(){for(var e,t=this,n={},r=0;r<t.media.length;r++){e=i.find_lines(t.media[r],"a=ssrc:");var o={mediaindex:r,mid:i.parse_mid(i.find_line(t.media[r],"a=mid:")),ssrcs:{},ssrcGroups:[]};n[r]=o,e.forEach(function(e){var t=e.substring(7).split(" ")[0];o.ssrcs[t]||(o.ssrcs[t]={ssrc:t,lines:[]}),o.ssrcs[t].lines.push(e)}),(e=i.find_lines(t.media[r],"a=ssrc-group:")).forEach(function(e){var t=e.indexOf(" "),n=e.substr(0,t).substr(13),r=e.substr(14+n.length).split(" ");r.length&&o.ssrcGroups.push({semantics:n,ssrcs:r})})}return n},r.prototype.containsSSRC=function(e){var t=this.getMediaSsrcMap(),n=!1;return Object.keys(t).forEach(function(r){n||t[r].ssrcs[e]&&(n=!0)}),n},r.prototype.mangle=function(){var e,t,n,r,o,a;for(e=0;e<this.media.length;e++)if((r=this.media[e].split("\r\n")).pop(),"audio"==(n=i.parse_mline(r.shift())).media){for(a="",n.fmt.length=0,t=0;t<r.length;t++){if("a=rtpmap:"==r[t].substr(0,9)){if("CN"==(o=i.parse_rtpmap(r[t])).name||"ISAC"==o.name)continue;n.fmt.push(o.id)}a+=r[t]+"\r\n"}this.media[e]=i.build_mline(n)+"\r\n"+a}this.raw=this.session+this.media.join("")},r.prototype.removeSessionLines=function(e){var t=this,n=i.find_lines(this.session,e);return n.forEach(function(e){t.session=t.session.replace(e+"\r\n","")}),this.raw=this.session+this.media.join(""),n},r.prototype.removeMediaLines=function(e,t){var n=this,r=i.find_lines(this.media[e],t);return r.forEach(function(t){n.media[e]=n.media[e].replace(t+"\r\n","")}),this.raw=this.session+this.media.join(""),r},r.prototype.toJingle=function(e,t){var n,r,o,a,s,c,l,u;if((u=i.find_lines(this.session,"a=group:")).length)for(n=0;n<u.length;n++){var d=(l=u[n].split(" ")).shift().substr(8);for(e.c("group",{xmlns:"urn:xmpp:jingle:apps:grouping:0",semantics:d}),r=0;r<l.length;r++)e.c("content",{name:l[r]}).up();e.up()}for(n=0;n<this.media.length;n++)if("audio"===(a=i.parse_mline(this.media[n].split("\r\n")[0])).media||"video"===a.media||"application"===a.media){var p=i.find_line(this.media[n],"a=ssrc:");s=!!p&&p.substring(7).split(" ")[0],e.c("content",{creator:t,name:a.media});var f=i.find_line(this.media[n],"a=mid:");if(f){var h=i.parse_mid(f);e.attrs({name:h})}if(i.find_line(this.media[n],"a=rtpmap:").length){for(e.c("description",{xmlns:"urn:xmpp:jingle:apps:rtp:1",media:a.media}),s&&e.attrs({ssrc:s}),r=0;r<a.fmt.length;r++){c=i.find_line(this.media[n],"a=rtpmap:"+a.fmt[r]),e.c("payload-type",i.parse_rtpmap(c));var m=i.find_line(this.media[n],"a=fmtp:"+a.fmt[r]);if(m)for(l=i.parse_fmtp(m),o=0;o<l.length;o++)e.c("parameter",l[o]).up();this.rtcpFbToJingle(n,e,a.fmt[r]),e.up()}var g=i.find_lines(this.media[n],"a=crypto:",this.session);if(g.length&&(e.c("encryption",{required:1}),g.forEach(function(t){e.c("crypto",i.parse_crypto(t)).up()}),e.up()),s){e.c("source",{ssrc:s,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"});var v=i.find_lines(this.media[n],"a=ssrc:");if(v.length>0)v.forEach(function(t){var n=t.indexOf(" "),r=t.substr(0,n).substr(7);r!=s&&(e.up(),e.c("source",{ssrc:s=r,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}));var o=t.substr(n+1);if(e.c("parameter"),-1==o.indexOf(":"))e.attrs({name:o});else{var a=o.split(":",2)[0];e.attrs({name:a});var c=o.split(":",2)[1];c=i.filter_special_chars(c),e.attrs({value:c})}e.up()});else{e.up(),e.c("source",{ssrc:s,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),e.c("parameter"),e.attrs({name:"cname",value:Math.random().toString(36).substring(7)}),e.up();var y=null;null!=(y="audio"==a.media?APP.RTC.localAudio._getId():APP.RTC.localVideo._getId())&&(y=i.filter_special_chars(y),e.c("parameter"),e.attrs({name:"msid",value:y}),e.up(),e.c("parameter"),e.attrs({name:"mslabel",value:y}),e.up(),e.c("parameter"),e.attrs({name:"label",value:y}),e.up())}e.up(),i.find_lines(this.media[n],"a=ssrc-group:").forEach(function(t){var n=t.indexOf(" "),r=t.substr(0,n).substr(13),i=t.substr(14+r.length).split(" ");i.length&&(e.c("ssrc-group",{semantics:r,xmlns:"urn:xmpp:jingle:apps:rtp:ssma:0"}),i.forEach(function(t){e.c("source",{ssrc:t}).up()}),e.up())})}if(i.find_line(this.media[n],"a=rtcp-mux")&&e.c("rtcp-mux").up(),this.rtcpFbToJingle(n,e,"*"),(u=i.find_lines(this.media[n],"a=extmap:")).length)for(r=0;r<u.length;r++){if(l=i.parse_extmap(u[r]),e.c("rtp-hdrext",{xmlns:"urn:xmpp:jingle:apps:rtp:rtp-hdrext:0",uri:l.uri,id:l.value}),l.hasOwnProperty("direction"))switch(l.direction){case"sendonly":e.attrs({senders:"responder"});break;case"recvonly":e.attrs({senders:"initiator"});break;case"sendrecv":e.attrs({senders:"both"});break;case"inactive":e.attrs({senders:"none"})}e.up()}e.up()}this.transportToJingle(n,e),i.find_line(this.media[n],"a=sendrecv",this.session)?e.attrs({senders:"both"}):i.find_line(this.media[n],"a=sendonly",this.session)?e.attrs({senders:"initiator"}):i.find_line(this.media[n],"a=recvonly",this.session)?e.attrs({senders:"responder"}):i.find_line(this.media[n],"a=inactive",this.session)&&e.attrs({senders:"none"}),"0"==a.port&&e.attrs({senders:"rejected"}),e.up()}return e.up(),e},r.prototype.transportToJingle=function(e,t){var n,r,o,a=this;t.c("transport"),(r=i.find_line(this.media[e],"a=sctpmap:",a.session))&&(o=i.parse_sctpmap(r),t.c("sctpmap",{xmlns:"urn:xmpp:jingle:transports:dtls-sctp:1",number:o[0],protocol:o[1]}),o.length>2&&t.attrs({streams:o[2]}),t.up()),i.find_lines(this.media[e],"a=fingerprint:",this.session).forEach(function(r){(n=i.parse_fingerprint(r)).xmlns="urn:xmpp:jingle:apps:dtls:0",t.c("fingerprint").t(n.fingerprint),delete n.fingerprint,(r=i.find_line(a.media[e],"a=setup:",a.session))&&(n.setup=r.substr(8)),t.attrs(n),t.up()}),(n=i.iceparams(this.media[e],this.session))&&(n.xmlns="urn:xmpp:jingle:transports:ice-udp:1",t.attrs(n),i.find_line(this.media[e],"a=candidate:",this.session))&&i.find_lines(this.media[e],"a=candidate:",this.session).forEach(function(e){var n=i.candidateToJingle(e);a.failICE&&(n.ip="1.1.1.1");var r=n&&"string"==typeof n.protocol?n.protocol.toLowerCase():"";a.removeTcpCandidates&&("tcp"===r||"ssltcp"===r)||a.removeUdpCandidates&&"udp"===r||t.c("candidate",n).up()}),t.up()},r.prototype.rtcpFbToJingle=function(e,t,n){i.find_lines(this.media[e],"a=rtcp-fb:"+n).forEach(function(e){var n=i.parse_rtcpfb(e);"trr-int"==n.type?(t.c("rtcp-fb-trr-int",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",value:n.params[0]}),t.up()):(t.c("rtcp-fb",{xmlns:"urn:xmpp:jingle:apps:rtp:rtcp-fb:0",type:n.type}),n.params.length>0&&t.attrs({subtype:n.params[0]}),t.up())})},r.prototype.rtcpFbFromJingle=function(e,t){var n="",r=e.find('>rtcp-fb-trr-int[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]');return r.length&&(n+="a=rtcp-fb:* trr-int ",n+=r.attr("value")?r.attr("value"):"0",n+="\r\n"),(r=e.find('>rtcp-fb[xmlns="urn:xmpp:jingle:apps:rtp:rtcp-fb:0"]')).each(function(){n+="a=rtcp-fb:"+t+" "+$(this).attr("type"),$(this).attr("subtype")&&(n+=" "+$(this).attr("subtype")),n+="\r\n"}),n},r.prototype.fromJingle=function(e){var t=this;this.raw="v=0\r\no=- 1923518516 2 IN IP4 0.0.0.0\r\ns=-\r\nt=0 0\r\n",$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]').length&&$(e).find('>group[xmlns="urn:xmpp:jingle:apps:grouping:0"]').each(function(e,n){var r=$(n).find(">content").map(function(e,t){return t.getAttribute("name")}).get();r.length>0&&(t.raw+="a=group:"+(n.getAttribute("semantics")||n.getAttribute("type"))+" "+r.join(" ")+"\r\n")}),this.session=this.raw,e.find(">content").each(function(){var e=t.jingle2media($(this));t.media.push(e)}),this.raw=this.session+this.media.join("")},r.prototype.jingle2media=function(e){var t,n="",r=e.find("description"),o=this,a=e.find('>transport>sctpmap[xmlns="urn:xmpp:jingle:transports:dtls-sctp:1"]');if((t={media:r.attr("media")}).port="1","rejected"==e.attr("senders")&&(t.port="0"),t.proto=e.find(">transport>fingerprint").length||r.find("encryption").length?a.length?"DTLS/SCTP":"RTP/SAVPF":"RTP/AVPF",a.length){n+="m=application 1 DTLS/SCTP "+a.attr("number")+"\r\n",n+="a=sctpmap:"+a.attr("number")+" "+a.attr("protocol");var s=a.attr("streams");n+=s?" "+s+"\r\n":"\r\n"}else t.fmt=r.find("payload-type").map(function(){return this.getAttribute("id")}).get(),n+=i.build_mline(t)+"\r\n";switch(n+="c=IN IP4 0.0.0.0\r\n",a.length||(n+="a=rtcp:1 IN IP4 0.0.0.0\r\n"),(t=e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]')).length&&(t.attr("ufrag")&&(n+=i.build_iceufrag(t.attr("ufrag"))+"\r\n"),t.attr("pwd")&&(n+=i.build_icepwd(t.attr("pwd"))+"\r\n"),t.find(">fingerprint").each(function(){n+="a=fingerprint:"+this.getAttribute("hash"),n+=" "+$(this).text(),n+="\r\n",this.getAttribute("setup")&&(n+="a=setup:"+this.getAttribute("setup")+"\r\n")})),e.attr("senders")){case"initiator":n+="a=sendonly\r\n";break;case"responder":n+="a=recvonly\r\n";break;case"none":n+="a=inactive\r\n";break;case"both":n+="a=sendrecv\r\n"}return n+="a=mid:"+e.attr("name")+"\r\n",r.find("rtcp-mux").length&&(n+="a=rtcp-mux\r\n"),r.find("encryption").length&&r.find("encryption>crypto").each(function(){n+="a=crypto:"+this.getAttribute("tag"),n+=" "+this.getAttribute("crypto-suite"),n+=" "+this.getAttribute("key-params"),this.getAttribute("session-params")&&(n+=" "+this.getAttribute("session-params")),n+="\r\n"}),r.find("payload-type").each(function(){n+=i.build_rtpmap(this)+"\r\n",$(this).find(">parameter").length&&(n+="a=fmtp:"+this.getAttribute("id")+" ",n+=$(this).find("parameter").map(function(){return(this.getAttribute("name")?this.getAttribute("name")+"=":"")+this.getAttribute("value")}).get().join("; "),n+="\r\n"),n+=o.rtcpFbFromJingle($(this),this.getAttribute("id"))}),n+=o.rtcpFbFromJingle(r,"*"),(t=r.find('>rtp-hdrext[xmlns="urn:xmpp:jingle:apps:rtp:rtp-hdrext:0"]')).each(function(){n+="a=extmap:"+this.getAttribute("id")+" "+this.getAttribute("uri")+"\r\n"}),e.find('>transport[xmlns="urn:xmpp:jingle:transports:ice-udp:1"]>candidate').each(function(){var e=this.getAttribute("protocol");e="string"==typeof e?e.toLowerCase():"",o.removeTcpCandidates&&("tcp"===e||"ssltcp"===e)||o.removeUdpCandidates&&"udp"===e||(o.failICE&&this.setAttribute("ip","1.1.1.1"),n+=i.candidateFromJingle(this))}),e.find('description>ssrc-group[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]').each(function(){var e=this.getAttribute("semantics"),t=$(this).find(">source").map(function(){return this.getAttribute("ssrc")}).get();t.length&&(n+="a=ssrc-group:"+e+" "+t.join(" ")+"\r\n")}),(t=e.find('description>source[xmlns="urn:xmpp:jingle:apps:rtp:ssma:0"]')).each(function(){var e=this.getAttribute("ssrc");$(this).find(">parameter").each(function(){var t=this.getAttribute("name"),r=this.getAttribute("value");r=i.filter_special_chars(r),n+="a=ssrc:"+e+" "+t,r&&r.length&&(n+=":"+r),n+="\r\n"})}),n},e.exports=r},function(e,t,n){var r;(function(n,i){!function(){function o(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(a,arguments)}}var a,s,c={};null!=(a=this)&&(s=a.async),c.noConflict=function(){return a.async=s,c};var l=Object.prototype.toString,u=Array.isArray||function(e){return"[object Array]"===l.call(e)},d=function(e,t){if(e.forEach)return e.forEach(t);for(var n=0;n<e.length;n+=1)t(e[n],n,e)},p=function(e,t){if(e.map)return e.map(t);var n=[];return d(e,function(e,r,i){n.push(t(e,r,i))}),n},f=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};void 0!==n&&n.nextTick?(c.nextTick=n.nextTick,c.setImmediate=void 0!==i?function(e){i(e)}:c.nextTick):"function"==typeof i?(c.nextTick=function(e){i(e)},c.setImmediate=c.nextTick):(c.nextTick=function(e){setTimeout(e,0)},c.setImmediate=c.nextTick),c.each=function(e,t,n){function r(t){t?(n(t),n=function(){}):(i+=1)>=e.length&&n()}if(n=n||function(){},!e.length)return n();var i=0;d(e,function(e){t(e,o(r))})},c.forEach=c.each,c.eachSeries=function(e,t,n){if(n=n||function(){},!e.length)return n();var r=0,i=function(){t(e[r],function(t){t?(n(t),n=function(){}):(r+=1)>=e.length?n():i()})};i()},c.forEachSeries=c.eachSeries,c.eachLimit=function(e,t,n,r){h(t).apply(null,[e,n,r])},c.forEachLimit=c.eachLimit;var h=function(e){return function(t,n,r){if(r=r||function(){},!t.length||e<=0)return r();var i=0,o=0,a=0;!function s(){if(i>=t.length)return r();for(;a<e&&o<t.length;)a+=1,n(t[(o+=1)-1],function(e){e?(r(e),r=function(){}):(a-=1,(i+=1)>=t.length?r():s())})}()}},m=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.each].concat(t))}},g=function(e){return function(){var t=Array.prototype.slice.call(arguments);return e.apply(null,[c.eachSeries].concat(t))}},v=function(e,t,n,r){if(t=p(t,function(e,t){return{index:t,value:e}}),r){var i=[];e(t,function(e,t){n(e.value,function(n,r){i[e.index]=r,t(n)})},function(e){r(e,i)})}else e(t,function(e,t){n(e.value,function(e){t(e)})})};c.map=m(v),c.mapSeries=g(v),c.mapLimit=function(e,t,n,r){return y(t)(e,n,r)};var y=function(e){return function(e,t){return function(){var n=Array.prototype.slice.call(arguments);return t.apply(null,[h(e)].concat(n))}}(e,v)};c.reduce=function(e,t,n,r){c.eachSeries(e,function(e,r){n(t,e,function(e,n){t=n,r(e)})},function(e){r(e,t)})},c.inject=c.reduce,c.foldl=c.reduce,c.reduceRight=function(e,t,n,r){var i=p(e,function(e){return e}).reverse();c.reduce(i,t,n,r)},c.foldr=c.reduceRight;var b=function(e,t,n,r){var i=[];e(t=p(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n&&i.push(e),t()})},function(e){r(p(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};c.filter=m(b),c.filterSeries=g(b),c.select=c.filter,c.selectSeries=c.filterSeries;var _=function(e,t,n,r){var i=[];e(t=p(t,function(e,t){return{index:t,value:e}}),function(e,t){n(e.value,function(n){n||i.push(e),t()})},function(e){r(p(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})};c.reject=m(_),c.rejectSeries=g(_);var E=function(e,t,n,r){e(t,function(e,t){n(e,function(n){n?(r(e),r=function(){}):t()})},function(e){r()})};c.detect=m(E),c.detectSeries=g(E),c.some=function(e,t,n){c.each(e,function(e,r){t(e,function(e){e&&(n(!0),n=function(){}),r()})},function(e){n(!1)})},c.any=c.some,c.every=function(e,t,n){c.each(e,function(e,r){t(e,function(e){e||(n(!1),n=function(){}),r()})},function(e){n(!0)})},c.all=c.every,c.sortBy=function(e,t,n){c.map(e,function(e,n){t(e,function(t,r){t?n(t):n(null,{value:e,criteria:r})})},function(e,t){if(e)return n(e);n(null,p(t.sort(function(e,t){var n=e.criteria,r=t.criteria;return n<r?-1:n>r?1:0}),function(e){return e.value}))})},c.auto=function(e,t){t=t||function(){};var n=f(e),r=n.length;if(!r)return t();var i={},o=[],a=function(e){o.unshift(e)},s=function(e){for(var t=0;t<o.length;t+=1)if(o[t]===e)return void o.splice(t,1)},l=function(){r--,d(o.slice(0),function(e){e()})};a(function(){if(!r){var e=t;t=function(){},e(null,i)}}),d(n,function(n){var r=u(e[n])?e[n]:[e[n]],o=function(e){var r=Array.prototype.slice.call(arguments,1);if(r.length<=1&&(r=r[0]),e){var o={};d(f(i),function(e){o[e]=i[e]}),o[n]=r,t(e,o),t=function(){}}else i[n]=r,c.setImmediate(l)},p=r.slice(0,Math.abs(r.length-1))||[],h=function(){return function(e,t,n){return e.reduce?e.reduce(t,n):(d(e,function(e,r,i){n=t(n,e)}),n)}(p,function(e,t){return e&&i.hasOwnProperty(t)},!0)&&!i.hasOwnProperty(n)};if(h())r[r.length-1](o,i);else{var m=function(){h()&&(s(m),r[r.length-1](o,i))};a(m)}})},c.retry=function(e,t,n){var r=[];"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5;var i=function(i,o){for(var a=function(e,t){return function(n){e(function(e,r){n(!e||t,{err:e,result:r})},o)}};e;)r.push(a(t,!(e-=1)));c.series(r,function(e,t){(i||n)((t=t[t.length-1]).err,t.result)})};return n?i():i},c.waterfall=function(e,t){if(t=t||function(){},!u(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();var r=function(e){return function(n){if(n)t.apply(null,arguments),t=function(){};else{var i=Array.prototype.slice.call(arguments,1),o=e.next();i.push(o?r(o):t),c.setImmediate(function(){e.apply(null,i)})}}};r(c.iterator(e))()};var w=function(e,t,n){if(n=n||function(){},u(t))e.map(t,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},n);else{var r={};e.each(f(t),function(e,n){t[e](function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),r[e]=i,n(t)})},function(e){n(e,r)})}};c.parallel=function(e,t){w({map:c.map,each:c.each},e,t)},c.parallelLimit=function(e,t,n){w({map:y(t),each:h(t)},e,n)},c.series=function(e,t){if(t=t||function(){},u(e))c.mapSeries(e,function(e,t){e&&e(function(e){var n=Array.prototype.slice.call(arguments,1);n.length<=1&&(n=n[0]),t.call(null,e,n)})},t);else{var n={};c.eachSeries(f(e),function(t,r){e[t](function(e){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,r(e)})},function(e){t(e,n)})}},c.iterator=function(e){var t=function(n){var r=function(){return e.length&&e[n].apply(null,arguments),r.next()};return r.next=function(){return n<e.length-1?t(n+1):null},r};return t(0)},c.apply=function(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t.concat(Array.prototype.slice.call(arguments)))}};var S=function(e,t,n,r){var i=[];e(t,function(e,t){n(e,function(e,n){i=i.concat(n||[]),t(e)})},function(e){r(e,i)})};c.concat=m(S),c.concatSeries=g(S),c.whilst=function(e,t,n){e()?t(function(r){return r?n(r):void c.whilst(e,t,n)}):n()},c.doWhilst=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?c.doWhilst(e,t,n):n()})},c.until=function(e,t,n){e()?n():t(function(r){return r?n(r):void c.until(e,t,n)})},c.doUntil=function(e,t,n){e(function(r){if(r)return n(r);var i=Array.prototype.slice.call(arguments,1);t.apply(null,i)?n():c.doUntil(e,t,n)})},c.queue=function(e,t){function n(e,t,n,r){return e.started||(e.started=!0),u(t)||(t=[t]),0==t.length?c.setImmediate(function(){e.drain&&e.drain()}):void d(t,function(t){var i={data:t,callback:"function"==typeof r?r:null};n?e.tasks.unshift(i):e.tasks.push(i),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)})}void 0===t&&(t=1);var r=0,i={tasks:[],concurrency:t,saturated:null,empty:null,drain:null,started:!1,paused:!1,push:function(e,t){n(i,e,!1,t)},kill:function(){i.drain=null,i.tasks=[]},unshift:function(e,t){n(i,e,!0,t)},process:function(){if(!i.paused&&r<i.concurrency&&i.tasks.length){var t=i.tasks.shift();i.empty&&0===i.tasks.length&&i.empty(),r+=1;var n=o(function(){r-=1,t.callback&&t.callback.apply(t,arguments),i.drain&&i.tasks.length+r===0&&i.drain(),i.process()});e(t.data,n)}},length:function(){return i.tasks.length},running:function(){return r},idle:function(){return i.tasks.length+r===0},pause:function(){!0!==i.paused&&(i.paused=!0,i.process())},resume:function(){!1!==i.paused&&(i.paused=!1,i.process())}};return i},c.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function r(e,t,r,i){return e.started||(e.started=!0),u(t)||(t=[t]),0==t.length?c.setImmediate(function(){e.drain&&e.drain()}):void d(t,function(t){var o={data:t,priority:r,callback:"function"==typeof i?i:null};e.tasks.splice(function(e,t,n){for(var r=-1,i=e.length-1;r<i;){var o=r+(i-r+1>>>1);n(t,e[o])>=0?r=o:i=o-1}return r}(e.tasks,o,n)+1,0,o),e.saturated&&e.tasks.length===e.concurrency&&e.saturated(),c.setImmediate(e.process)})}var i=c.queue(e,t);return i.push=function(e,t,n){r(i,e,t,n)},delete i.unshift,i},c.cargo=function(e,t){var n=!1,r=[],i={tasks:r,payload:t,saturated:null,empty:null,drain:null,drained:!0,push:function(e,n){u(e)||(e=[e]),d(e,function(e){r.push({data:e,callback:"function"==typeof n?n:null}),i.drained=!1,i.saturated&&r.length===t&&i.saturated()}),c.setImmediate(i.process)},process:function o(){if(!n){if(0===r.length)return i.drain&&!i.drained&&i.drain(),void(i.drained=!0);var a=r.splice(0,"number"==typeof t?t:r.length),s=p(a,function(e){return e.data});i.empty&&i.empty(),n=!0,e(s,function(){n=!1;var e=arguments;d(a,function(t){t.callback&&t.callback.apply(null,e)}),o()})}},length:function(){return r.length},running:function(){return n}};return i};var T=function(e){return function(t){var n=Array.prototype.slice.call(arguments,1);t.apply(null,n.concat([function(t){var n=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&d(n,function(t){console[e](t)}))}]))}};c.log=T("log"),c.dir=T("dir"),c.memoize=function(e,t){var n={},r={};t=t||function(e){return e};var i=function(){var i=Array.prototype.slice.call(arguments),o=i.pop(),a=t.apply(null,i);a in n?c.nextTick(function(){o.apply(null,n[a])}):a in r?r[a].push(o):(r[a]=[o],e.apply(null,i.concat([function(){n[a]=arguments;var e=r[a];delete r[a];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))};return i.memo=n,i.unmemoized=e,i},c.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},c.times=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return c.map(r,t,n)},c.timesSeries=function(e,t,n){for(var r=[],i=0;i<e;i++)r.push(i);return c.mapSeries(r,t,n)},c.seq=function(){var e=arguments;return function(){var t=this,n=Array.prototype.slice.call(arguments),r=n.pop();c.reduce(e,n,function(e,n,r){n.apply(t,e.concat([function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);r(e,t)}]))},function(e,n){r.apply(t,[e].concat(n))})}},c.compose=function(){return c.seq.apply(null,Array.prototype.reverse.call(arguments))};var C=function(e,t){var n=function(){var n=this,r=Array.prototype.slice.call(arguments),i=r.pop();return e(t,function(e,t){e.apply(n,r.concat([t]))},i)};if(arguments.length>2){var r=Array.prototype.slice.call(arguments,2);return n.apply(this,r)}return n};c.applyEach=m(C),c.applyEachSeries=g(C),c.forever=function(e,t){!function n(r){if(r){if(t)return t(r);throw r}e(n)}()},void 0!==e&&e.exports?e.exports=c:void 0===(r=(function(){return c}).apply(t,[]))||(e.exports=r)}()}).call(t,n(132),n(133).setImmediate)},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(l===setTimeout)return setTimeout(e,0);if((l===n||!l)&&setTimeout)return l=setTimeout,setTimeout(e,0);try{return l(e,0)}catch(t){try{return l.call(null,e,0)}catch(t){return l.call(this,e,0)}}}function o(){h&&p&&(h=!1,p.length?f=p.concat(f):m=-1,f.length&&a())}function a(){if(!h){var e=i(o);h=!0;for(var t=f.length;t;){for(p=f,f=[];++m<t;)p&&p[m].run();m=-1,t=f.length}p=null,h=!1,function(e){if(u===clearTimeout)return clearTimeout(e);if((u===r||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}(e)}}function s(e,t){this.fun=e,this.array=t}function c(){}var l,u,d=e.exports={};!function(){try{l="function"==typeof setTimeout?setTimeout:n}catch(e){l=n}try{u="function"==typeof clearTimeout?clearTimeout:r}catch(e){u=r}}();var p,f=[],h=!1,m=-1;d.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];f.push(new s(e,t)),1!==f.length||h||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=c,d.addListener=c,d.once=c,d.off=c,d.removeListener=c,d.removeAllListeners=c,d.emit=c,d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},function(e,t,n){(function(e,r){function i(e,t){this._id=e,this._clearFn=t}var o=n(132).nextTick,a=Function.prototype.apply,s=Array.prototype.slice,c={},l=0;t.setTimeout=function(){return new i(a.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new i(a.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e.close()},i.prototype.unref=i.prototype.ref=function(){},i.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},t.setImmediate="function"==typeof e?e:function(e){var n=l++,r=!(arguments.length<2)&&s.call(arguments,1);return c[n]=!0,o(function(){c[n]&&(r?e.apply(null,r):e.call(null),t.clearImmediate(n))}),n},t.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(t,n(133).setImmediate,n(133).clearImmediate)},function(e,t,n){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){Strophe.log=function(e,t){switch("string"==typeof t&&-1!==t.indexOf("Request ")&&-1!==t.indexOf("timed out (secondary), restarting")&&(e=Strophe.LogLevel.WARN),e){case Strophe.LogLevel.WARN:o.warn("Strophe: "+t);break;case Strophe.LogLevel.ERROR:case Strophe.LogLevel.FATAL:t="Strophe: "+t,i.default.callErrorHandler(new Error(t)),o.error(t)}},Strophe.getStatusString=function(e){switch(e){case Strophe.Status.ERROR:return"ERROR";case Strophe.Status.CONNECTING:return"CONNECTING";case Strophe.Status.CONNFAIL:return"CONNFAIL";case Strophe.Status.AUTHENTICATING:return"AUTHENTICATING";case Strophe.Status.AUTHFAIL:return"AUTHFAIL";case Strophe.Status.CONNECTED:return"CONNECTED";case Strophe.Status.DISCONNECTED:return"DISCONNECTED";case Strophe.Status.DISCONNECTING:return"DISCONNECTING";case Strophe.Status.ATTACHED:return"ATTACHED";default:return"unknown"}}};var r=n(9),i=function(e){return e&&e.__esModule?e:{default:e}}(n(39)),o=(0,r.getLogger)(e)}).call(t,"modules/xmpp/strophe.util.js")},function(e,t,n){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};t.default=function(){Strophe.addConnectionPlugin("ping",new u)};var a=n(9),s=r(n(42)),c=r(n(39)),l=(0,a.getLogger)(e),u=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.failedPings=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"init",value:function(e){o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),Strophe.addNamespace("PING","urn:xmpp:ping")}},{key:"ping",value:function(e,t,n,r){var i=$iq({type:"get",to:e});i.c("ping",{xmlns:Strophe.NS.PING}),this.connection.sendIQ(i,t,n,r)}},{key:"hasPingSupport",value:function(e,t){var n=this.connection.disco;n&&n.info(e,null,function(e){var n=$(e).find('>>feature[var="urn:xmpp:ping"]');t(n.length>0)},function(e){var n="Ping feature discovery error";c.default.callErrorHandler(new Error(n+": "+e)),l.error(n,e),t(!1)})}},{key:"startInterval",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;if(this.intervalId){var r="Ping task scheduled already";return c.default.callErrorHandler(new Error(r)),void l.error(r)}this.intervalId=window.setInterval(function(){t.ping(e,function(){t.failedPings=0},function(e){t.failedPings+=1;var n="Ping "+(e?"error":"timeout");t.failedPings>=3?(c.default.callErrorHandler(new Error(n)),l.error(n,e)):l.warn(n,e)},15e3)},n),l.info("XMPP pings will be sent every "+n+" ms")}},{key:"stopInterval",value:function(){this.intervalId&&(window.clearInterval(this.intervalId),this.intervalId=null,this.failedPings=0,l.info("Ping interval cleared"))}}]),t}(s.default)}).call(t,"modules/xmpp/strophe.ping.js")},function(e,t,n){(function(e){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};t.default=function(){Strophe.addConnectionPlugin("rayo",new d)};var s=n(9),c=function(e){return e&&e.__esModule?e:{default:e}}(n(42)),l=(0,s.getLogger)(e),u="urn:xmpp:rayo:1",d=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"init",value:function(e){a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e);var n=this.connection.disco;n&&n.addFeature("urn:xmpp:rayo:client:1"),this.connection.addHandler(this.onRayo.bind(this),u,"iq","set",null,null)}},{key:"onRayo",value:function(e){l.info("Rayo IQ",e)}},{key:"dial",value:function(e,t,n,r,i){var o=this;return new Promise(function(a,s){if(i){var c=$iq({type:"set",to:i});c.c("dial",{xmlns:u,to:e,from:t}),c.c("header",{name:"JvbRoomName",value:n}).up(),r&&r.length&&c.c("header",{name:"JvbRoomPassword",value:r}).up(),o.connection.sendIQ(c,function(e){l.info("Dial result ",e);var t=$(e).find("ref").attr("uri");o.call_resource=t.substr("xmpp:".length),l.info("Received call resource: "+o.call_resource),a()},function(e){l.info("Dial error ",e),s(e)})}else s(new Error("Internal error!"))})}},{key:"hangup",value:function(){var e=this;return new Promise(function(t,n){if(!e.call_resource)return n(new Error("No call in progress")),void l.warn("No call in progress");var r=$iq({type:"set",to:e.call_resource});r.c("hangup",{xmlns:u}),e.connection.sendIQ(r,function(n){l.info("Hangup result ",n),e.call_resource=null,t()},function(t){l.info("Hangup error ",t),e.call_resource=null,n(new Error("Hangup error "))})})}}]),t}(c.default)}).call(t,"modules/xmpp/strophe.rayo.js")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};t.default=function(){Strophe.addConnectionPlugin("logger",new o)};var o=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.log=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"init",value:function(e){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"init",this).call(this,e),this.connection.rawInput=this.log_incoming.bind(this),this.connection.rawOutput=this.log_outgoing.bind(this)}},{key:"log_incoming",value:function(e){this.log.push([(new Date).getTime(),"incoming",e])}},{key:"log_outgoing",value:function(e){this.log.push([(new Date).getTime(),"outgoing",e])}}]),t}(function(e){return e&&e.__esModule?e:{default:e}}(n(42)).default)},function(e,t,n){(function(t){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){if(!e.name||e.name.toLowerCase()!==e.name){var t="Invalid conference name (no conference name passed or it contains invalid characters like capital letters)!";throw f.error(t),new Error(t)}this.eventEmitter=new g,this.settings=new b,this.options=e,this.eventManager=new w(this),this._init(e),this.componentsVersions=new _(this),this.participants={},this.lastDominantSpeaker=null,this.dtmfManager=null,this.somebodySupportsDTMF=!1,this.authEnabled=!1,this.startAudioMuted=!1,this.startVideoMuted=!1,this.startMutedPolicy={audio:!1,video:!1},this.availableDevices={audio:void 0,video:void 0},this.isMutedByFocus=!1,this.reportedAudioSSRCs={},this.wasStopped=!1}var a=i(n(1)),s=i(n(2)),c=r(n(139)),l=r(n(6)),u=i(n(7)),d=i(n(8)),p=r(n(140)),f=n(9).getLogger(t),h=n(48),m=n(35),g=n(14),v=n(59),y=n(141),b=n(142),_=n(144),E=n(39),w=n(145),S=n(55),T=n(147),C=n(153);o.prototype._init=function(e){var t=this;e||(e={}),e.connection&&(this.connection=e.connection,this.xmpp=this.connection.xmpp,this.eventManager.setupXMPPListeners()),this.room=this.xmpp.createRoom(this.options.name,this.options.config,this.settings),this.room.updateDeviceAvailability(h.getDeviceAvailability()),this.rtc||(this.rtc=new h(this,e),this.eventManager.setupRTCListeners()),this.participantConnectionStatus=new C(this.rtc,this,e.config.peerDisconnectedThroughRtcTimeout),this.participantConnectionStatus.init(),this.statistics||(this.statistics=new v(this.xmpp,{callStatsID:this.options.config.callStatsID,callStatsSecret:this.options.config.callStatsSecret,callStatsCustomScriptUrl:this.options.config.callStatsCustomScriptUrl,roomName:this.options.name})),this.eventManager.setupChatRoomListeners(),this.eventManager.setupStatisticsListeners(),this.options.config.enableTalkWhileMuted&&new p.default(this,function(){t.eventEmitter.emit(s.TALK_WHILE_MUTED)})},o.prototype.join=function(e){this.room&&this.room.join(e)},o.prototype.isJoined=function(){return this.room&&this.room.joined},o.prototype.leave=function(){var e=this;if(this.participantConnectionStatus&&(this.participantConnectionStatus.dispose(),this.participantConnectionStatus=null),this.getLocalTracks().forEach(function(t){return e.onTrackRemoved(t)}),this.rtc.closeAllDataChannels(),this.statistics&&this.statistics.dispose(),this.room){var t=this.room;return this.room=null,t.leave().catch(function(){e.getParticipants().forEach(function(t){return e.onMemberLeft(t.getJid())})})}return Promise.reject(new Error("The conference is has been already left"))},o.prototype.getName=function(){return this.options.name},o.prototype.isAuthEnabled=function(){return this.authEnabled},o.prototype.isLoggedIn=function(){return!!this.authIdentity},o.prototype.getAuthLogin=function(){return this.authIdentity},o.prototype.isExternalAuthEnabled=function(){return this.room&&this.room.moderator.isExternalAuthEnabled()},o.prototype.getExternalAuthUrl=function(e){return new Promise((function(t,n){return this.isExternalAuthEnabled()?void(e?this.room.moderator.getPopupLoginUrl(t,n):this.room.moderator.getLoginUrl(t,n)):void n()}).bind(this))},o.prototype.getLocalTracks=function(){return this.rtc?this.rtc.localTracks.slice():[]},o.prototype.on=function(e,t){this.eventEmitter&&this.eventEmitter.on(e,t)},o.prototype.off=function(e,t){this.eventEmitter&&this.eventEmitter.removeListener(e,t)},o.prototype.addEventListener=o.prototype.on,o.prototype.removeEventListener=o.prototype.off,o.prototype.addCommandListener=function(e,t){this.room&&this.room.addPresenceListener(e,t)},o.prototype.removeCommandListener=function(e){this.room&&this.room.removePresenceListener(e)},o.prototype.sendTextMessage=function(e){this.room&&this.room.sendMessage(e)},o.prototype.sendCommand=function(e,t){this.room&&(this.room.addToPresence(e,t),this.room.sendPresence())},o.prototype.sendCommandOnce=function(e,t){this.sendCommand(e,t),this.removeCommand(e)},o.prototype.removeCommand=function(e){this.room&&this.room.removeFromPresence(e)},o.prototype.setDisplayName=function(e){this.room&&(this.room.removeFromPresence("nick"),this.room.addToPresence("nick",{attributes:{xmlns:"http://jabber.org/protocol/nick"},value:e}),this.room.sendPresence())},o.prototype.setSubject=function(e){this.room&&this.isModerator()&&this.room.setSubject(e)},o.prototype.getTranscriber=function(){return void 0===this.transcriber&&(this.transcriber=new T,this.rtc.localTracks.forEach((function(e){e.isAudioTrack()&&this.transcriber.addTrack(e)}).bind(this)),this.rtc.remoteTracks.forEach((function(e){e.isAudioTrack()&&this.transcriber.addTrack(e)}).bind(this))),this.transcriber},o.prototype.addTrack=function(e){if(e.disposed)return Promise.reject(new l.default(u.TRACK_IS_DISPOSED));if(e.isVideoTrack()){var t=this.rtc.getLocalVideoTrack();if(t)return e===t?Promise.resolve(e):Promise.reject(new Error("cannot add second video track to the conference"))}if(e.ssrcHandler=(function(e,t){t[this.getMSID()]&&(this._setSSRC(t[this.getMSID()]),e.room.removeListener(m.SENDRECV_STREAMS_CHANGED,this.ssrcHandler))}).bind(e,this),this.room.addListener(m.SENDRECV_STREAMS_CHANGED,e.ssrcHandler),e.isAudioTrack()||e.isVideoTrack()&&e.videoType!==S.DESKTOP){var n=h.getCurrentlyAvailableMediaDevices().find(function(t){return t.kind===e.getTrack().kind+"input"&&t.label===e.getTrack().label});n&&v.sendActiveDeviceListEvent(h.getEventDataForActiveDevice(n))}return new Promise((function(t,n){this.room.addStream(e.getOriginalStream(),(function(){e.isVideoTrack()&&(this.removeCommand("videoType"),this.sendCommand("videoType",{value:e.videoType,attributes:{xmlns:"http://jitsi.org/jitmeet/video"}})),this.rtc.addLocalTrack(e),e.startMuted&&e.mute(),e.isAudioTrack()?this.room.setAudioMute(e.isMuted()):this.room.setVideoMute(e.isMuted()),e.muteHandler=this._fireMuteChangeEvent.bind(this,e),e.audioLevelHandler=this._fireAudioLevelChangeEvent.bind(this),e.addEventListener(d.TRACK_MUTE_CHANGED,e.muteHandler),e.addEventListener(d.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),e._setConference(this),e.isVideoTrack()&&e.videoType===S.DESKTOP&&this.statistics.sendScreenSharingEvent(!0),this.eventEmitter.emit(s.TRACK_ADDED,e),t(e)}).bind(this),function(e){n(e)})}).bind(this))},o.prototype._fireAudioLevelChangeEvent=function(e){this.eventEmitter.emit(s.TRACK_AUDIO_LEVEL_CHANGED,this.myUserId(),e)},o.prototype._fireMuteChangeEvent=function(e){this.isMutedByFocus&&e.isAudioTrack()&&!e.isMuted()&&(this.isMutedByFocus=!1,this.room.muteParticipant(this.room.myroomjid,!1)),this.eventEmitter.emit(s.TRACK_MUTE_CHANGED,e)},o.prototype.onTrackRemoved=function(e){e._setSSRC(null),e._setConference(null),this.rtc.removeLocalTrack(e),e.removeEventListener(d.TRACK_MUTE_CHANGED,e.muteHandler),e.removeEventListener(d.TRACK_AUDIO_LEVEL_CHANGED,e.audioLevelHandler),this.room.removeListener(m.SENDRECV_STREAMS_CHANGED,e.ssrcHandler),e.isVideoTrack()&&e.videoType===S.DESKTOP&&this.statistics.sendScreenSharingEvent(!1),this.eventEmitter.emit(s.TRACK_REMOVED,e)},o.prototype.removeTrack=function(e){return e.disposed?Promise.reject(new l.default(u.TRACK_IS_DISPOSED)):this.room?new Promise((function(t,n){this.room.removeStream(e.getOriginalStream(),(function(){this.onTrackRemoved(e),t()}).bind(this),function(e){n(e)},{mtype:e.getType(),type:"remove",ssrc:e.ssrc})}).bind(this)):(this.rtc&&this.onTrackRemoved(e),Promise.resolve())},o.prototype.getRole=function(){return this.room.role},o.prototype.isModerator=function(){return this.room?this.room.isModerator():null},o.prototype.lock=function(e){if(!this.isModerator())return Promise.reject();var t=this;return new Promise(function(n,r){t.room.lockRoom(e||"",function(){n()},function(e){r(e)},function(){r(a.PASSWORD_NOT_SUPPORTED)})})},o.prototype.unlock=function(){return this.lock()},o.prototype.selectParticipant=function(e){this.rtc.selectEndpoint(e)},o.prototype.pinParticipant=function(e){this.rtc.pinEndpoint(e)},o.prototype.getParticipants=function(){return Object.keys(this.participants).map(function(e){return this.participants[e]},this)},o.prototype.getParticipantById=function(e){return this.participants[e]},o.prototype.kickParticipant=function(e){var t=this.getParticipantById(e);t&&this.room.kick(t.getJid())},o.prototype.muteParticipant=function(e){var t=this.getParticipantById(e);t&&this.room.muteParticipant(t.getJid(),!0)},o.prototype.onMemberJoined=function(e,t,n,r){var i=Strophe.getResourceFromJid(e);if("focus"!==i&&this.myUserId()!==i){var o=new c.default(e,this,t,r);o._role=n,this.participants[i]=o,this.eventEmitter.emit(s.USER_JOINED,i,o);var a=this.xmpp.connection.disco;a&&a.info(e,"node",(function(e){o._supportsDTMF=$(e).find('>query>feature[var="urn:xmpp:jingle:dtmf:0"]').length>0,this.updateDTMFSupport()}).bind(this))}},o.prototype.onMemberLeft=function(e){var t=Strophe.getResourceFromJid(e);if("focus"!==t&&this.myUserId()!==t){var n=this.participants[t];delete this.participants[t],this.rtc.removeRemoteTracks(t).forEach((function(e){this.eventEmitter.emit(s.TRACK_REMOVED,e)}).bind(this)),n&&this.eventEmitter.emit(s.USER_LEFT,t,n)}},o.prototype.onUserRoleChanged=function(e,t){var n=Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&(r._role=t,this.eventEmitter.emit(s.USER_ROLE_CHANGED,n,t))},o.prototype.onDisplayNameChanged=function(e,t){var n=Strophe.getResourceFromJid(e),r=this.getParticipantById(n);r&&r._displayName!==t&&(r._displayName=t,this.eventEmitter.emit(s.DISPLAY_NAME_CHANGED,n,t))},o.prototype.onTrackAdded=function(e){var t=e.getParticipantId(),n=this.getParticipantById(t);if(n){n._tracks.push(e),this.transcriber&&this.transcriber.addTrack(e);var r=this.eventEmitter;e.addEventListener(d.TRACK_MUTE_CHANGED,function(){r.emit(s.TRACK_MUTE_CHANGED,e)}),e.addEventListener(d.TRACK_AUDIO_LEVEL_CHANGED,function(e){r.emit(s.TRACK_AUDIO_LEVEL_CHANGED,t,e)}),r.emit(s.TRACK_ADDED,e)}},o.prototype.onIncomingCall=function(e,t,n){if(!this.room.isFocus(e.peerjid)){var r="Rejecting session-initiate from non-focus user: "+e.peerjid;return E.callErrorHandler(new Error(r)),f.error(r),void e.terminate("security-error","Only focus can start new sessions",null,function(e){f.warn("An error occurred while trying to terminate invalid Jingle session",e)})}this.room.setJingleSession(e),this.room.connectionTimes["session.initiate"]=n,this.wasStopped&&v.sendEventToAll("session.restart");var i=null;window.jitsiRegionInfo&&(i=window.jitsiRegionInfo.CrossRegion),v.analytics.sendEvent("session.initiate",{value:n-this.room.connectionTimes["muc.joined"],label:i});try{e.initialize(!1,this.room)}catch(e){E.callErrorHandler(e)}this.rtc.onIncommingCall(e),this.rtc.localTracks.forEach((function(e){var t=null;e.isVideoTrack()&&e.isMuted()&&(e._setSSRC(this.room.generateNewStreamSSRCInfo()),t={mtype:e.getType(),type:"addMuted",ssrc:e.ssrc,msid:e.initialMSID});try{this.room.addStream(e.getOriginalStream(),function(){},function(){},t,!0)}catch(e){E.callErrorHandler(e),f.error(e)}}).bind(this)),e.acceptOffer(t,null,function(e){E.callErrorHandler(e),f.error("Failed to accept incoming Jingle session",e)}),this.statistics.startCallStats(e,this.settings),this.statistics.startRemoteStats(e.peerconnection)},o.prototype.onCallEnded=function(e,t,n){f.info("Call ended: "+t+" - "+n),this.wasStopped=!0,v.sendEventToAll("session.terminate"),this.statistics&&(this.statistics.stopRemoteStats(),this.statistics.stopCallStats()),this.room.setJingleSession(null),this.rtc.onCallEnded();var r=this;this.rtc.localTracks.forEach(function(e){e._setSSRC(null),r.room.addListener(m.SENDRECV_STREAMS_CHANGED,e.ssrcHandler)})},o.prototype.updateDTMFSupport=function(){for(var e=!1,t=this.getParticipants(),n=0;n<t.length;n+=1)if(t[n].supportsDTMF()){e=!0;break}e!==this.somebodySupportsDTMF&&(this.somebodySupportsDTMF=e,this.eventEmitter.emit(s.DTMF_SUPPORT_CHANGED,e))},o.prototype.isDTMFSupported=function(){return this.somebodySupportsDTMF},o.prototype.myUserId=function(){return this.room&&this.room.myroomjid?Strophe.getResourceFromJid(this.room.myroomjid):null},o.prototype.sendTones=function(e,t,n){if(!this.dtmfManager){var r=this.xmpp.connection.jingle.activecall.peerconnection;if(!r)return void f.warn("cannot sendTones: no conneciton");var i=this.getLocalTracks().filter(function(e){return e.isAudioTrack()});if(!i.length)return void f.warn("cannot sendTones: no local audio stream");this.dtmfManager=new y(i[0],r)}this.dtmfManager.sendTones(e,t,n)},o.prototype.isRecordingSupported=function(){return!!this.room&&this.room.isRecordingSupported()},o.prototype.getRecordingState=function(){return this.room?this.room.getRecordingState():void 0},o.prototype.getRecordingURL=function(){return this.room?this.room.getRecordingURL():null},o.prototype.toggleRecording=function(e){return this.room?this.room.toggleRecording(e,(function(e,t){this.eventEmitter.emit(s.RECORDER_STATE_CHANGED,e,t)}).bind(this)):void this.eventEmitter.emit(s.RECORDER_STATE_CHANGED,"error",new Error("The conference is not created yet!"))},o.prototype.isSIPCallingSupported=function(){return!!this.room&&this.room.isSIPCallingSupported()},o.prototype.dial=function(e){return this.room?this.room.dial(e):new Promise(function(e,t){t(new Error("The conference is not created yet!"))})},o.prototype.hangup=function(){return this.room?this.room.hangup():new Promise(function(e,t){t(new Error("The conference is not created yet!"))})},o.prototype.getPhoneNumber=function(){return this.room?this.room.getPhoneNumber():null},o.prototype.getPhonePin=function(){return this.room?this.room.getPhonePin():null},o.prototype.getConnectionState=function(){return this.room?this.room.getConnectionState():null},o.prototype.setStartMutedPolicy=function(e){this.isModerator()&&(this.startMutedPolicy=e,this.room.removeFromPresence("startmuted"),this.room.addToPresence("startmuted",{attributes:{audio:e.audio,video:e.video,xmlns:"http://jitsi.org/jitmeet/start-muted"}}),this.room.sendPresence())},o.prototype.getStartMutedPolicy=function(){return this.startMutedPolicy},o.prototype.isStartAudioMuted=function(){return this.startAudioMuted},o.prototype.isStartVideoMuted=function(){return this.startVideoMuted},o.prototype.getLogs=function(){var e=this.xmpp.getJingleLog(),t={};t.time=new Date,t.url=window.location.href,t.ua=navigator.userAgent;var n=this.xmpp.getXmppLog();return n&&(t.xmpp=n),e.metadata=t,e},o.prototype.getConnectionTimes=function(){return this.room.connectionTimes},o.prototype.setLocalParticipantProperty=function(e,t){this.sendCommand("jitsi_participant_"+e,{value:t})},o.prototype.sendFeedback=function(e,t){this.statistics.sendFeedback(e,t)},o.prototype.isCallstatsEnabled=function(){return this.statistics.isCallstatsEnabled()},o.prototype._onTrackAttach=function(e,t){var n=e.getSSRC();t.id&&n&&this.statistics.associateStreamWithVideoTag(n,e.isLocal(),e.getUsageLabel(),t.id)},o.prototype._reportAudioProblem=function(e){if(!this.reportedAudioSSRCs[e]){var t=this.rtc.getRemoteTrackBySSRC(e);if(t&&t.isAudioTrack()){var n=t.getParticipantId(),r=null;if(n){var i=this.getParticipantById(n);i&&(r=i.getDisplayName())}this.reportedAudioSSRCs[e]=!0;var o={errMsg:"The audio is received but not played",ssrc:e,jid:n,displayName:r};f.log("=================The audio is received but not played======================"),f.log("ssrc: ",e),f.log("jid: ",n),f.log("displayName: ",r);var a=t.stream,s=t.track;a&&(f.log("MediaStream:"),o.MediaStream={active:a.active,id:a.id},f.log("active: ",a.active),f.log("id: ",a.id)),s&&(f.log("MediaStreamTrack:"),o.MediaStreamTrack={enabled:s.enabled,id:s.id,label:s.label,muted:s.muted},f.log("enabled: ",s.enabled),f.log("id: ",s.id),f.log("label: ",s.label),f.log("muted: ",s.muted)),t.containers&&(o.containers=[],f.log("Containers:"),t.containers.forEach(function(e){f.log("Container:"),o.containers.push({autoplay:e.autoplay,muted:e.muted,src:e.src,volume:e.volume,id:e.id,ended:e.ended,paused:e.paused,readyState:e.readyState}),f.log("autoplay: ",e.autoplay),f.log("muted: ",e.muted),f.log("src: ",e.src),f.log("volume: ",e.volume),f.log("id: ",e.id),f.log("ended: ",e.ended),f.log("paused: ",e.paused),f.log("readyState: ",e.readyState)})),f.error("Audio problem detected. The audio is received but not played",o),delete o.displayName,this.statistics.sendDetectedAudioProblem(new Error(JSON.stringify(o)))}}},o.prototype.sendApplicationLog=function(e){v.sendLog(e)},o.prototype._isFocus=function(e){return this.room?this.room.isFocus(e):null},o.prototype._fireIncompatibleVersionsEvent=function(){this.eventEmitter.emit(s.CONFERENCE_FAILED,a.INCOMPATIBLE_SERVER_VERSIONS)},o.prototype.sendEndpointMessage=function(e,t){this.rtc.sendDataChannelMessage(e,t)},o.prototype.broadcastEndpointMessage=function(e){this.sendEndpointMessage("",e)},e.exports=o}).call(t,"JitsiConference.js")},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=r(n(2)),a=r(n(36)),s=function(){function e(t,n,r,i){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._jid=t,this._id=Strophe.getResourceFromJid(t),this._conference=n,this._displayName=r,this._supportsDTMF=!1,this._tracks=[],this._role="none",this._status=null,this._availableDevices={audio:void 0,video:void 0},this._hidden=i,this._isConnectionActive=!0,this._properties={}}return i(e,[{key:"getConference",value:function(){return this._conference}},{key:"getProperty",value:function(e){return this._properties[e]}},{key:"_setIsConnectionActive",value:function(e){this._isConnectionActive=e}},{key:"isConnectionActive",value:function(){return this._isConnectionActive}},{key:"setProperty",value:function(e,t){var n=this._properties[e];t!==n&&(this._properties[e]=t,this._conference.eventEmitter.emit(o.PARTICIPANT_PROPERTY_CHANGED,this,e,n,t))}},{key:"getTracks",value:function(){return this._tracks.slice()}},{key:"getId",value:function(){return this._id}},{key:"getJid",value:function(){return this._jid}},{key:"getDisplayName",value:function(){return this._displayName}},{key:"getStatus",value:function(){return this._status}},{key:"isModerator",value:function(){return"moderator"===this._role}},{key:"isHidden",value:function(){return this._hidden}},{key:"isAudioMuted",value:function(){return this._isMediaTypeMuted(a.AUDIO)}},{key:"_isMediaTypeMuted",value:function(e){return this.getTracks().reduce(function(t,n){return t&&(n.getType()!==e||n.isMuted())},!0)}},{key:"isVideoMuted",value:function(){return this._isMediaTypeMuted(a.VIDEO)}},{key:"getLatestStats",value:function(){}},{key:"getRole",value:function(){return this._role}},{key:"isFocus",value:function(){}},{key:"isRecorder",value:function(){}},{key:"isSipGateway",value:function(){}},{key:"isScreenSharing",value:function(){}},{key:"getUserAgent",value:function(){}},{key:"kick",value:function(){}},{key:"askToMute",value:function(){}},{key:"supportsDTMF",value:function(){return this._supportsDTMF}}]),e}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(2)),o=function(){function e(t,n){(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this._callback=n,this._eventFired=!1,t.statistics.addAudioLevelListener(this._audioLevel.bind(this)),t.on(i.TRACK_MUTE_CHANGED,this._trackMuteChanged.bind(this)),t.on(i.TRACK_ADDED,this._trackAdded.bind(this))}return r(e,[{key:"_audioLevel",value:function(e,t,n){n&&this.audioTrack&&!this._eventFired&&this.audioTrack.isMuted()&&t>.6&&(this._eventFired=!0,this._callback())}},{key:"_isLocalAudioTrack",value:function(e){return e.isAudioTrack()&&e.isLocal()}},{key:"_trackAdded",value:function(e){this._isLocalAudioTrack(e)&&(this.audioTrack=e)}},{key:"_trackMuteChanged",value:function(e){this._isLocalAudioTrack(e)&&e.isMuted()&&(this._eventFired=!1)}}]),e}();t.default=o},function(e,t,n){(function(e){"use strict";n(9).getLogger(e)}).call(t,"modules/DTMF/JitsiDTMFManager.js")},function(e,t,n){(function(t){"use strict";function r(){return("undefined"==typeof window?this:window).localStorage}function i(){var e=function(){function e(){return(Math.random().toString(16)+"000000000").substr(2,8)}return e()+e()+e()+e()}();return s.log("generated id",e),e}function o(){var e=c.generateUsername();return s.log("generated callstats uid",e),e}function a(){var e=r();e?(this.userId=e.getItem("jitsiMeetId")||i(),this.callStatsUserName=e.getItem("callStatsUserName")||o(),this.save()):(s.log("localStorage is not supported"),this.userId=i(),this.callStatsUserName=o())}var s=n(9).getLogger(t),c=n(143);a.prototype.save=function(){var e=r();e&&(e.setItem("jitsiMeetId",this.userId),e.setItem("callStatsUserName",this.callStatsUserName))},a.prototype.getUserId=function(){return this.userId},a.prototype.getCallStatsUserName=function(){return this.callStatsUserName},a.prototype.setSessionId=function(e){var t=r();t&&(e?t.setItem("sessionId",e):t.removeItem("sessionId"))},a.prototype.clearSessionId=function(){this.setSessionId(void 0)},a.prototype.getSessionId=function(){var e=r();return e?e.getItem("sessionId"):void 0},e.exports=a}).call(t,"modules/settings/Settings.js")},function(e,t,n){"use strict";var r=n(31),i=["Aaliyah","Aaron","Abagail","Abbey","Abbie","Abbigail","Abby","Abdiel","Abdul","Abdullah","Abe","Abel","Abelardo","Abigail","Abigale","Abigayle","Abner","Abraham","Ada","Adah","Adalberto","Adaline","Adam","Adan","Addie","Addison","Adela","Adelbert","Adele","Adelia","Adeline","Adell","Adella","Adelle","Aditya","Adolf","Adolfo","Adolph","Adolphus","Adonis","Adrain","Adrian","Adriana","Adrianna","Adriel","Adrien","Adrienne","Afton","Aglae","Agnes","Agustin","Agustina","Ahmad","Ahmed","Aida","Aidan","Aiden","Aileen","Aimee","Aisha","Aiyana","Akeem","Al","Alaina","Alan","Alana","Alanis","Alanna","Alayna","Alba","Albert","Alberta","Albertha","Alberto","Albin","Albina","Alda","Alden","Alec","Aleen","Alejandra","Alejandrin","Alek","Alena","Alene","Alessandra","Alessandro","Alessia","Aletha","Alex","Alexa","Alexander","Alexandra","Alexandre","Alexandrea","Alexandria","Alexandrine","Alexandro","Alexane","Alexanne","Alexie","Alexis","Alexys","Alexzander","Alf","Alfonso","Alfonzo","Alford","Alfred","Alfreda","Alfredo","Ali","Alia","Alice","Alicia","Alisa","Alisha","Alison","Alivia","Aliya","Aliyah","Aliza","Alize","Allan","Allen","Allene","Allie","Allison","Ally","Alphonso","Alta","Althea","Alva","Alvah","Alvena","Alvera","Alverta","Alvina","Alvis","Alyce","Alycia","Alysa","Alysha","Alyson","Alysson","Amalia","Amanda","Amani","Amara","Amari","Amaya","Amber","Ambrose","Amelia","Amelie","Amely","America","Americo","Amie","Amina","Amir","Amira","Amiya","Amos","Amparo","Amy","Amya","Ana","Anabel","Anabelle","Anahi","Anais","Anastacio","Anastasia","Anderson","Andre","Andreane","Andreanne","Andres","Andrew","Andy","Angel","Angela","Angelica","Angelina","Angeline","Angelita","Angelo","Angie","Angus","Anibal","Anika","Anissa","Anita","Aniya","Aniyah","Anjali","Anna","Annabel","Annabell","Annabelle","Annalise","Annamae","Annamarie","Anne","Annetta","Annette","Annie","Ansel","Ansley","Anthony","Antoinette","Antone","Antonetta","Antonette","Antonia","Antonietta","Antonina","Antonio","Antwan","Antwon","Anya","April","Ara","Araceli","Aracely","Arch","Archibald","Ardella","Arden","Ardith","Arely","Ari","Ariane","Arianna","Aric","Ariel","Arielle","Arjun","Arlene","Arlie","Arlo","Armand","Armando","Armani","Arnaldo","Arne","Arno","Arnold","Arnoldo","Arnulfo","Aron","Art","Arthur","Arturo","Arvel","Arvid","Arvilla","Aryanna","Asa","Asha","Ashlee","Ashleigh","Ashley","Ashly","Ashlynn","Ashton","Ashtyn","Asia","Assunta","Astrid","Athena","Aubree","Aubrey","Audie","Audra","Audreanne","Audrey","August","Augusta","Augustine","Augustus","Aurelia","Aurelie","Aurelio","Aurore","Austen","Austin","Austyn","Autumn","Ava","Avery","Avis","Axel","Ayana","Ayden","Ayla","Aylin","Baby","Bailee","Bailey","Barbara","Barney","Baron","Barrett","Barry","Bart","Bartholome","Barton","Baylee","Beatrice","Beau","Beaulah","Bell","Bella","Belle","Ben","Benedict","Benjamin","Bennett","Bennie","Benny","Benton","Berenice","Bernadette","Bernadine","Bernard","Bernardo","Berneice","Bernhard","Bernice","Bernie","Berniece","Bernita","Berry","Bert","Berta","Bertha","Bertram","Bertrand","Beryl","Bessie","Beth","Bethany","Bethel","Betsy","Bette","Bettie","Betty","Bettye","Beulah","Beverly","Bianka","Bill","Billie","Billy","Birdie","Blair","Blaise","Blake","Blanca","Blanche","Blaze","Bo","Bobbie","Bobby","Bonita","Bonnie","Boris","Boyd","Brad","Braden","Bradford","Bradley","Bradly","Brady","Braeden","Brain","Brandi","Brando","Brandon","Brandt","Brandy","Brandyn","Brannon","Branson","Brant","Braulio","Braxton","Brayan","Breana","Breanna","Breanne","Brenda","Brendan","Brenden","Brendon","Brenna","Brennan","Brennon","Brent","Bret","Brett","Bria","Brian","Briana","Brianne","Brice","Bridget","Bridgette","Bridie","Brielle","Brigitte","Brionna","Brisa","Britney","Brittany","Brock","Broderick","Brody","Brook","Brooke","Brooklyn","Brooks","Brown","Bruce","Bryana","Bryce","Brycen","Bryon","Buck","Bud","Buddy","Buford","Bulah","Burdette","Burley","Burnice","Buster","Cade","Caden","Caesar","Caitlyn","Cale","Caleb","Caleigh","Cali","Calista","Callie","Camden","Cameron","Camila","Camilla","Camille","Camren","Camron","Camryn","Camylle","Candace","Candelario","Candice","Candida","Candido","Cara","Carey","Carissa","Carlee","Carleton","Carley","Carli","Carlie","Carlo","Carlos","Carlotta","Carmel","Carmela","Carmella","Carmelo","Carmen","Carmine","Carol","Carolanne","Carole","Carolina","Caroline","Carolyn","Carolyne","Carrie","Carroll","Carson","Carter","Cary","Casandra","Casey","Casimer","Casimir","Casper","Cassandra","Cassandre","Cassidy","Cassie","Catalina","Caterina","Catharine","Catherine","Cathrine","Cathryn","Cathy","Cayla","Ceasar","Cecelia","Cecil","Cecile","Cecilia","Cedrick","Celestine","Celestino","Celia","Celine","Cesar","Chad","Chadd","Chadrick","Chaim","Chance","Chandler","Chanel","Chanelle","Charity","Charlene","Charles","Charley","Charlie","Charlotte","Chase","Chasity","Chauncey","Chaya","Chaz","Chelsea","Chelsey","Chelsie","Chesley","Chester","Chet","Cheyanne","Cheyenne","Chloe","Chris","Christ","Christa","Christelle","Christian","Christiana","Christina","Christine","Christop","Christophe","Christopher","Christy","Chyna","Ciara","Cicero","Cielo","Cierra","Cindy","Citlalli","Clair","Claire","Clara","Clarabelle","Clare","Clarissa","Clark","Claud","Claude","Claudia","Claudie","Claudine","Clay","Clemens","Clement","Clementina","Clementine","Clemmie","Cleo","Cleora","Cleta","Cletus","Cleve","Cleveland","Clifford","Clifton","Clint","Clinton","Clotilde","Clovis","Cloyd","Clyde","Coby","Cody","Colby","Cole","Coleman","Colin","Colleen","Collin","Colt","Colten","Colton","Columbus","Concepcion","Conner","Connie","Connor","Conor","Conrad","Constance","Constantin","Consuelo","Cooper","Cora","Coralie","Corbin","Cordelia","Cordell","Cordia","Cordie","Corene","Corine","Cornelius","Cornell","Corrine","Cortez","Cortney","Cory","Coty","Courtney","Coy","Craig","Crawford","Creola","Cristal","Cristian","Cristina","Cristobal","Cristopher","Cruz","Crystal","Crystel","Cullen","Curt","Curtis","Cydney","Cynthia","Cyril","Cyrus","Dagmar","Dahlia","Daija","Daisha","Daisy","Dakota","Dale","Dallas","Dallin","Dalton","Damaris","Dameon","Damian","Damien","Damion","Damon","Dan","Dana","Dandre","Dane","D'angelo","Dangelo","Danial","Daniela","Daniella","Danielle","Danika","Dannie","Danny","Dante","Danyka","Daphne","Daphnee","Daphney","Darby","Daren","Darian","Dariana","Darien","Dario","Darion","Darius","Darlene","Daron","Darrel","Darrell","Darren","Darrick","Darrin","Darrion","Darron","Darryl","Darwin","Daryl","Dashawn","Dasia","Dave","David","Davin","Davion","Davon","Davonte","Dawn","Dawson","Dax","Dayana","Dayna","Dayne","Dayton","Dean","Deangelo","Deanna","Deborah","Declan","Dedric","Dedrick","Dee","Deion","Deja","Dejah","Dejon","Dejuan","Delaney","Delbert","Delfina","Delia","Delilah","Dell","Della","Delmer","Delores","Delpha","Delphia","Delphine","Delta","Demarco","Demarcus","Demario","Demetris","Demetrius","Demond","Dena","Denis","Dennis","Deon","Deondre","Deontae","Deonte","Dereck","Derek","Derick","Deron","Derrick","Deshaun","Deshawn","Desiree","Desmond","Dessie","Destany","Destin","Destinee","Destiney","Destini","Destiny","Devan","Devante","Deven","Devin","Devon","Devonte","Devyn","Dewayne","Dewitt","Dexter","Diamond","Diana","Dianna","Diego","Dillan","Dillon","Dimitri","Dina","Dino","Dion","Dixie","Dock","Dolly","Dolores","Domenic","Domenica","Domenick","Domenico","Domingo","Dominic","Dominique","Don","Donald","Donato","Donavon","Donna","Donnell","Donnie","Donny","Dora","Dorcas","Dorian","Doris","Dorothea","Dorothy","Dorris","Dortha","Dorthy","Doug","Douglas","Dovie","Doyle","Drake","Drew","Duane","Dudley","Dulce","Duncan","Durward","Dustin","Dusty","Dwight","Dylan","Earl","Earlene","Earline","Earnest","Earnestine","Easter","Easton","Ebba","Ebony","Ed","Eda","Edd","Eddie","Eden","Edgar","Edgardo","Edison","Edmond","Edmund","Edna","Eduardo","Edward","Edwardo","Edwin","Edwina","Edyth","Edythe","Effie","Efrain","Efren","Eileen","Einar","Eino","Eladio","Elaina","Elbert","Elda","Eldon","Eldora","Eldred","Eldridge","Eleanora","Eleanore","Eleazar","Electa","Elena","Elenor","Elenora","Eleonore","Elfrieda","Eli","Elian","Eliane","Elias","Eliezer","Elijah","Elinor","Elinore","Elisa","Elisabeth","Elise","Eliseo","Elisha","Elissa","Eliza","Elizabeth","Ella","Ellen","Ellie","Elliot","Elliott","Ellis","Ellsworth","Elmer","Elmira","Elmo","Elmore","Elna","Elnora","Elody","Eloisa","Eloise","Elouise","Eloy","Elroy","Elsa","Else","Elsie","Elta","Elton","Elva","Elvera","Elvie","Elvis","Elwin","Elwyn","Elyse","Elyssa","Elza","Emanuel","Emelia","Emelie","Emely","Emerald","Emerson","Emery","Emie","Emil","Emile","Emilia","Emiliano","Emilie","Emilio","Emily","Emma","Emmalee","Emmanuel","Emmanuelle","Emmet","Emmett","Emmie","Emmitt","Emmy","Emory","Ena","Enid","Enoch","Enola","Enos","Enrico","Enrique","Ephraim","Era","Eriberto","Eric","Erica","Erich","Erick","Ericka","Erik","Erika","Erin","Erling","Erna","Ernest","Ernestina","Ernestine","Ernesto","Ernie","Ervin","Erwin","Eryn","Esmeralda","Esperanza","Esta","Esteban","Estefania","Estel","Estell","Estella","Estelle","Estevan","Esther","Estrella","Etha","Ethan","Ethel","Ethelyn","Ethyl","Ettie","Eudora","Eugene","Eugenia","Eula","Eulah","Eulalia","Euna","Eunice","Eusebio","Eva","Evalyn","Evan","Evangeline","Evans","Eve","Eveline","Evelyn","Everardo","Everett","Everette","Evert","Evie","Ewald","Ewell","Ezekiel","Ezequiel","Ezra","Fabian","Fabiola","Fae","Fannie","Fanny","Fatima","Faustino","Fausto","Favian","Fay","Faye","Federico","Felicia","Felicita","Felicity","Felipa","Felipe","Felix","Felton","Fermin","Fern","Fernando","Ferne","Fidel","Filiberto","Filomena","Finn","Fiona","Flavie","Flavio","Fleta","Fletcher","Flo","Florence","Florencio","Florian","Florida","Florine","Flossie","Floy","Floyd","Ford","Forest","Forrest","Foster","Frances","Francesca","Francesco","Francis","Francisca","Francisco","Franco","Frank","Frankie","Franz","Fred","Freda","Freddie","Freddy","Frederic","Frederick","Frederik","Frederique","Fredrick","Fredy","Freeda","Freeman","Freida","Frida","Frieda","Friedrich","Fritz","Furman","Gabe","Gabriel","Gabriella","Gabrielle","Gaetano","Gage","Gail","Gardner","Garett","Garfield","Garland","Garnet","Garnett","Garret","Garrett","Garrick","Garrison","Garry","Garth","Gaston","Gavin","Gay","Gayle","Gaylord","Gene","General","Genesis","Genevieve","Gennaro","Genoveva","Geo","Geoffrey","George","Georgette","Georgiana","Georgianna","Geovanni","Geovanny","Geovany","Gerald","Geraldine","Gerard","Gerardo","Gerda","Gerhard","Germaine","German","Gerry","Gerson","Gertrude","Gia","Gianni","Gideon","Gilbert","Gilberto","Gilda","Giles","Gillian","Gina","Gino","Giovani","Giovanna","Giovanni","Giovanny","Gisselle","Giuseppe","Gladyce","Gladys","Glen","Glenda","Glenna","Glennie","Gloria","Godfrey","Golda","Golden","Gonzalo","Gordon","Grace","Gracie","Graciela","Grady","Graham","Grant","Granville","Grayce","Grayson","Green","Greg","Gregg","Gregoria","Gregorio","Gregory","Greta","Gretchen","Greyson","Griffin","Grover","Guadalupe","Gudrun","Guido","Guillermo","Guiseppe","Gunnar","Gunner","Gus","Gussie","Gust","Gustave","Guy","Gwen","Gwendolyn","Hadley","Hailee","Hailey","Hailie","Hal","Haleigh","Haley","Halie","Halle","Hallie","Hank","Hanna","Hannah","Hans","Hardy","Harley","Harmon","Harmony","Harold","Harrison","Harry","Harvey","Haskell","Hassan","Hassie","Hattie","Haven","Hayden","Haylee","Hayley","Haylie","Hazel","Hazle","Heath","Heather","Heaven","Heber","Hector","Heidi","Helen","Helena","Helene","Helga","Hellen","Helmer","Heloise","Henderson","Henri","Henriette","Henry","Herbert","Herman","Hermann","Hermina","Herminia","Herminio","Hershel","Herta","Hertha","Hester","Hettie","Hilario","Hilbert","Hilda","Hildegard","Hillard","Hillary","Hilma","Hilton","Hipolito","Hiram","Hobart","Holden","Hollie","Hollis","Holly","Hope","Horace","Horacio","Hortense","Hosea","Houston","Howard","Howell","Hoyt","Hubert","Hudson","Hugh","Hulda","Humberto","Hunter","Hyman","Ian","Ibrahim","Icie","Ida","Idell","Idella","Ignacio","Ignatius","Ike","Ila","Ilene","Iliana","Ima","Imani","Imelda","Immanuel","Imogene","Ines","Irma","Irving","Irwin","Isaac","Isabel","Isabell","Isabella","Isabelle","Isac","Isadore","Isai","Isaiah","Isaias","Isidro","Ismael","Isobel","Isom","Israel","Issac","Itzel","Iva","Ivah","Ivory","Ivy","Izabella","Izaiah","Jabari","Jace","Jacey","Jacinthe","Jacinto","Jack","Jackeline","Jackie","Jacklyn","Jackson","Jacky","Jaclyn","Jacquelyn","Jacques","Jacynthe","Jada","Jade","Jaden","Jadon","Jadyn","Jaeden","Jaida","Jaiden","Jailyn","Jaime","Jairo","Jakayla","Jake","Jakob","Jaleel","Jalen","Jalon","Jalyn","Jamaal","Jamal","Jamar","Jamarcus","Jamel","Jameson","Jamey","Jamie","Jamil","Jamir","Jamison","Jammie","Jan","Jana","Janae","Jane","Janelle","Janessa","Janet","Janice","Janick","Janie","Janis","Janiya","Jannie","Jany","Jaquan","Jaquelin","Jaqueline","Jared","Jaren","Jarod","Jaron","Jarred","Jarrell","Jarret","Jarrett","Jarrod","Jarvis","Jasen","Jasmin","Jason","Jasper","Jaunita","Javier","Javon","Javonte","Jay","Jayce","Jaycee","Jayda","Jayde","Jayden","Jaydon","Jaylan","Jaylen","Jaylin","Jaylon","Jayme","Jayne","Jayson","Jazlyn","Jazmin","Jazmyn","Jazmyne","Jean","Jeanette","Jeanie","Jeanne","Jed","Jedediah","Jedidiah","Jeff","Jefferey","Jeffery","Jeffrey","Jeffry","Jena","Jenifer","Jennie","Jennifer","Jennings","Jennyfer","Jensen","Jerad","Jerald","Jeramie","Jeramy","Jerel","Jeremie","Jeremy","Jermain","Jermaine","Jermey","Jerod","Jerome","Jeromy","Jerrell","Jerrod","Jerrold","Jerry","Jess","Jesse","Jessica","Jessie","Jessika","Jessy","Jessyca","Jesus","Jett","Jettie","Jevon","Jewel","Jewell","Jillian","Jimmie","Jimmy","Jo","Joan","Joana","Joanie","Joanne","Joannie","Joanny","Joany","Joaquin","Jocelyn","Jodie","Jody","Joe","Joel","Joelle","Joesph","Joey","Johan","Johann","Johanna","Johathan","John","Johnathan","Johnathon","Johnnie","Johnny","Johnpaul","Johnson","Jolie","Jon","Jonas","Jonatan","Jonathan","Jonathon","Jordan","Jordane","Jordi","Jordon","Jordy","Jordyn","Jorge","Jose","Josefa","Josefina","Joseph","Josephine","Josh","Joshua","Joshuah","Josiah","Josiane","Josianne","Josie","Josue","Jovan","Jovani","Jovanny","Jovany","Joy","Joyce","Juana","Juanita","Judah","Judd","Jude","Judge","Judson","Judy","Jules","Julia","Julian","Juliana","Julianne","Julie","Julien","Juliet","Julio","Julius","June","Junior","Junius","Justen","Justice","Justina","Justine","Juston","Justus","Justyn","Juvenal","Juwan","Kacey","Kaci","Kacie","Kade","Kaden","Kadin","Kaela","Kaelyn","Kaia","Kailee","Kailey","Kailyn","Kaitlin","Kaitlyn","Kale","Kaleb","Kaleigh","Kaley","Kali","Kallie","Kameron","Kamille","Kamren","Kamron","Kamryn","Kane","Kara","Kareem","Karelle","Karen","Kari","Kariane","Karianne","Karina","Karine","Karl","Karlee","Karley","Karli","Karlie","Karolann","Karson","Kasandra","Kasey","Kassandra","Katarina","Katelin","Katelyn","Katelynn","Katharina","Katherine","Katheryn","Kathleen","Kathlyn","Kathryn","Kathryne","Katlyn","Katlynn","Katrina","Katrine","Kattie","Kavon","Kay","Kaya","Kaycee","Kayden","Kayla","Kaylah","Kaylee","Kayleigh","Kayley","Kayli","Kaylie","Kaylin","Keagan","Keanu","Keara","Keaton","Keegan","Keeley","Keely","Keenan","Keira","Keith","Kellen","Kelley","Kelli","Kellie","Kelly","Kelsi","Kelsie","Kelton","Kelvin","Ken","Kendall","Kendra","Kendrick","Kenna","Kennedi","Kennedy","Kenneth","Kennith","Kenny","Kenton","Kenya","Kenyatta","Kenyon","Keon","Keshaun","Keshawn","Keven","Kevin","Kevon","Keyon","Keyshawn","Khalid","Khalil","Kian","Kiana","Kianna","Kiara","Kiarra","Kiel","Kiera","Kieran","Kiley","Kim","Kimberly","King","Kip","Kira","Kirk","Kirsten","Kirstin","Kitty","Kobe","Koby","Kody","Kolby","Kole","Korbin","Korey","Kory","Kraig","Kris","Krista","Kristian","Kristin","Kristina","Kristofer","Kristoffer","Kristopher","Kristy","Krystal","Krystel","Krystina","Kurt","Kurtis","Kyla","Kyle","Kylee","Kyleigh","Kyler","Kylie","Kyra","Lacey","Lacy","Ladarius","Lafayette","Laila","Laisha","Lamar","Lambert","Lamont","Lance","Landen","Lane","Laney","Larissa","Laron","Larry","Larue","Laura","Laurel","Lauren","Laurence","Lauretta","Lauriane","Laurianne","Laurie","Laurine","Laury","Lauryn","Lavada","Lavern","Laverna","Laverne","Lavina","Lavinia","Lavon","Lavonne","Lawrence","Lawson","Layla","Layne","Lazaro","Lea","Leann","Leanna","Leanne","Leatha","Leda","Lee","Leif","Leila","Leilani","Lela","Lelah","Leland","Lelia","Lempi","Lemuel","Lenna","Lennie","Lenny","Lenora","Lenore","Leo","Leola","Leon","Leonard","Leonardo","Leone","Leonel","Leonie","Leonor","Leonora","Leopold","Leopoldo","Leora","Lera","Lesley","Leslie","Lesly","Lessie","Lester","Leta","Letha","Letitia","Levi","Lew","Lewis","Lexi","Lexie","Lexus","Lia","Liam","Liana","Libbie","Libby","Lila","Lilian","Liliana","Liliane","Lilla","Lillian","Lilliana","Lillie","Lilly","Lily","Lilyan","Lina","Lincoln","Linda","Lindsay","Lindsey","Linnea","Linnie","Linwood","Lionel","Lisa","Lisandro","Lisette","Litzy","Liza","Lizeth","Lizzie","Llewellyn","Lloyd","Logan","Lois","Lola","Lolita","Loma","Lon","London","Lonie","Lonnie","Lonny","Lonzo","Lora","Loraine","Loren","Lorena","Lorenz","Lorenza","Lorenzo","Lori","Lorine","Lorna","Lottie","Lou","Louie","Louisa","Lourdes","Louvenia","Lowell","Loy","Loyal","Loyce","Lucas","Luciano","Lucie","Lucienne","Lucile","Lucinda","Lucio","Lucious","Lucius","Lucy","Ludie","Ludwig","Lue","Luella","Luigi","Luis","Luisa","Lukas","Lula","Lulu","Luna","Lupe","Lura","Lurline","Luther","Luz","Lyda","Lydia","Lyla","Lynn","Lyric","Lysanne","Mabel","Mabelle","Mable","Mac","Macey","Maci","Macie","Mack","Mackenzie","Macy","Madaline","Madalyn","Maddison","Madeline","Madelyn","Madelynn","Madge","Madie","Madilyn","Madisen","Madison","Madisyn","Madonna","Madyson","Mae","Maegan","Maeve","Mafalda","Magali","Magdalen","Magdalena","Maggie","Magnolia","Magnus","Maia","Maida","Maiya","Major","Makayla","Makenna","Makenzie","Malachi","Malcolm","Malika","Malinda","Mallie","Mallory","Malvina","Mandy","Manley","Manuel","Manuela","Mara","Marc","Marcel","Marcelina","Marcelino","Marcella","Marcelle","Marcellus","Marcelo","Marcia","Marco","Marcos","Marcus","Margaret","Margarete","Margarett","Margaretta","Margarette","Margarita","Marge","Margie","Margot","Margret","Marguerite","Maria","Mariah","Mariam","Marian","Mariana","Mariane","Marianna","Marianne","Mariano","Maribel","Marie","Mariela","Marielle","Marietta","Marilie","Marilou","Marilyne","Marina","Mario","Marion","Marisa","Marisol","Maritza","Marjolaine","Marjorie","Marjory","Mark","Markus","Marlee","Marlen","Marlene","Marley","Marlin","Marlon","Marques","Marquis","Marquise","Marshall","Marta","Martin","Martina","Martine","Marty","Marvin","Mary","Maryam","Maryjane","Maryse","Mason","Mateo","Mathew","Mathias","Mathilde","Matilda","Matilde","Matt","Matteo","Mattie","Maud","Maude","Maudie","Maureen","Maurice","Mauricio","Maurine","Maverick","Mavis","Max","Maxie","Maxime","Maximilian","Maximillia","Maximillian","Maximo","Maximus","Maxine","Maxwell","May","Maya","Maybell","Maybelle","Maye","Maymie","Maynard","Mayra","Mazie","Mckayla","Mckenna","Mckenzie","Meagan","Meaghan","Meda","Megane","Meggie","Meghan","Mekhi","Melany","Melba","Melisa","Melissa","Mellie","Melody","Melvin","Melvina","Melyna","Melyssa","Mercedes","Meredith","Merl","Merle","Merlin","Merritt","Mertie","Mervin","Meta","Mia","Micaela","Micah","Michael","Michaela","Michale","Micheal","Michel","Michele","Michelle","Miguel","Mikayla","Mike","Mikel","Milan","Miles","Milford","Miller","Millie","Milo","Milton","Mina","Minerva","Minnie","Miracle","Mireille","Mireya","Misael","Missouri","Misty","Mitchel","Mitchell","Mittie","Modesta","Modesto","Mohamed","Mohammad","Mohammed","Moises","Mollie","Molly","Mona","Monica","Monique","Monroe","Monserrat","Monserrate","Montana","Monte","Monty","Morgan","Moriah","Morris","Mortimer","Morton","Mose","Moses","Moshe","Mossie","Mozell","Mozelle","Muhammad","Muriel","Murl","Murphy","Murray","Mustafa","Mya","Myah","Mylene","Myles","Myra","Myriam","Myrl","Myrna","Myron","Myrtice","Myrtie","Myrtis","Myrtle","Nadia","Nakia","Name","Nannie","Naomi","Naomie","Napoleon","Narciso","Nash","Nasir","Nat","Natalia","Natalie","Natasha","Nathan","Nathanael","Nathanial","Nathaniel","Nathen","Nayeli","Neal","Ned","Nedra","Neha","Neil","Nelda","Nella","Nelle","Nellie","Nels","Nelson","Neoma","Nestor","Nettie","Neva","Newell","Newton","Nia","Nicholas","Nicholaus","Nichole","Nick","Nicklaus","Nickolas","Nico","Nicola","Nicolas","Nicole","Nicolette","Nigel","Nikita","Nikki","Nikko","Niko","Nikolas","Nils","Nina","Noah","Noble","Noe","Noel","Noelia","Noemi","Noemie","Noemy","Nola","Nolan","Nona","Nora","Norbert","Norberto","Norene","Norma","Norris","Norval","Norwood","Nova","Novella","Nya","Nyah","Nyasia","Obie","Oceane","Ocie","Octavia","Oda","Odell","Odessa","Odie","Ofelia","Okey","Ola","Olaf","Ole","Olen","Oleta","Olga","Olin","Oliver","Ollie","Oma","Omari","Omer","Ona","Onie","Opal","Ophelia","Ora","Oral","Oran","Oren","Orie","Orin","Orion","Orland","Orlando","Orlo","Orpha","Orrin","Orval","Orville","Osbaldo","Osborne","Oscar","Osvaldo","Oswald","Oswaldo","Otha","Otho","Otilia","Otis","Ottilie","Ottis","Otto","Ova","Owen","Ozella","Pablo","Paige","Palma","Pamela","Pansy","Paolo","Paris","Parker","Pascale","Pasquale","Pat","Patience","Patricia","Patrick","Patsy","Pattie","Paul","Paula","Pauline","Paxton","Payton","Pearl","Pearlie","Pearline","Pedro","Peggie","Penelope","Percival","Percy","Perry","Pete","Peter","Petra","Peyton","Philip","Phoebe","Phyllis","Pierce","Pierre","Pietro","Pink","Pinkie","Piper","Polly","Porter","Precious","Presley","Preston","Price","Prince","Princess","Priscilla","Providenci","Prudence","Queen","Queenie","Quentin","Quincy","Quinn","Quinten","Quinton","Rachael","Rachel","Rachelle","Rae","Raegan","Rafael","Rafaela","Raheem","Rahsaan","Rahul","Raina","Raleigh","Ralph","Ramiro","Ramon","Ramona","Randal","Randall","Randi","Randy","Ransom","Raoul","Raphael","Raphaelle","Raquel","Rashad","Rashawn","Rasheed","Raul","Raven","Ray","Raymond","Raymundo","Reagan","Reanna","Reba","Rebeca","Rebecca","Rebeka","Rebekah","Reece","Reed","Reese","Regan","Reggie","Reginald","Reid","Reilly","Reina","Reinhold","Remington","Rene","Renee","Ressie","Reta","Retha","Retta","Reuben","Reva","Rex","Rey","Reyes","Reymundo","Reyna","Reynold","Rhea","Rhett","Rhianna","Rhiannon","Rhoda","Ricardo","Richard","Richie","Richmond","Rick","Rickey","Rickie","Ricky","Rico","Rigoberto","Riley","Rita","River","Robb","Robbie","Robert","Roberta","Roberto","Robin","Robyn","Rocio","Rocky","Rod","Roderick","Rodger","Rodolfo","Rodrick","Rodrigo","Roel","Rogelio","Roger","Rogers","Rolando","Rollin","Roma","Romaine","Roman","Ron","Ronaldo","Ronny","Roosevelt","Rory","Rosa","Rosalee","Rosalia","Rosalind","Rosalinda","Rosalyn","Rosamond","Rosanna","Rosario","Roscoe","Rose","Rosella","Roselyn","Rosemarie","Rosemary","Rosendo","Rosetta","Rosie","Rosina","Roslyn","Ross","Rossie","Rowan","Rowena","Rowland","Roxane","Roxanne","Roy","Royal","Royce","Rozella","Ruben","Rubie","Ruby","Rubye","Rudolph","Rudy","Rupert","Russ","Russel","Russell","Rusty","Ruth","Ruthe","Ruthie","Ryan","Ryann","Ryder","Rylan","Rylee","Ryleigh","Ryley","Sabina","Sabrina","Sabryna","Sadie","Sadye","Sage","Saige","Sallie","Sally","Salma","Salvador","Salvatore","Sam","Samanta","Samantha","Samara","Samir","Sammie","Sammy","Samson","Sandra","Sandrine","Sandy","Sanford","Santa","Santiago","Santina","Santino","Santos","Sarah","Sarai","Sarina","Sasha","Saul","Savanah","Savanna","Savannah","Savion","Scarlett","Schuyler","Scot","Scottie","Scotty","Seamus","Sean","Sebastian","Sedrick","Selena","Selina","Selmer","Serena","Serenity","Seth","Shad","Shaina","Shakira","Shana","Shane","Shanel","Shanelle","Shania","Shanie","Shaniya","Shanna","Shannon","Shanny","Shanon","Shany","Sharon","Shaun","Shawn","Shawna","Shaylee","Shayna","Shayne","Shea","Sheila","Sheldon","Shemar","Sheridan","Sherman","Sherwood","Shirley","Shyann","Shyanne","Sibyl","Sid","Sidney","Sienna","Sierra","Sigmund","Sigrid","Sigurd","Silas","Sim","Simeon","Simone","Sincere","Sister","Skye","Skyla","Skylar","Sofia","Soledad","Solon","Sonia","Sonny","Sonya","Sophia","Sophie","Spencer","Stacey","Stacy","Stan","Stanford","Stanley","Stanton","Stefan","Stefanie","Stella","Stephan","Stephania","Stephanie","Stephany","Stephen","Stephon","Sterling","Steve","Stevie","Stewart","Stone","Stuart","Summer","Sunny","Susan","Susana","Susanna","Susie","Suzanne","Sven","Syble","Sydnee","Sydney","Sydni","Sydnie","Sylvan","Sylvester","Sylvia","Tabitha","Tad","Talia","Talon","Tamara","Tamia","Tania","Tanner","Tanya","Tara","Taryn","Tate","Tatum","Tatyana","Taurean","Tavares","Taya","Taylor","Teagan","Ted","Telly","Terence","Teresa","Terrance","Terrell","Terrence","Terrill","Terry","Tess","Tessie","Tevin","Thad","Thaddeus","Thalia","Thea","Thelma","Theo","Theodora","Theodore","Theresa","Therese","Theresia","Theron","Thomas","Thora","Thurman","Tia","Tiana","Tianna","Tiara","Tierra","Tiffany","Tillman","Timmothy","Timmy","Timothy","Tina","Tito","Titus","Tobin","Toby","Tod","Tom","Tomas","Tomasa","Tommie","Toney","Toni","Tony","Torey","Torrance","Torrey","Toy","Trace","Tracey","Tracy","Travis","Travon","Tre","Tremaine","Tremayne","Trent","Trenton","Tressa","Tressie","Treva","Trever","Trevion","Trevor","Trey","Trinity","Trisha","Tristian","Tristin","Triston","Troy","Trudie","Trycia","Trystan","Turner","Twila","Tyler","Tyra","Tyree","Tyreek","Tyrel","Tyrell","Tyrese","Tyrique","Tyshawn","Tyson","Ubaldo","Ulices","Ulises","Una","Unique","Urban","Uriah","Uriel","Ursula","Vada","Valentin","Valentina","Valentine","Valerie","Vallie","Van","Vance","Vanessa","Vaughn","Veda","Velda","Vella","Velma","Velva","Vena","Verda","Verdie","Vergie","Verla","Verlie","Vern","Verna","Verner","Vernice","Vernie","Vernon","Verona","Veronica","Vesta","Vicenta","Vicente","Vickie","Vicky","Victor","Victoria","Vida","Vidal","Vilma","Vince","Vincent","Vincenza","Vincenzo","Vinnie","Viola","Violet","Violette","Virgie","Virgil","Virginia","Virginie","Vita","Vito","Viva","Vivian","Viviane","Vivianne","Vivien","Vivienne","Vladimir","Wade","Waino","Waldo","Walker","Wallace","Walter","Walton","Wanda","Ward","Warren","Watson","Wava","Waylon","Wayne","Webster","Weldon","Wellington","Wendell","Wendy","Werner","Westley","Weston","Whitney","Wilber","Wilbert","Wilburn","Wiley","Wilford","Wilfred","Wilfredo","Wilfrid","Wilhelm","Wilhelmine","Will","Willa","Willard","William","Willie","Willis","Willow","Willy","Wilma","Wilmer","Wilson","Wilton","Winfield","Winifred","Winnifred","Winona","Winston","Woodrow","Wyatt","Wyman","Xander","Xavier","Xzavier","Yadira","Yasmeen","Yasmin","Yasmine","Yazmin","Yesenia","Yessenia","Yolanda","Yoshiko","Yvette","Yvonne","Zachariah","Zachary","Zachery","Zack","Zackary","Zackery","Zakary","Zander","Zane","Zaria","Zechariah","Zelda","Zella","Zelma","Zena","Zetta","Zion","Zita","Zoe","Zoey","Zoie","Zoila","Zola","Zora","Zula"];e.exports={generateUsername:function(){return r.randomElement(i)+"-"+r.randomAlphanumStr(3)}}},function(e,t,n){(function(t){"use strict";function r(e){this.versions={},this.conference=e,this.conference.addCommandListener("versions",this.processPresence.bind(this))}var i=n(9).getLogger(t),o=n(59);r.FOCUS_COMPONENT="focus",r.VIDEOBRIDGE_COMPONENT="videobridge",r.XMPP_SERVER_COMPONENT="xmpp",r.prototype.processPresence=function(e,t,n){if("http://jitsi.org/jitmeet"===e.attributes.xmlns)if(this.conference._isFocus(n)){var a=[];e.children.forEach((function(e){var t=e.attributes.name;if(t===r.FOCUS_COMPONENT||t===r.XMPP_SERVER_COMPONENT||t===r.VIDEOBRIDGE_COMPONENT){var n=e.value;this.versions[t]!==n&&(this.versions[t]=n,i.info("Got "+t+" version: "+n),a.push({id:"component_version",component:t,version:n}))}else i.warn("Received version for not supported component name: "+t)}).bind(this)),a.length>0&&o.sendLog(JSON.stringify(a))}else i.warn("Received versions not from the focus user: "+e,n);else i.warn("Ignored presence versions node - invalid xmlns",e)},r.prototype.getComponentVersion=function(e){return this.versions[e]},e.exports=r}).call(t,"modules/version/ComponentsVersions.js")},function(e,t,n){(function(t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){this.conference=e,e.on(a.TRACK_MUTE_CHANGED,function(t){t.isLocal()&&e.statistics&&e.statistics.sendMuteEvent(t.isMuted(),t.getType())})}var o=r(n(1)),a=r(n(2)),s=n(9).getLogger(t),c=n(146),l=n(35),u=n(49),d=n(38),p=n(59),f=n(36);i.prototype.setupChatRoomListeners=function(){var e=this.conference,t=e.room;this.chatRoomForwarder=new c(t,this.conference.eventEmitter),t.addListener(l.ICE_RESTARTING,function(){e.rtc.closeAllDataChannels()}),t.addListener(l.REMOTE_TRACK_ADDED,function(t){var n=e.rtc.createRemoteTrack(t);n&&e.onTrackAdded(n)}),t.addListener(l.REMOTE_TRACK_REMOVED,function(t,n){e.getParticipants().forEach(function(r){for(var i=r.getTracks(),o=0;o<i.length;o++)if(i[o]&&i[o].getStreamId()==t&&i[o].getTrackId()==n){var s=r._tracks.splice(o,1)[0];return e.rtc.removeRemoteTrack(r.getId(),s.getType()),e.eventEmitter.emit(a.TRACK_REMOVED,s),void(e.transcriber&&e.transcriber.removeTrack(s))}})}),t.addListener(l.AUDIO_MUTED_BY_FOCUS,function(t){e.rtc.setAudioMute(t).then(function(){e.isMutedByFocus=!0},function(){s.warn("Error while audio muting due to focus request")})}),this.chatRoomForwarder.forward(l.SUBJECT_CHANGED,a.SUBJECT_CHANGED),this.chatRoomForwarder.forward(l.MUC_JOINED,a.CONFERENCE_JOINED),t.addListener(l.MUC_JOINED,function(){for(var e in t.connectionTimes)p.analytics.sendEvent("conference."+e,{value:t.connectionTimes[e]});for(var n in t.xmpp.connectionTimes)p.analytics.sendEvent("xmpp."+n,{value:t.xmpp.connectionTimes[n]})}),this.chatRoomForwarder.forward(l.ROOM_JOIN_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(l.ROOM_CONNECT_ERROR,a.CONFERENCE_FAILED,o.CONNECTION_ERROR),this.chatRoomForwarder.forward(l.ROOM_CONNECT_NOT_ALLOWED_ERROR,a.CONFERENCE_FAILED,o.NOT_ALLOWED_ERROR),this.chatRoomForwarder.forward(l.ROOM_MAX_USERS_ERROR,a.CONFERENCE_FAILED,o.CONFERENCE_MAX_USERS),this.chatRoomForwarder.forward(l.PASSWORD_REQUIRED,a.CONFERENCE_FAILED,o.PASSWORD_REQUIRED),this.chatRoomForwarder.forward(l.AUTHENTICATION_REQUIRED,a.CONFERENCE_FAILED,o.AUTHENTICATION_REQUIRED),this.chatRoomForwarder.forward(l.BRIDGE_DOWN,a.CONFERENCE_FAILED,o.VIDEOBRIDGE_NOT_AVAILABLE),t.addListener(l.BRIDGE_DOWN,function(){p.analytics.sendEvent("conference.bridgeDown")}),this.chatRoomForwarder.forward(l.RESERVATION_ERROR,a.CONFERENCE_FAILED,o.RESERVATION_ERROR),this.chatRoomForwarder.forward(l.GRACEFUL_SHUTDOWN,a.CONFERENCE_FAILED,o.GRACEFUL_SHUTDOWN),t.addListener(l.JINGLE_FATAL_ERROR,function(t,n){e.eventEmitter.emit(a.CONFERENCE_FAILED,o.JINGLE_FATAL_ERROR,n)}),t.addListener(l.CONNECTION_ICE_FAILED,function(){t.eventEmitter.emit(l.CONFERENCE_SETUP_FAILED,new Error("ICE fail"))}),this.chatRoomForwarder.forward(l.MUC_DESTROYED,a.CONFERENCE_FAILED,o.CONFERENCE_DESTROYED),this.chatRoomForwarder.forward(l.CHAT_ERROR_RECEIVED,a.CONFERENCE_ERROR,o.CHAT_ERROR),this.chatRoomForwarder.forward(l.FOCUS_DISCONNECTED,a.CONFERENCE_FAILED,o.FOCUS_DISCONNECTED),t.addListener(l.FOCUS_LEFT,function(){p.analytics.sendEvent("conference.focusLeft"),e.eventEmitter.emit(a.CONFERENCE_FAILED,o.FOCUS_LEFT)}),t.addListener(l.SESSION_ACCEPT_TIMEOUT,(function(e){p.sendEventToAll("conference.error."+e)}).bind(null,"sessionAcceptTimeout")),this.chatRoomForwarder.forward(l.CONNECTION_INTERRUPTED,a.CONNECTION_INTERRUPTED),t.addListener(l.CONNECTION_INTERRUPTED,function(){p.sendEventToAll("connection.interrupted")}),this.chatRoomForwarder.forward(l.RECORDER_STATE_CHANGED,a.RECORDER_STATE_CHANGED),this.chatRoomForwarder.forward(l.PHONE_NUMBER_CHANGED,a.PHONE_NUMBER_CHANGED),this.chatRoomForwarder.forward(l.CONNECTION_RESTORED,a.CONNECTION_RESTORED),t.addListener(l.CONNECTION_RESTORED,function(){p.sendEventToAll("connection.restored")}),this.chatRoomForwarder.forward(l.CONFERENCE_SETUP_FAILED,a.CONFERENCE_FAILED,o.SETUP_FAILED),t.setParticipantPropertyListener(function(t,n){var r=e.getParticipantById(n);r&&r.setProperty(t.tagName.substring("jitsi_participant_".length),t.value)}),this.chatRoomForwarder.forward(l.KICKED,a.KICKED),t.addListener(l.KICKED,function(){e.room=null,e.leave.bind(e)}),this.chatRoomForwarder.forward(l.MUC_LOCK_CHANGED,a.LOCK_STATE_CHANGED),t.addListener(l.MUC_MEMBER_JOINED,e.onMemberJoined.bind(e)),t.addListener(l.MUC_MEMBER_LEFT,e.onMemberLeft.bind(e)),this.chatRoomForwarder.forward(l.MUC_LEFT,a.CONFERENCE_LEFT),t.addListener(l.DISPLAY_NAME_CHANGED,e.onDisplayNameChanged.bind(e)),t.addListener(l.LOCAL_ROLE_CHANGED,function(t){e.eventEmitter.emit(a.USER_ROLE_CHANGED,e.myUserId(),t),e.statistics&&e.isModerator()&&e.on(a.RECORDER_STATE_CHANGED,function(e,t){var n={id:"recorder_status",status:e};t&&(n.error=t),p.sendLog(JSON.stringify(n))})}),t.addListener(l.MUC_ROLE_CHANGED,e.onUserRoleChanged.bind(e)),t.addListener(d.IDENTITY_UPDATED,function(t,n){e.authEnabled=t,e.authIdentity=n,e.eventEmitter.emit(a.AUTH_STATUS_CHANGED,t,n)}),t.addListener(l.MESSAGE_RECEIVED,function(t,n,r,i,o){var s=Strophe.getResourceFromJid(t);e.eventEmitter.emit(a.MESSAGE_RECEIVED,s,r,o)}),t.addListener(l.PRESENCE_STATUS,function(t,n){var r=Strophe.getResourceFromJid(t),i=e.getParticipantById(r);i&&i._status!==n&&(i._status=n,e.eventEmitter.emit(a.USER_STATUS_CHANGED,r,n))}),e.room.addListener(l.LOCAL_UFRAG_CHANGED,function(e){p.sendLog(JSON.stringify({id:"local_ufrag",value:e}))}),e.room.addListener(l.REMOTE_UFRAG_CHANGED,function(e){p.sendLog(JSON.stringify({id:"remote_ufrag",value:e}))}),t.addPresenceListener("startmuted",function(t,n){var r=!1;if(e.myUserId()===n&&e.isModerator())r=!0;else{var i=e.getParticipantById(n);i&&i.isModerator()&&(r=!0)}if(r){var o="true"===t.attributes.audio,s="true"===t.attributes.video,c=!1;o!==e.startMutedPolicy.audio&&(e.startMutedPolicy.audio=o,c=!0),s!==e.startMutedPolicy.video&&(e.startMutedPolicy.video=s,c=!0),c&&e.eventEmitter.emit(a.START_MUTED_POLICY_CHANGED,e.startMutedPolicy)}}),t.addPresenceListener("videomuted",function(t,n){e.rtc.handleRemoteTrackMute(f.VIDEO,"true"==t.value,n)}),t.addPresenceListener("audiomuted",function(t,n){e.rtc.handleRemoteTrackMute(f.AUDIO,"true"==t.value,n)}),t.addPresenceListener("videoType",function(t,n){e.rtc.handleRemoteTrackVideoTypeChanged(t.value,n)}),t.addPresenceListener("devices",function(t,n){var r,i=!1,o=!1;if(t.children.forEach(function(e){"audio"===e.tagName&&(i="true"===e.value),"video"===e.tagName&&(o="true"===e.value)}),e.myUserId()===n)r=e.availableDevices;else{var s=e.getParticipantById(n);if(!s)return;r=s._availableDevices}var c=!1;r.audio!==i&&(c=!0,r.audio=i),r.video!==o&&(c=!0,r.video=o),c&&e.eventEmitter.emit(a.AVAILABLE_DEVICES_CHANGED,n,r)}),e.statistics&&(t.addListener(l.CONNECTION_ICE_FAILED,function(t){e.statistics.sendIceConnectionFailedEvent(t)}),t.addListener(l.CREATE_OFFER_FAILED,function(t,n){e.statistics.sendCreateOfferFailed(t,n)}),t.addListener(l.CREATE_ANSWER_FAILED,function(t,n){e.statistics.sendCreateAnswerFailed(t,n)}),t.addListener(l.SET_LOCAL_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetLocalDescFailed(t,n)}),t.addListener(l.SET_REMOTE_DESCRIPTION_FAILED,function(t,n){e.statistics.sendSetRemoteDescFailed(t,n)}),t.addListener(l.ADD_ICE_CANDIDATE_FAILED,function(t,n){e.statistics.sendAddIceCandidateFailed(t,n)}))},i.prototype.setupRTCListeners=function(){var e=this.conference;this.rtcForwarder=new c(e.rtc,this.conference.eventEmitter),e.rtc.addListener(u.DOMINANTSPEAKER_CHANGED,function(t){e.lastDominantSpeaker!==t&&e.room&&(e.lastDominantSpeaker=t,e.eventEmitter.emit(a.DOMINANT_SPEAKER_CHANGED,t)),e.statistics&&e.myUserId()===t&&e.statistics.sendDominantSpeakerEvent()}),e.rtc.addListener(u.DATA_CHANNEL_OPEN,function(){var t=window.performance.now();s.log("(TIME) data channel opened ",t),e.room.connectionTimes["data.channel.opened"]=t,p.analytics.sendEvent("conference.dataChannel.open",{value:t})}),this.rtcForwarder.forward(u.LASTN_CHANGED,a.IN_LAST_N_CHANGED),this.rtcForwarder.forward(u.LASTN_ENDPOINT_CHANGED,a.LAST_N_ENDPOINTS_CHANGED),e.rtc.addListener(u.AVAILABLE_DEVICES_CHANGED,function(t){e.room.updateDeviceAvailability(t)}),e.rtc.addListener(u.ENDPOINT_MESSAGE_RECEIVED,function(t,n){e.eventEmitter.emit(a.ENDPOINT_MESSAGE_RECEIVED,e.getParticipantById(t),n)})},i.prototype.setupXMPPListeners=function(){var e=this.conference;e.xmpp.addListener(l.CALL_INCOMING,e.onIncomingCall.bind(e)),e.xmpp.addListener(l.CALL_ENDED,e.onCallEnded.bind(e)),e.xmpp.addListener(l.START_MUTED_FROM_FOCUS,function(t,n){e.startAudioMuted=t,e.startVideoMuted=n,e.getLocalTracks().forEach(function(t){switch(t.getType()){case f.AUDIO:e.startAudioMuted&&t.mute();break;case f.VIDEO:e.startVideoMuted&&t.mute()}}),e.eventEmitter.emit(a.STARTED_MUTED)})},i.prototype.setupStatisticsListeners=function(){var e=this.conference;e.statistics&&(e.statistics.addAudioLevelListener(function(t,n){var r=e.rtc.getResourceBySSRC(t);r&&e.rtc.setAudioLevel(r,n)}),e.statistics.addConnectionStatsListener(function(t){var n=t.resolution,r={};Object.keys(n).forEach(function(t){var i=n[t];if(i.width&&i.height&&-1!=i.width&&-1!=i.height){var o=e.rtc.getResourceBySSRC(t);if(o){var a=r[o]||{};a[t]=i,r[o]=a}}}),t.resolution=r,e.eventEmitter.emit(a.CONNECTION_STATS,t)}),e.statistics.addAudioProblemListener(function(t){e._reportAudioProblem(t)}),e.statistics.addByteSentStatsListener(function(t){e.getLocalTracks().forEach(function(e){var n=e.getSSRC();e.isAudioTrack()&&n&&t.hasOwnProperty(n)&&e._setByteSent(t[n])})}))},e.exports=i}).call(t,"JitsiConferenceEventManager.js")},function(e,t){"use strict";function n(e,t){if(!e||!t||"function"!=typeof e.addListener||"function"!=typeof t.emit)throw new Error("Invalid arguments passed to EventEmitterForwarder");this.src=e,this.dest=t}n.prototype.forward=function(){var e=arguments,t=e[0];e[0]=this.dest,this.src.addListener(t,Function.prototype.bind.apply(this.dest.emit,e))},e.exports=n},function(e,t,n){"use strict";var r=n(148),i=n(150),o="before",a="recording",s="transcribing",c="finished",l=function(){this.audioRecorder=new r,this.transcriptionService=new i,this.counter=null,this.startTime=null,this.transcription=null,this.callback=null,this.results=[],this.state=o,this.lineLength=0};l.prototype.start=function(){if(this.state!==o)throw new Error("The transcription can only start when it's in the\""+o+'" state. It\'s currently in the "'+this.state+'" state');this.state=a,this.audioRecorder.start(),this.startTime=new Date},l.prototype.stop=function(e){if(this.state!==a)throw new Error("The transcription can only stop when it's in the\""+a+'" state. It\'s currently in the "'+this.state+'" state');console.log("stopping recording and sending audio files"),this.audioRecorder.stop();var t=this,n=u.bind(this);this.audioRecorder.getRecordingResults().forEach(function(e){t.transcriptionService.send(e,n),t.counter++}),this.state=s,this.callback=e};var u=function(e){if(console.log("retrieved an answer from the transcription service. The answer has an array of length: "+e.wordArray.length),e.wordArray.length>0){var t=e.startTime.getUTCMilliseconds()-this.startTime.getUTCMilliseconds();t<0&&(t=0);var n="[";e.wordArray.forEach(function(e){e.begin+=t,e.end+=t,n+=e.word+","}),n+="]",console.log(n),e.wordArray.name=e.name}this.results.push(e.wordArray),this.counter--,console.log("current counter: "+this.counter),this.maybeMerge()};l.prototype.maybeMerge=function(){this.state===s&&0===this.counter&&this.merge()},l.prototype.merge=function(){console.log("starting merge process!\n The length of the array: "+this.results.length),this.transcription="";var e,t,n,r=this.results,i=[];for(d(r),r.forEach(function(e){p(i,e)});d(r);)for(e=r[0],r.forEach(function(t){t[0].begin<e[0].begin&&(e=t)}),t=e.shift(),this.updateTranscription(t,e.name);!n&&e.length>0;)r.forEach(function(t){t[0].begin<e[0].begin&&(n=!0)}),n||(t=e.shift(),this.updateTranscription(t,null));this.state=c,this.callback&&this.callback(this.transcription)},l.prototype.updateTranscription=function(e,t){null!=t&&(this.transcription+="\n"+t+":",this.lineLength=t.length+1),this.lineLength+e.word.length>80&&(this.transcription+="\n    ",this.lineLength=4),this.transcription+=" "+e.word,this.lineLength+=e.word.length+1};var d=function(e){var t;for(t=0;t<e.length;t++)0===e[t].length&&e.splice(t,1);return e.length>0},p=function(e,t){if(0===e.length)e.push(t);else{if(e[e.length-1].begin<=t.begin)return void e.push(t);var n;for(n=0;n<e.length;n++)if(t.begin<e[n].begin)return void e.splice(n,0,t);e.push(t)}};l.prototype.addTrack=function(e){this.audioRecorder.addTrack(e)},l.prototype.removeTrack=function(e){this.audioRecorder.removeTrack(e)},l.prototype.getTranscription=function(){if(this.state!==c)throw new Error("The transcription can only be retrieved when it's in the\""+c+'" state. It\'s currently in the "'+this.state+'" state');return this.transcription},l.prototype.getState=function(){return this.state},l.prototype.reset=function(){this.state=o,this.counter=null,this.transcription=null,this.startTime=null,this.callback=null,this.results=[],this.lineLength=0},e.exports=l},function(e,t,n){"use strict";function r(e){if(void 0===e.recorder)throw new Error("Passed an object to startRecorder which is not a TrackRecorder object");e.recorder.start(),e.startTime=new Date}function i(e){if(void 0===e.recorder)throw new Error("Passed an object to stopRecorder which is not a TrackRecorder object");e.recorder.stop()}function o(){if(MediaRecorder.isTypeSupported(s))return s;if(MediaRecorder.isTypeSupported(c))return c;throw new Error("unable to create a MediaRecorder with theright mimetype!")}var a=n(149),s="audio/webm",c="audio/ogg",l=function(e){this.track=e,this.recorder=null,this.data=null,this.name=null,this.startTime=null},u=function(e){this.recorders=[],this.fileType=o(),this.isRecording=!1,this.jitsiConference=e};u.determineCorrectFileType=o,u.prototype.addTrack=function(e){if(e.isAudioTrack()){var t=function(e){var t=new l(e),n=t.track.getOriginalStream(),r=function(){if("undefined"!=typeof MediaStream)return new MediaStream;if("undefined"!=typeof webkitMediaStream)return new webkitMediaStream;throw new Error("cannot create a clean mediaStream")}();return n.getAudioTracks().forEach(function(e){r.addTrack(e)}),t.recorder=new MediaRecorder(r,{mimeType:u.fileType}),t.data=[],t.recorder.ondataavailable=function(e){e.data.size>0&&t.data.push(e.data)},t}(e);this.recorders.push(t),this.updateNames(),this.isRecording&&r(t)}},u.prototype.removeTrack=function(e){if(!e.isVideoTrack()){var t,n=this.recorders;for(t=0;t<n.length;t++)n[t].track.getParticipantId()===e.getParticipantId()&&(this.isRecording?i(n[t]):n.splice(t,1));this.updateNames()}},u.prototype.updateNames=function(){var e=this.jitsiConference;this.recorders.forEach(function(t){if(t.track.isLocal())t.name="the transcriber";else{var n=t.track.getParticipantId(),r=e.getParticipantById(n).getDisplayName();"undefined"!==r&&(t.name=r)}})},u.prototype.start=function(){if(this.isRecording)throw new Error("audiorecorder is already recording");this.isRecording=!0,this.recorders.forEach(function(e){r(e)}),console.log("Started the recording of the audio. There are currently "+this.recorders.length+" recorders active.")},u.prototype.stop=function(){this.isRecording=!1,this.recorders.forEach(function(e){i(e)}),console.log("stopped recording")},u.prototype.download=function(){var e=this;this.recorders.forEach(function(t){var n=new Blob(t.data,{type:e.fileType}),r=URL.createObjectURL(n),i=document.createElement("a");document.body.appendChild(i),i.style="display: none",i.href=r,i.download="test."+e.fileType.split("/")[1],i.click(),window.URL.revokeObjectURL(r)})},u.prototype.getRecordingResults=function(){if(this.isRecording)throw new Error("cannot get blobs because the AudioRecorder is stillrecording!");this.updateNames();var e=[],t=this;return this.recorders.forEach(function(n){e.push(new a(new Blob(n.data,{type:t.fileType}),n.name,n.startTime))}),e},u.prototype.getFileType=function(){return this.fileType},e.exports=u},function(e,t){"use strict";e.exports=function(e,t,n,r){this.blob=e,this.name=t,this.startTime=n,this.wordArray=r}},function(e,t,n){"use strict";var r=n(151),i=n(152),o=n(148),a=function(){this.url=function(){var e="config does not contain an url to a Sphinx4 https server";if(void 0===config.sphinxURL)console.log(e);else{var t=config.sphinxURL;if(void 0!==t.includes&&t.includes("https://"))return t;console.log(e)}}()};a.prototype=Object.create(r.prototype),a.constructor=a,a.prototype.sendRequest=function(e,t){console.log("sending an audio file  to "+this.url),console.log("the audio file being sent: "+e);var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState===XMLHttpRequest.DONE&&200===n.status)t(n.responseText);else if(n.readyState===XMLHttpRequest.DONE)throw new Error("unable to accept response from sphinx server.status: "+n.status)},n.open("POST",this.url),n.setRequestHeader("Content-Type",o.determineCorrectFileType()),n.send(e),console.log("send "+e)},a.prototype.formatResponse=function(e){var t=JSON.parse(e).objects;t.shift();var n=[];return t.forEach(function(e){e.filler||n.push(new i(e.word,e.start,e.end))}),n},a.prototype.verify=function(e){if(console.log("response from server:"+e.toString()),"string"!=typeof e)return!1;var t;try{t=JSON.parse(e)}catch(e){return console.log(e),!1}if(void 0===t.objects)return!1;var n=t.objects;return!(!n[0]||!n[0]["session-id"])},e.exports=a},function(e,t){"use strict";var n=function(){throw new Error("TranscriptionService is abstract and cannot becreated")};n.prototype.send=function(e,t){var n=this;this.sendRequest(e.blob,function(r){n.verify(r)?(e.wordArray=n.formatResponse(r),t(e)):(console.log("the retrieved response from the server is not valid!"),e.wordArray=[],t(e))})},n.prototype.sendRequest=function(e,t){throw new Error("TranscriptionService.sendRequest is abstract")},n.prototype.formatResponse=function(e){throw new Error("TranscriptionService.format is abstract")},n.prototype.verify=function(e){throw new Error("TranscriptionService.verify is abstract")},e.exports=n},function(e,t){"use strict";var n=function(e,t,n){this.word=e,this.begin=t,this.end=n};n.prototype.getWord=function(){return this.word},n.prototype.getBeginTime=function(){return this.begin},n.prototype.getEndTime=function(){return this.end},e.exports=n},function(e,t,n){(function(t){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t,n){this.rtc=e,this.conference=t,this.trackTimers={},this.rtcMuteTimeout="number"==typeof n?n:p,c.info("RtcMuteTimeout set to: "+this.rtcMuteTimeout)}var o=r(n(2)),a=r(n(8)),s=function(e){return e&&e.__esModule?e:{default:e}}(n(59)),c=n(9).getLogger(t),l=n(36),u=n(32),d=n(49),p=2e3;i.prototype.init=function(){this._onEndpointConnStatusChanged=this.onEndpointConnStatusChanged.bind(this),this.rtc.addListener(d.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),u.isVideoMuteOnConnInterruptedSupported()&&(this._onTrackRtcMuted=this.onTrackRtcMuted.bind(this),this.rtc.addListener(d.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this._onTrackRtcUnmuted=this.onTrackRtcUnmuted.bind(this),this.rtc.addListener(d.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this._onRemoteTrackAdded=this.onRemoteTrackAdded.bind(this),this.conference.on(o.TRACK_ADDED,this._onRemoteTrackAdded),this._onRemoteTrackRemoved=this.onRemoteTrackRemoved.bind(this),this.conference.on(o.TRACK_REMOVED,this._onRemoteTrackRemoved),this._onSignallingMuteChanged=this.onSignallingMuteChanged.bind(this))},i.prototype.dispose=function(){this.rtc.removeListener(d.ENDPOINT_CONN_STATUS_CHANGED,this._onEndpointConnStatusChanged),u.isVideoMuteOnConnInterruptedSupported()&&(this.rtc.removeListener(d.REMOTE_TRACK_MUTE,this._onTrackRtcMuted),this.rtc.removeListener(d.REMOTE_TRACK_UNMUTE,this._onTrackRtcUnmuted),this.conference.off(o.TRACK_ADDED,this._onRemoteTrackAdded),this.conference.off(o.TRACK_REMOVED,this._onRemoteTrackRemoved)),Object.keys(this.trackTimers).forEach((function(e){this.clearTimeout(e)}).bind(this))},i.prototype.onEndpointConnStatusChanged=function(e,t){if(c.debug("Detector RTCEvents.ENDPOINT_CONN_STATUS_CHANGED("+Date.now()+"): "+e+": "+t),e!==this.conference.myUserId()){var n=this.conference.getParticipantById(e);t&&u.isVideoMuteOnConnInterruptedSupported()&&n&&function(e){return e.getTracks().some(function(e){var t=e.getTrack();return e.getType()===l.VIDEO&&t&&!0===t.muted})}(n)&&!n.isVideoMuted()?c.debug("Ignoring RTCEvents.ENDPOINT_CONN_STATUS_CHANGED - will wait for unmute event"):this._changeConnectionStatus(e,t)}},i.prototype._changeConnectionStatus=function(e,t){var n=this.conference.getParticipantById(e);return n?void(n.isConnectionActive()!==t&&(n._setIsConnectionActive(t),c.debug("Emit endpoint conn status("+Date.now()+"): ",e,t),s.default.sendLog(JSON.stringify({id:"peer.conn.status",participant:e,status:t})),s.default.analytics.sendEvent("peer.conn.status",{label:t}),this.conference.eventEmitter.emit(o.PARTICIPANT_CONN_STATUS_CHANGED,e,t))):void c.warn("Missed participant connection status update - no participant for endpoint: "+e)},i.prototype.clearTimeout=function(e){this.trackTimers[e]&&(window.clearTimeout(this.trackTimers[e]),this.trackTimers[e]=null)},i.prototype.onRemoteTrackAdded=function(e){e.isLocal()||e.getType()!==l.VIDEO||(c.debug("Detector on remote track added: ",e.getParticipantId()),e.on(a.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged))},i.prototype.onRemoteTrackRemoved=function(e){e.isLocal()||e.getType()!==l.VIDEO||(c.debug("Detector on remote track removed: ",e.getParticipantId()),e.off(a.TRACK_MUTE_CHANGED,this._onSignallingMuteChanged),this.clearTimeout(e.getParticipantId()))},i.prototype.onTrackRtcMuted=function(e){var t=e.getParticipantId(),n=this.conference.getParticipantById(t);return c.debug("Detector track RTC muted: ",t),n?void(n.isVideoMuted()||(this.trackTimers[t]=window.setTimeout((function(){!e.isMuted()&&n.isConnectionActive()&&(c.info("Connection interrupted through the RTC mute: "+t,Date.now()),this._changeConnectionStatus(t,!1)),this.clearTimeout(t)}).bind(this),this.rtcMuteTimeout))):void c.error("No participant for id: "+t)},i.prototype.onTrackRtcUnmuted=function(e){c.debug("Detector track RTC unmuted: ",e);var t=e.getParticipantId();e.isMuted()||this.conference.getParticipantById(t).isConnectionActive()||(c.info("Detector connection restored through the RTC unmute: "+t,Date.now()),this._changeConnectionStatus(t,!0)),this.clearTimeout(t)},i.prototype.onSignallingMuteChanged=function(e){c.debug("Detector on track signalling mute changed: ",e,e.isMuted());var t=e.isMuted(),n=e.getParticipantId(),r=this.conference.getParticipantById(n);if(r){var i=r.isConnectionActive();t&&i&&this.trackTimers[n]&&(c.debug("Signalling got in sync - cancelling task for: "+n),this.clearTimeout(n))}else c.error("No participant for id: "+n)},e.exports=i}).call(t,"modules/connectivity/ParticipantConnectionStatus.js")},function(e,t,n){"use strict";function r(e,t){var n=t.find(function(t){return"audiooutput"===t.kind&&t.deviceId===e});n&&l.sendActiveDeviceListEvent(s.getEventDataForActiveDevice(n))}var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5)),o=n(14),a=n(49),s=n(48),c=n(36),l=n(59),u=new o;s.addListener(a.DEVICE_LIST_CHANGED,function(e){u.emit(i.DEVICE_LIST_CHANGED,e)}),s.addListener(a.DEVICE_LIST_AVAILABLE,function(e){r(d.getAudioOutputDevice(),e)});var d={enumerateDevices:function(e){s.enumerateDevices(e)},isDeviceListAvailable:function(){return s.isDeviceListAvailable()},isDeviceChangeAvailable:function(e){return s.isDeviceChangeAvailable(e)},isDevicePermissionGranted:function(e){var t=s.getDeviceAvailability();switch(e){case c.VIDEO:return!0===t.video;case c.AUDIO:return!0===t.audio;default:return!0===t.video&&!0===t.audio}},getAudioOutputDevice:function(){return s.getAudioOutputDevice()},setAudioOutputDevice:function(e){var t=s.getCurrentlyAvailableMediaDevices();return t&&t.length>0&&r(e,s.getCurrentlyAvailableMediaDevices()),s.setAudioOutputDevice(e)},addEventListener:function(e,t){u.addListener(e,t)},removeEventListener:function(e,t){u.removeListener(e,t)},emitEvent:function(e){u.emit.apply(u,arguments)}};e.exports=d},function(e,t,n){(function(t){"use strict";var r=n(9).getLogger(t),i=n(32),o={getVideoElementName:function(){return i.isTemasysPluginUsed()?"object":"video"},findVideoElement:function(e){var t=o.getVideoElementName();if(!i.isTemasysPluginUsed())return $(e).find(t)[0];var n=$(e).find(" "+t+'>param[value="video"]');return n.length?(n.length>1&&r.warn("Container with more than one video elements: ",e),n.parent()[0]):void 0},setVolume:function(e,t){i.isIExplorer()||(e.volume=t)},setAutoPlay:function(e,t){i.isIExplorer()||(e.autoplay=t)}};e.exports=o}).call(t,"modules/RTC/RTCUIHelper.js")}]),window.JitsiMeetJS};"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.JitsiMeetJS=n():e.JitsiMeetJS=n()}(this);