!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var o=0;o<t.length;o++){var i=t[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8798],{72620:function(t,i,n){"use strict";n.d(i,{Y:function(){return l}});var a=n(37716),r=n(76458),l=function(){var t=function(){function t(o){e(this,t),this.snackbar=o}return o(t,[{key:"success",value:function(e){return this.snackbar.open(e,void 0,{duration:3e3,panelClass:["snackbar-success"]})}},{key:"error",value:function(e){return this.snackbar.open(e,void 0,{duration:3e3,panelClass:["snackbar-error"]})}}]),t}();return t.\u0275fac=function(e){return new(e||t)(a.LFG(r.ux))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()},8798:function(t,i,n){"use strict";n.r(i),n.d(i,{CreateTaskModule:function(){return ne}});var a=n(38583),r=n(95987),l=n(3679),c=n(37716),u=n(91841),s=n(26215),m=n(40205),g=n(5304),d=function(){var t=function(){function t(o){e(this,t),this.http=o,this.isLoading=new s.X(!1),this.$isLoading=this.isLoading.asObservable()}return o(t,[{key:"formatErrors",value:function(e){return(0,m._)(e.error)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.LE;return this.setIsLoading=!0,this.http.get("".concat(e),{params:t,observe:"response"}).pipe((0,g.K)(this.formatErrors))}},{key:"put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setIsLoading=!0,this.http.put("".concat(e),t,{observe:"response"}).pipe((0,g.K)(this.formatErrors))}},{key:"post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setIsLoading=!0,this.http.post("".concat(e),t).pipe((0,g.K)(this.formatErrors))}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new u.LE;return this.setIsLoading=!0,this.http.delete("".concat(e),{params:t}).pipe((0,g.K)(this.formatErrors))}},{key:"setIsLoading",set:function(e){this.isLoading.next(e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(c.LFG(u.eN))},t.\u0275prov=c.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),f=n(72620);function p(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.Oqu(o.name)}}function v(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function Z(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,v,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.f.type.errors.required)}}function _(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function h(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,_,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.f.programname.errors.required)}}function T(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function x(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,T,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.f.user_id.errors.required)}}function A(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function q(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,A,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.f.task_name.errors.required)}}function y(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.Oqu(o.name)}}function N(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function b(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,N,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.f.task_type.errors.required)}}function k(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij("",o.name," ")}}function w(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function F(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,w,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.f.comp_render_type.errors.required)}}function E(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij("",o.name," ")}}function I(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function S(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,I,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.contentsendFG.controls.type.errors.required)}}function U(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij("",o.name," ")}}function C(e,t){1&e&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function J(e,t){if(1&e&&(c.TgZ(0,"div",26),c.YNc(1,C,2,0,"div",24),c.qZA()),2&e){var o=c.oxw();c.xp6(1),c.Q6J("ngIf",o.contentsendFG.controls.ack.errors.required)}}function Y(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij(" ",o.name," ")}}function Q(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij("",o.name," ")}}function P(e,t){if(1&e){var o=c.EpF();c.TgZ(0,"div",33),c.TgZ(1,"button",34),c.NdJ("click",function(){return c.CHM(o),c.oxw(2).addActions()}),c._uU(2,"+ Add another Action"),c.qZA(),c.qZA()}}function M(e,t){if(1&e){var o=c.EpF();c.TgZ(0,"div",33),c.TgZ(1,"button",35),c.NdJ("click",function(){c.CHM(o);var e=c.oxw().index;return c.oxw().removeAction(e)}),c._uU(2,"- Remove Action"),c.qZA(),c.qZA()}}function O(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij(" ",o.name," ")}}function G(e,t){if(1&e&&(c.TgZ(0,"option",25),c._uU(1),c.qZA()),2&e){var o=t.$implicit;c.Q6J("value",o.value),c.xp6(1),c.hij(" ",o.name," ")}}function R(e,t){if(1&e){var o=c.EpF();c.TgZ(0,"div",41),c.TgZ(1,"button",34),c.NdJ("click",function(){c.CHM(o);var e=c.oxw(2).index;return c.oxw().addActionData(e)}),c._uU(2,"+ Add sub Action"),c.qZA(),c.qZA()}}function L(e,t){if(1&e){var o=c.EpF();c.TgZ(0,"div",41),c.TgZ(1,"button",35),c.NdJ("click",function(){c.CHM(o);var e=c.oxw().index,t=c.oxw().index;return c.oxw().removeActionData(t,e)}),c._uU(2,"- Remove sub Action"),c.qZA(),c.qZA()}}function D(e,t){1&e&&(c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"label",42),c._uU(3,"Message Title"),c.qZA(),c.TgZ(4,"textarea",43),c._uU(5,"                                            "),c.qZA(),c.qZA(),c.TgZ(6,"div",6),c.TgZ(7,"label",42),c._uU(8,"Message Text"),c.qZA(),c.TgZ(9,"textarea",44),c._uU(10,"                                            "),c.qZA(),c.qZA(),c.BQk())}function H(e,t){1&e&&(c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"label",42),c._uU(3,"URL"),c.qZA(),c._UZ(4,"input",45),c.qZA(),c.BQk())}function j(e,t){if(1&e){var o=c.EpF();c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"label",42),c._uU(3,"Voice Message"),c.qZA(),c.TgZ(4,"input",46),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"voice_message",i,t)}),c.qZA(),c.qZA(),c.BQk()}}function K(e,t){if(1&e){var o=c.EpF();c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"label",42),c._uU(3,"Icon Image"),c.qZA(),c.TgZ(4,"input",47),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"display_image_url",i,t)}),c.qZA(),c.qZA(),c.TgZ(5,"div",6),c.TgZ(6,"label",42),c._uU(7,"Image"),c.qZA(),c.TgZ(8,"input",48),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_url",i,t)}),c.qZA(),c.qZA(),c.TgZ(9,"div",6),c.TgZ(10,"label",42),c._uU(11,"Medium Quality Image"),c.qZA(),c.TgZ(12,"input",49),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_mdpi",i,t)}),c.qZA(),c.qZA(),c.TgZ(13,"div",6),c.TgZ(14,"label",42),c._uU(15,"HD Image"),c.qZA(),c.TgZ(16,"input",50),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_hdpi",i,t)}),c.qZA(),c.qZA(),c.TgZ(17,"div",6),c.TgZ(18,"label",42),c._uU(19,"HD+ Image"),c.qZA(),c.TgZ(20,"input",51),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_xhdpi",i,t)}),c.qZA(),c.qZA(),c.TgZ(21,"div",6),c.TgZ(22,"label",42),c._uU(23,"Full HD Image"),c.qZA(),c.TgZ(24,"input",52),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_xxhdpi",i,t)}),c.qZA(),c.qZA(),c.TgZ(25,"div",6),c.TgZ(26,"label",42),c._uU(27,"Feature Phone Image"),c.qZA(),c.TgZ(28,"input",53),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_fphone",i,t)}),c.qZA(),c.qZA(),c.TgZ(29,"div",6),c.TgZ(30,"label",42),c._uU(31,"Tablet Image"),c.qZA(),c.TgZ(32,"input",54),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"image_tab",i,t)}),c.qZA(),c.qZA(),c.BQk()}}function V(e,t){if(1&e){var o=c.EpF();c.ynx(0),c.TgZ(1,"div",6),c.TgZ(2,"label",42),c._uU(3,"Message Video"),c.qZA(),c.TgZ(4,"input",55),c.NdJ("change",function(e){c.CHM(o);var t=c.oxw().index,i=c.oxw().index;return c.oxw().handleFileInput(e.target.files,"video_url",i,t)}),c.qZA(),c.qZA(),c.BQk()}}function B(e,t){if(1&e&&(c.TgZ(0,"div",36),c.ynx(1,28),c.TgZ(2,"div",6),c.TgZ(3,"label",7),c._uU(4,"Language"),c.qZA(),c.TgZ(5,"select",37),c.TgZ(6,"option",9),c._uU(7,"Select Type"),c.qZA(),c.YNc(8,O,2,2,"option",10),c.qZA(),c.qZA(),c.TgZ(9,"div",6),c.TgZ(10,"label",7),c._uU(11,"Message Type"),c.qZA(),c.TgZ(12,"select",38),c.TgZ(13,"option",9),c._uU(14,"Select Type"),c.qZA(),c.YNc(15,G,2,2,"option",10),c.qZA(),c.qZA(),c.YNc(16,R,3,0,"div",39),c.YNc(17,L,3,0,"div",39),c._UZ(18,"div",40),c.YNc(19,D,11,0,"ng-container",24),c.YNc(20,H,5,0,"ng-container",24),c.YNc(21,j,5,0,"ng-container",24),c.YNc(22,K,33,0,"ng-container",24),c.YNc(23,V,5,0,"ng-container",24),c.BQk(),c.qZA()),2&e){var o,i,n,a,r,l=t.$implicit,u=t.index,s=c.oxw(2);c.xp6(1),c.Q6J("formGroupName",u),c.xp6(7),c.Q6J("ngForOf",s.LANGUAGES),c.xp6(7),c.Q6J("ngForOf",s.MESSAGE_TYPE),c.xp6(1),c.Q6J("ngIf",0==u),c.xp6(1),c.Q6J("ngIf",u>0),c.xp6(2),c.Q6J("ngIf",(null==(o=l.get("data_type"))?null:o.value)==s.MESSAGE_TYPE[2].value),c.xp6(1),c.Q6J("ngIf",(null==(i=l.get("data_type"))?null:i.value)==s.MESSAGE_TYPE[3].value),c.xp6(1),c.Q6J("ngIf",(null==(n=l.get("data_type"))?null:n.value)==s.MESSAGE_TYPE[4].value),c.xp6(1),c.Q6J("ngIf",(null==(a=l.get("data_type"))?null:a.value)==s.MESSAGE_TYPE[0].value),c.xp6(1),c.Q6J("ngIf",(null==(r=l.get("data_type"))?null:r.value)==s.MESSAGE_TYPE[1].value)}}function $(e,t){if(1&e&&(c.TgZ(0,"div",27),c.ynx(1,28),c.TgZ(2,"div",6),c.TgZ(3,"label",7),c._uU(4,"How to Send"),c.qZA(),c.TgZ(5,"select",29),c.TgZ(6,"option",9),c._uU(7,"Select Type"),c.qZA(),c.YNc(8,Y,2,2,"option",10),c.qZA(),c.qZA(),c.TgZ(9,"div",6),c.TgZ(10,"label",7),c._uU(11,"Whom to Send"),c.qZA(),c.TgZ(12,"select",30),c.TgZ(13,"option",9),c._uU(14,"Select User"),c.qZA(),c.YNc(15,Q,2,2,"option",10),c.qZA(),c.qZA(),c.YNc(16,P,3,0,"div",31),c.YNc(17,M,3,0,"div",31),c.YNc(18,B,24,10,"div",32),c.BQk(),c.qZA()),2&e){var o=t.index,i=c.oxw();c.ekj("border-0",0==o),c.xp6(1),c.Q6J("formGroupName",o),c.xp6(7),c.Q6J("ngForOf",i.ACTION_TYPE),c.xp6(7),c.Q6J("ngForOf",i.USER_TYPE),c.xp6(1),c.Q6J("ngIf",0==o),c.xp6(1),c.Q6J("ngIf",o>0),c.xp6(1),c.Q6J("ngForOf",i.getActionDataForm(o).controls)}}function z(e,t){1&e&&(c.ynx(0),c.TgZ(1,"span",56),c._uU(2,"Create"),c.qZA(),c.BQk())}function W(e,t){1&e&&(c.ynx(0),c.TgZ(1,"span",57),c._uU(2," Please wait... "),c._UZ(3,"span",58),c.qZA(),c.BQk()),2&e&&(c.xp6(1),c.Udp("display","block"))}var X,ee,te=function(e){return{"is-invalid":e}},oe=[{path:"",component:(X=function(){function t(o,i,n,a){e(this,t),this.fb=o,this.httpService=i,this.toasterService=n,this.router=a,this.submitted=!1,this.TYPE=[{name:"Recommendation Config",value:"RecommendConfigCreate"},{name:"Recommendation Instant",value:"RecommendInstantSend"}],this.TASK_TYPE=[{name:"Info",value:"INFO"},{name:"Remind",value:"REMIND"},{name:"Query",value:"QUERY"}],this.COMP_RENDER_TYPE=[{name:"View Weekly",value:"view_weekly"},{name:"View 1",value:"view_1"},{name:"View 2",value:"view_2"}],this.WHEN_TO_SEND_TYPE=[{name:"Once",value:"ONCE"},{name:"Progressive",value:"PROGRESSIVE"},{name:"Periodic",value:"PERIODIC"},{name:"Instant",value:"INSTANT"}],this.ACK_TYPE=[{name:"Yes",value:"yes"},{name:"No",value:"no"}],this.ACTION_TYPE=[{name:"Push",value:"push"},{name:"SMS",value:"sms"},{name:"Voice",value:"voice"}],this.USER_TYPE=[{name:"Entity",value:"entity"},{name:"Caretaker",value:"caretaker"},{name:"Doctor",value:"doctor"},{name:"Nurse",value:"nurse"}],this.LANGUAGES=[{name:"Tamil",value:"TAMIL"},{name:"English",value:"ENGLISH"},{name:"Hindi",value:"HINDI"},{name:"Kannada",value:"KANNADA"}],this.MESSAGE_TYPE=[{name:"Image",value:"image"},{name:"Video",value:"video"},{name:"Text",value:"text"},{name:"Url",value:"url"},{name:"Voice",value:"voice"}],this.fileToUpload=[]}return o(t,[{key:"ngOnInit",value:function(){this.isLoading$=this.httpService.$isLoading,this.initform()}},{key:"initform",value:function(){this.creteTaskForm=this.fb.group({type:["",l.kI.required],programname:["",l.kI.required],task_name:["",l.kI.required],user_id:["",l.kI.required],task_type:["",l.kI.required],comp_render_type:["",l.kI.required],contentsend:this.fb.group({type:["",l.kI.required],ack:["",l.kI.required],single_action:this.fb.group({actions:this.fb.array([this.newAction()])})})})}},{key:"f",get:function(){return this.creteTaskForm.controls}},{key:"contentsendFG",get:function(){return this.creteTaskForm.get("contentsend")}},{key:"actionsForm",get:function(){var e;return null===(e=this.contentsendFG.get("single_action"))||void 0===e?void 0:e.get("actions")}},{key:"getActionDataForm",value:function(e){var t;return null===(t=this.actionsForm.controls[e])||void 0===t?void 0:t.get("adata")}},{key:"newAction",value:function(){return this.fb.group({action_type:"",user:"",adata:this.fb.array([this.newActionData()])})}},{key:"newActionData",value:function(){return this.fb.group({lang:"",data_type:"",message_title:"",text_message:"",voice_message:"",url:"",display_image_url:"",image_url:"",image_mdpi:"",image_hdpi:"",image_xhdpi:"",image_xxhdpi:"",image_fphone:"",image_tab:"",video_url:""})}},{key:"addActions",value:function(){this.actionsForm.push(this.newAction())}},{key:"removeAction",value:function(e){this.actionsForm.removeAt(e)}},{key:"addActionData",value:function(e){this.getActionDataForm(e).push(this.newActionData())}},{key:"removeActionData",value:function(e,t){this.getActionDataForm(e).removeAt(t)}},{key:"handleFileInput",value:function(e,t,o,i){this.fileToUpload.push(e.item(0))}},{key:"createTask",value:function(){var e=this;if(this.submitted=!0,this.creteTaskForm.valid){var t={type:this.f.type.value,mesg:this.creteTaskForm.getRawValue()};delete t.mesg.type,t.mesg=this.makeReqBody(t.mesg),this.httpService.post("https://n0dndgr8pd.execute-api.ap-south-1.amazonaws.com/ConfigRecommend",t).subscribe(function(t){e.httpService.setIsLoading=!1,e.resetForm(),e.toasterService.success("Task created successfully")},function(t){e.toasterService.error("Failed to create")})}}},{key:"getS3Path",value:function(e){var t=this;this.httpService.post("https://xvgqonpq41.execute-api.ap-south-1.amazonaws.com/UploadMyFile",{type:"FileUploadGetUrl",mesg:{programname:e.programname,user_id:e.user_id,file_name:e.fileName}}).subscribe(function(o){t.uploadFileToS3(o,e.fileName)},function(e){t.toasterService.error("Failed to fetch upload file url")})}},{key:"uploadFileToS3",value:function(e,t){var o=this;this.fileToUpload.forEach(function(i){i.name==t&&o.httpService.put(e,i).subscribe(function(e){console.log("file uploaded",e)},function(e){o.toasterService.error("Failed to upload file")})})}},{key:"makeReqBody",value:function(e){var t=this;return e.contentsend.single_action.actions.forEach(function(o){o.adata.forEach(function(o){switch(o.data_type){case t.MESSAGE_TYPE[0].value:o.display_image_url&&(o.display_image_url=t.getFileName(o.display_image_url),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.display_image_url})),o.image_url&&(o.image_url=t.getFileName(o.image_url),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_url})),o.image_mdpi&&(o.image_url=t.getFileName(o.image_mdpi),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_mdpi})),o.image_hdpi&&(o.image_url=t.getFileName(o.image_hdpi),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_hdpi})),o.image_xhdpi&&(o.image_url=t.getFileName(o.image_xhdpi),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_xhdpi})),o.image_xxhdpi&&(o.image_url=t.getFileName(o.image_xxhdpi),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_xxhdpi})),o.image_fphone&&(o.image_url=t.getFileName(o.image_fphone),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_fphone})),o.image_tab&&(o.image_url=t.getFileName(o.image_tab),t.getS3Path({programname:e.programname,user_id:e.user_id,fileName:o.image_tab}));break;case t.MESSAGE_TYPE[1].value:o.video_url=t.getFileName(o.video_url),t.getS3Path({programname:e.programname,fileName:t.getFileName(o.video_url)});break;case t.MESSAGE_TYPE[4].value:o.voice_message=t.getFileName(o.voice_message),t.getS3Path({programname:e.programname,fileName:t.getFileName(o.voice_message)})}})}),e}},{key:"resetForm",value:function(){this.submitted=!1,this.creteTaskForm.reset(),this.fileToUpload=[]}},{key:"getFileName",value:function(e){var t;return null===(t=null==e?void 0:e.split("\\"))||void 0===t?void 0:t.pop()}}]),t}(),X.\u0275fac=function(e){return new(e||X)(c.Y36(l.qu),c.Y36(d),c.Y36(f.Y),c.Y36(r.F0))},X.\u0275cmp=c.Xpm({type:X,selectors:[["app-create-task"]],decls:72,vars:45,consts:[[1,"form",3,"formGroup","ngSubmit"],[1,"card","border","rounded"],[1,"card-header","d-flex","align-items-center"],[1,"m-0"],[1,"card-body","pt-5","pb-3"],[1,"row"],[1,"col-md-4","mb-4"],[1,"w-100","col-form-label","required","fw-bold","fs-6"],["formControlName","type",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Program Name","formControlName","programname",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","text","placeholder","User Name","formControlName","user_id",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","text","placeholder","Task Name","formControlName","task_name",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["formControlName","task_type",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],["formControlName","comp_render_type",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],["formGroupName","contentsend",1,"row","mb-3"],["formControlName","ack",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],["formGroupName","single_action",1,"col-md-12","form-action"],["formArrayName","actions"],["class","row mb-3 action-list",3,"border-0",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","pb-5"],["type","submit",1,"btn","btn-success"],[4,"ngIf"],[3,"value"],[1,"invalid-feedback"],[1,"row","mb-3","action-list"],[3,"formGroupName"],["formControlName","action_type",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["formControlName","user",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["class","col-auto mt-12 ms-auto pt-3",4,"ngIf"],["class","row ps-5 pe-1","formArrayName","adata",4,"ngFor","ngForOf"],[1,"col-auto","mt-12","ms-auto","pt-3"],["type","button",1,"btn","btn-sm","btn-outline","btn-outline-primary","px-2",3,"click"],["type","button",1,"btn","btn-sm","btn-outline","btn-outline-danger","px-2",3,"click"],["formArrayName","adata",1,"row","ps-5","pe-1"],["formControlName","lang",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["formControlName","data_type",1,"form-select","form-select-solid","form-select-lg","fw-bold"],["class","col-auto ms-auto mt-12",4,"ngIf"],[1,"clear-flex"],[1,"col-auto","ms-auto","mt-12"],[1,"w-100","col-form-label","fw-bold","fs-6"],["type","text","placeholder","Message Title","formControlName","message_title",1,"form-control","form-control-lg","form-control-solid","custom-text-h"],["type","text","placeholder","Message Text","formControlName","text_message",1,"form-control","form-control-lg","form-control-solid","custom-text-h"],["type","text","placeholder","www.example.com","formControlName","url",1,"form-control","form-control-lg","form-control-solid"],["type","file","placeholder","Select File","formControlName","voice_message",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","display_image_url",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_url",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_mdpi",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_hdpi",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_xhdpi",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_xxhdpi",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_fphone",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","image/png, image/gif, image/jpeg, image/*","placeholder","Select File","formControlName","image_tab",1,"form-control","form-control-lg","form-control-solid",3,"change"],["type","file","accept","video/mp4,video/x-m4v,video/*","placeholder","Select File","formControlName","video_url",1,"form-control","form-control-lg","form-control-solid",3,"change"],[1,"indicator-label"],[1,"indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"]],template:function(e,t){1&e&&(c.TgZ(0,"form",0),c.NdJ("ngSubmit",function(){return t.createTask()}),c.TgZ(1,"div",1),c.TgZ(2,"div",2),c.TgZ(3,"h3",3),c._uU(4,"Create Task"),c.qZA(),c.qZA(),c.TgZ(5,"div",4),c.TgZ(6,"div",5),c.TgZ(7,"div",6),c.TgZ(8,"label",7),c._uU(9,"Type"),c.qZA(),c.TgZ(10,"select",8),c.TgZ(11,"option",9),c._uU(12,"Select Type"),c.qZA(),c.YNc(13,p,2,2,"option",10),c.qZA(),c.YNc(14,Z,2,1,"div",11),c.qZA(),c.TgZ(15,"div",6),c.TgZ(16,"label",7),c._uU(17,"Program Name"),c.qZA(),c._UZ(18,"input",12),c.YNc(19,h,2,1,"div",11),c.qZA(),c.TgZ(20,"div",6),c.TgZ(21,"label",7),c._uU(22,"User Name"),c.qZA(),c._UZ(23,"input",13),c.YNc(24,x,2,1,"div",11),c.qZA(),c.TgZ(25,"div",6),c.TgZ(26,"label",7),c._uU(27,"Task Name"),c.qZA(),c._UZ(28,"input",14),c.YNc(29,q,2,1,"div",11),c.qZA(),c.TgZ(30,"div",6),c.TgZ(31,"label",7),c._uU(32,"Task Type"),c.qZA(),c.TgZ(33,"select",15),c.TgZ(34,"option",9),c._uU(35,"Select Type"),c.qZA(),c.YNc(36,y,2,2,"option",10),c.qZA(),c.YNc(37,b,2,1,"div",11),c.qZA(),c.TgZ(38,"div",6),c.TgZ(39,"label",7),c._uU(40,"App Display Position"),c.qZA(),c.TgZ(41,"select",16),c.TgZ(42,"option",9),c._uU(43,"Select Type"),c.qZA(),c.YNc(44,k,2,2,"option",10),c.qZA(),c.YNc(45,F,2,1,"div",11),c.qZA(),c.qZA(),c.TgZ(46,"form",17),c.TgZ(47,"div",6),c.TgZ(48,"label",7),c._uU(49,"When to Send"),c.qZA(),c.TgZ(50,"select",8),c.TgZ(51,"option",9),c._uU(52,"Select Type"),c.qZA(),c.YNc(53,E,2,2,"option",10),c.qZA(),c.YNc(54,S,2,1,"div",11),c.qZA(),c.TgZ(55,"div",6),c.TgZ(56,"label",7),c._uU(57,"Ack Required"),c.qZA(),c.TgZ(58,"select",18),c.TgZ(59,"option",9),c._uU(60,"Select Type"),c.qZA(),c.YNc(61,U,2,2,"option",10),c.qZA(),c.YNc(62,J,2,1,"div",11),c.qZA(),c.TgZ(63,"form",19),c.TgZ(64,"div",20),c.YNc(65,$,19,8,"div",21),c.qZA(),c.qZA(),c.qZA(),c.TgZ(66,"div",22),c.TgZ(67,"button",23),c.YNc(68,z,3,0,"ng-container",24),c.ALo(69,"async"),c.YNc(70,W,4,2,"ng-container",24),c.ALo(71,"async"),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.qZA()),2&e&&(c.Q6J("formGroup",t.creteTaskForm),c.xp6(10),c.Q6J("ngClass",c.VKq(29,te,t.submitted&&t.f.type.errors)),c.xp6(3),c.Q6J("ngForOf",t.TYPE),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.type.errors),c.xp6(4),c.Q6J("ngClass",c.VKq(31,te,t.submitted&&t.f.programname.errors)),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.programname.errors),c.xp6(4),c.Q6J("ngClass",c.VKq(33,te,t.submitted&&t.f.user_id.errors)),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.user_id.errors),c.xp6(4),c.Q6J("ngClass",c.VKq(35,te,t.submitted&&t.f.task_name.errors)),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.task_name.errors),c.xp6(4),c.Q6J("ngClass",c.VKq(37,te,t.submitted&&t.f.task_type.errors)),c.xp6(3),c.Q6J("ngForOf",t.TASK_TYPE),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.task_type.errors),c.xp6(4),c.Q6J("ngClass",c.VKq(39,te,t.submitted&&t.f.comp_render_type.errors)),c.xp6(3),c.Q6J("ngForOf",t.COMP_RENDER_TYPE),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.comp_render_type.errors),c.xp6(5),c.Q6J("ngClass",c.VKq(41,te,t.submitted&&t.contentsendFG.controls.type.errors)),c.xp6(3),c.Q6J("ngForOf",t.WHEN_TO_SEND_TYPE),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.contentsendFG.controls.type.errors),c.xp6(4),c.Q6J("ngClass",c.VKq(43,te,t.submitted&&t.contentsendFG.controls.ack.errors)),c.xp6(3),c.Q6J("ngForOf",t.ACK_TYPE),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.contentsendFG.controls.ack.errors),c.xp6(3),c.Q6J("ngForOf",t.actionsForm.controls),c.xp6(3),c.Q6J("ngIf",!1===c.lcZ(69,25,t.isLoading$)),c.xp6(2),c.Q6J("ngIf",c.lcZ(71,27,t.isLoading$)))},directives:[l._Y,l.JL,l.sg,l.EJ,l.JJ,l.u,a.mk,l.YN,l.Kr,a.sg,a.O5,l.Fj,l.F,l.x0,l.CE],pipes:[a.Ov],styles:[".form-action[_ngcontent-%COMP%]   .action-list[_ngcontent-%COMP%]{border-top:1px solid #cecece}.form-action[_ngcontent-%COMP%]   .action-list[_ngcontent-%COMP%]:first-child{border-top:0!important}.custom-text-h[_ngcontent-%COMP%]{height:32px}"]}),X)}],ie=function(){var t=function t(){e(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[r.Bz.forChild(oe)],r.Bz]}),t}(),ne=((ee=function t(){e(this,t)}).\u0275fac=function(e){return new(e||ee)},ee.\u0275mod=c.oAB({type:ee}),ee.\u0275inj=c.cJS({imports:[[a.ez,ie,l.u5,l.UX]]}),ee)}}])}();