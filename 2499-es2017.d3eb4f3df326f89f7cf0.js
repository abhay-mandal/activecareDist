(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[2499],{72620:function(e,t,i){"use strict";i.d(t,{Y:function(){return o}});var r=i(37716),s=i(76458);let o=(()=>{class e{constructor(e){this.snackbar=e}success(e){return this.snackbar.open(e,void 0,{duration:3e3,panelClass:["snackbar-success"]})}error(e){return this.snackbar.open(e,void 0,{duration:3e3,panelClass:["snackbar-error"]})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s.ux))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},2499:function(e,t,i){"use strict";i.r(t),i.d(t,{UserHospitalFormModule:function(){return F}});var r=i(38583),s=i(95987),o=i(3679),n=i(37716),d=i(91841),a=i(30240),c=i(72620),l=i(87060);function u(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function Z(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,u,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.hospitalName.errors.required)}}function g(e,t){if(1&e&&(n.TgZ(0,"option",29),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.type)}}function f(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function p(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,f,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.hospitalType.errors.required)}}function m(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function v(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,m,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.status.errors.required)}}function q(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function h(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,q,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.phone.errors.required)}}function T(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function A(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,T,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.email.errors.required)}}function b(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function x(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,b,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.password.errors.required)}}function N(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function y(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,N,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.address.errors.required)}}function C(e,t){if(1&e&&(n.TgZ(0,"option",29),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.state)}}function I(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function w(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,I,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.state.errors.required)}}function _(e,t){if(1&e&&(n.TgZ(0,"option",29),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.city)}}function J(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function U(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,J,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.city.errors.required)}}function Y(e,t){1&e&&(n.TgZ(0,"div"),n._uU(1,"Required"),n.qZA())}function Q(e,t){if(1&e&&(n.TgZ(0,"div",27),n.YNc(1,Y,2,0,"div",28),n.qZA()),2&e){const e=n.oxw();n.xp6(1),n.Q6J("ngIf",e.f.city.errors.required)}}const k=function(e){return{"is-invalid":e}};let S=(()=>{class e{constructor(e,t,i,r,s,n,d,a){this._location=e,this.httpClient=t,this.cdr=i,this.userService=r,this.toasterService=s,this.router=n,this.dataService=d,this.userservice=a,this.submitted=!1,this.states=[],this.cities=[],this.hospitalTypes=[],this.hospitalForm=new o.cw({hospitalName:new o.NI("",o.kI.required),hospitalType:new o.NI("",o.kI.required),email:new o.NI("",o.kI.required),password:new o.NI("",o.kI.required),address:new o.NI("",o.kI.required),city:new o.NI("",o.kI.required),state:new o.NI("",o.kI.required),pincode:new o.NI("",o.kI.required),phone:new o.NI("",o.kI.required),status:new o.NI("",o.kI.required),createdBy:new o.NI("")})}ngOnInit(){if(this.edit=this.router.url.indexOf("user-management/hospital/edit/hospital-form")>-1?"Edit":"Create",this.userservice.getMstate().subscribe(e=>{this.states=e,this.cdr.detectChanges()}),this.userservice.getMhospital().subscribe(e=>{this.hospitalTypes=e}),this.edit){let e=this.dataService.getEdittingUser();this.edittingObject=e,e.type=e.hospitalType,this.httpClient.get("https://vjp422w8qj.execute-api.us-east-2.amazonaws.com/DEV/city-by-state?stateId="+e.state).subscribe(e=>{this.cities=e,this.cdr.detectChanges()}),this.hospitalForm.patchValue(e)}}backClicked(){this._location.back()}onStateChange(){var e,t=null===(e=this.hospitalForm.get("state"))||void 0===e?void 0:e.value;this.httpClient.get("https://vjp422w8qj.execute-api.us-east-2.amazonaws.com/DEV/city-by-state?stateId="+t).subscribe(e=>{this.cities=e,this.cdr.detectChanges()})}onSubmit(){var e,t;if(this.submitted=!0,!this.hospitalForm.valid)return!1;if(this.hospitalForm.valid){if(!this.edit){var i=JSON.parse(localStorage.getItem("userObj")||"");null===(e=this.hospitalForm.get("createdBy"))||void 0===e||e.setValue(i._id),this.userService.createHospital(this.hospitalForm.value).subscribe(e=>{this.toasterService.success("Hospital added successfully"),this.submitted=!1,this.hospitalForm.reset()},e=>{this.toasterService.error("Failed ! Please try again later!")})}this.edit&&(i=JSON.parse(localStorage.getItem("userObj")||""),null===(t=this.hospitalForm.get("createdBy"))||void 0===t||t.setValue(i._id),this.userService.updateHospital(this.hospitalForm.value,this.edittingObject._id).subscribe(e=>{this.toasterService.success("updated successfully"),this.router.navigateByUrl("user-management/hospital")},e=>{this.toasterService.error("Failed ! Please try again later!")})),window.location.href="/dashboard"}}get f(){return this.hospitalForm.controls}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(r.Ye),n.Y36(d.eN),n.Y36(n.sBO),n.Y36(a.x),n.Y36(c.Y),n.Y36(s.F0),n.Y36(l.z),n.Y36(a.x))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-user-hospital-form"]],decls:104,vars:45,consts:[[1,"card"],[1,"card-header","d-flex","align-items-center","py-2"],[1,"m-0"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body","border-top","pb-0","pt-2"],[1,"row"],[1,"col-md-4","mb-3"],[1,"w-100","col-form-label","required","fw-bold","fs-6"],[1,"col-md-12","fv-row"],["type","text","placeholder","Enter name","formControlName","hospitalName",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["formControlName","hospitalType",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["formControlName","status",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],["value","active"],["value","inactive"],["type","text","placeholder","Enter Phone.no","formControlName","phone",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","email","placeholder","Email address","formControlName","email",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","text","placeholder","Password","formControlName","password",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["type","text","placeholder","Enter Address","formControlName","address",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],["formControlName","state",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass","change"],["value",""],["formControlName","city",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],["type","text","placeholder","Enter Pincode","formControlName","pincode",1,"form-control","form-control-lg","form-control-solid",3,"ngClass"],[1,"card-footer","d-flex","justify-content-end","py-3","px-9"],["type","button",1,"btn","btn-secondary",3,"click"],["type","submit",1,"btn","btn-success"],[1,"invalid-feedback"],[4,"ngIf"],[3,"value"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h3",2),n._uU(3),n.qZA(),n.qZA(),n.TgZ(4,"form",3),n.NdJ("ngSubmit",function(){return t.onSubmit()}),n.TgZ(5,"div",4),n.TgZ(6,"div",5),n.TgZ(7,"div",6),n.TgZ(8,"label",7),n._uU(9,"Hospital Name"),n.qZA(),n.TgZ(10,"div"),n.TgZ(11,"div",5),n.TgZ(12,"div",8),n._UZ(13,"input",9),n.YNc(14,Z,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",6),n.TgZ(16,"label",7),n._uU(17,"Type of Hospital"),n.qZA(),n.TgZ(18,"div"),n.TgZ(19,"div",5),n.TgZ(20,"div",8),n.TgZ(21,"select",11),n.YNc(22,g,2,2,"option",12),n.qZA(),n.YNc(23,p,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(24,"div",6),n.TgZ(25,"label",7),n._uU(26,"Status"),n.qZA(),n.TgZ(27,"div"),n.TgZ(28,"div",5),n.TgZ(29,"div",8),n.TgZ(30,"select",13),n.TgZ(31,"option",14),n._uU(32,"Active"),n.qZA(),n.TgZ(33,"option",15),n._uU(34,"In active"),n.qZA(),n.qZA(),n.YNc(35,v,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(36,"div",5),n.TgZ(37,"div",6),n.TgZ(38,"label",7),n._uU(39,"Phone Number"),n.qZA(),n.TgZ(40,"div"),n.TgZ(41,"div",5),n.TgZ(42,"div",8),n._UZ(43,"input",16),n.YNc(44,h,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(45,"div",6),n.TgZ(46,"label",7),n._uU(47,"Email"),n.qZA(),n.TgZ(48,"div"),n.TgZ(49,"div",5),n.TgZ(50,"div",8),n._UZ(51,"input",17),n.YNc(52,A,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(53,"div",6),n.TgZ(54,"label",7),n._uU(55,"Password"),n.qZA(),n.TgZ(56,"div"),n.TgZ(57,"div",5),n.TgZ(58,"div",8),n._UZ(59,"input",18),n.YNc(60,x,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(61,"div",5),n.TgZ(62,"div",6),n.TgZ(63,"label",7),n._uU(64,"Address"),n.qZA(),n.TgZ(65,"div"),n.TgZ(66,"div",5),n.TgZ(67,"div",8),n._UZ(68,"input",19),n.YNc(69,y,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(70,"div",6),n.TgZ(71,"label",7),n._uU(72,"State"),n.qZA(),n.TgZ(73,"div"),n.TgZ(74,"div",5),n.TgZ(75,"div",8),n.TgZ(76,"select",20),n.NdJ("change",function(){return t.onStateChange()}),n.TgZ(77,"option",21),n._uU(78," Select State"),n.qZA(),n.YNc(79,C,2,2,"option",12),n.qZA(),n.YNc(80,w,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(81,"div",6),n.TgZ(82,"label",7),n._uU(83,"City"),n.qZA(),n.TgZ(84,"div"),n.TgZ(85,"div",5),n.TgZ(86,"div",8),n.TgZ(87,"select",22),n.YNc(88,_,2,2,"option",12),n.qZA(),n.YNc(89,U,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(90,"div",5),n.TgZ(91,"div",6),n.TgZ(92,"label",7),n._uU(93,"Pincode"),n.qZA(),n.TgZ(94,"div"),n.TgZ(95,"div",5),n.TgZ(96,"div",8),n._UZ(97,"input",23),n.YNc(98,Q,2,1,"div",10),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(99,"div",24),n.TgZ(100,"button",25),n.NdJ("click",function(){return t.backClicked()}),n._uU(101,"Back"),n.qZA(),n.TgZ(102,"button",26),n._uU(103,"Save"),n.qZA(),n.qZA(),n.qZA(),n.qZA()),2&e&&(n.xp6(3),n.hij("",t.edit," Hospital"),n.xp6(1),n.Q6J("formGroup",t.hospitalForm),n.xp6(9),n.Q6J("ngClass",n.VKq(25,k,t.submitted&&t.f.hospitalName.errors)),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.hospitalName.errors),n.xp6(7),n.Q6J("ngClass",n.VKq(27,k,t.submitted&&t.f.hospitalType.errors)),n.xp6(1),n.Q6J("ngForOf",t.hospitalTypes),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.hospitalType.errors),n.xp6(7),n.Q6J("ngClass",n.VKq(29,k,t.submitted&&t.f.status.errors)),n.xp6(5),n.Q6J("ngIf",t.submitted&&t.f.status.errors),n.xp6(8),n.Q6J("ngClass",n.VKq(31,k,t.submitted&&t.f.phone.errors)),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.phone.errors),n.xp6(7),n.Q6J("ngClass",n.VKq(33,k,t.submitted&&t.f.email.errors)),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.email.errors),n.xp6(7),n.Q6J("ngClass",n.VKq(35,k,t.submitted&&t.f.password.errors)),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.password.errors),n.xp6(8),n.Q6J("ngClass",n.VKq(37,k,t.submitted&&t.f.address.errors)),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.address.errors),n.xp6(7),n.Q6J("ngClass",n.VKq(39,k,t.submitted&&t.f.state.errors)),n.xp6(3),n.Q6J("ngForOf",t.states),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.state.errors),n.xp6(7),n.Q6J("ngClass",n.VKq(41,k,t.submitted&&t.f.city.errors)),n.xp6(1),n.Q6J("ngForOf",t.cities),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.city.errors),n.xp6(8),n.Q6J("ngClass",n.VKq(43,k,t.submitted&&t.f.city.errors)),n.xp6(1),n.Q6J("ngIf",t.submitted&&t.f.city.errors))},directives:[o._Y,o.JL,o.sg,o.Fj,o.JJ,o.u,r.mk,r.O5,o.EJ,r.sg,o.YN,o.Kr],styles:[".btn-secondary[_ngcontent-%COMP%]{margin-right:1.2rem}"]}),e})(),F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.ez,s.Bz.forChild([{path:"",component:S}])]]}),e})()}}]);