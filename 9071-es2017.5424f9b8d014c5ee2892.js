(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[9071],{83464:function(t,e,i){"use strict";i.r(e),i.d(e,{MastersCityModule:function(){return M}});var s=i(38583),n=i(95987),o=i(23418),r=i(63464),a=i(3679),c=i(37716),l=i(91841),d=i(22238),u=i(26490),g=i(80610),p=i(72620),Z=i(30240),f=i(95514),m=i(33013),b=i(4207),h=i(13928),q=i(72789);function v(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",12),c.TgZ(1,"button",13),c.NdJ("click",function(){c.CHM(t);const e=c.oxw(),i=c.MAs(8);return e.clear(i)}),c.qZA(),c.TgZ(2,"span",14),c._UZ(3,"i",15),c.TgZ(4,"input",16),c.NdJ("input",function(e){return c.CHM(t),c.oxw(),c.MAs(8).filterGlobal(e.target.value,"contains")}),c.qZA(),c.qZA(),c.qZA()}}function A(t,e){if(1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"th",17),c.TgZ(2,"div",18),c._uU(3," ID "),c.qZA(),c.qZA(),c.TgZ(4,"th",19),c.TgZ(5,"div",20),c.TgZ(6,"span"),c._uU(7,"State"),c._UZ(8,"p-sortIcon",21),c.qZA(),c._UZ(9,"p-columnFilter",22),c.qZA(),c.qZA(),c.TgZ(10,"th",23),c.TgZ(11,"div",20),c.TgZ(12,"span"),c._uU(13,"City"),c._UZ(14,"p-sortIcon",21),c.qZA(),c._UZ(15,"p-columnFilter",24),c.qZA(),c.qZA(),c.TgZ(16,"th",25),c.TgZ(17,"div",26),c._uU(18," Action "),c.qZA(),c.qZA(),c.qZA()),2&t){const t=c.oxw();c.xp6(8),c.Q6J("field",t.state),c.xp6(6),c.Q6J("field",t.city)}}function T(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"tr"),c.TgZ(1,"td"),c._uU(2),c.qZA(),c.TgZ(3,"td",27),c._uU(4),c.qZA(),c.TgZ(5,"td",27),c._uU(6),c.qZA(),c.TgZ(7,"td"),c.TgZ(8,"div",28),c.TgZ(9,"p",29),c.NdJ("click",function(){const e=c.CHM(t).$implicit;return c.oxw().editCity(e)}),c._UZ(10,"span",30),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=e.$implicit,i=e.rowIndex;c.xp6(2),c.Oqu(i+1),c.xp6(2),c.Oqu(t.state_info[0].state),c.xp6(2),c.Oqu(t.city),c.xp6(4),c.Q6J("inlineSVG","./assets/media/icons/duotune/art/art005.svg")}}function y(t,e){1&t&&(c.TgZ(0,"tr"),c.TgZ(1,"td",31),c._uU(2,"No Records found."),c.qZA(),c.qZA())}function x(t,e){if(1&t&&(c.TgZ(0,"option",52),c._uU(1),c.qZA()),2&t){const t=e.$implicit;c.s9C("value",t._id),c.xp6(1),c.Oqu(t.state)}}function C(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function w(t,e){if(1&t&&(c.TgZ(0,"div",53),c.YNc(1,C,2,0,"div",54),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",t.f.stateId.errors.required)}}function _(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function I(t,e){if(1&t&&(c.TgZ(0,"div",53),c.YNc(1,_,2,0,"div",54),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",t.f.city.errors.required)}}function k(t,e){1&t&&(c.TgZ(0,"div"),c._uU(1,"Required"),c.qZA())}function U(t,e){if(1&t&&(c.TgZ(0,"div",53),c.YNc(1,k,2,0,"div",54),c.qZA()),2&t){const t=c.oxw(2);c.xp6(1),c.Q6J("ngIf",t.f.status.errors.required)}}const N=function(t){return{"is-invalid":t}};function J(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",32),c.TgZ(1,"h4",33),c._uU(2,"City"),c.qZA(),c.TgZ(3,"button",34),c.NdJ("click",function(){c.CHM(t);const e=c.oxw();return null==e.modalRef?null:e.modalRef.hide()}),c.TgZ(4,"span",35),c._uU(5,"\xd7"),c.qZA(),c.qZA(),c.qZA(),c.TgZ(6,"div",36),c.TgZ(7,"form",37),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().onSubmit()}),c.TgZ(8,"div",38),c.TgZ(9,"label",39),c._uU(10,"State"),c.qZA(),c.TgZ(11,"div",40),c.TgZ(12,"div",41),c.TgZ(13,"div",42),c.TgZ(14,"select",43),c.YNc(15,x,2,2,"option",44),c.qZA(),c.YNc(16,w,2,1,"div",45),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(17,"div",38),c.TgZ(18,"label",39),c._uU(19,"City"),c.qZA(),c.TgZ(20,"div",40),c.TgZ(21,"div",41),c.TgZ(22,"div",42),c._UZ(23,"input",46),c.YNc(24,I,2,1,"div",45),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(25,"div",38),c.TgZ(26,"label",39),c._uU(27,"Status"),c.qZA(),c.TgZ(28,"div",40),c.TgZ(29,"div",41),c.TgZ(30,"div",42),c.TgZ(31,"select",47),c.TgZ(32,"option",48),c._uU(33,"Active"),c.qZA(),c.TgZ(34,"option",49),c._uU(35,"Inactive"),c.qZA(),c.qZA(),c.YNc(36,U,2,1,"div",45),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(37,"div",50),c.TgZ(38,"button",51),c._uU(39,"Save"),c.qZA(),c.qZA(),c.qZA(),c.qZA()}if(2&t){const t=c.oxw();c.xp6(7),c.Q6J("formGroup",t.cityForm),c.xp6(7),c.Q6J("ngClass",c.VKq(8,N,t.submitted&&t.f.stateId.errors)),c.xp6(1),c.Q6J("ngForOf",t.states),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.stateId.errors),c.xp6(7),c.Q6J("ngClass",c.VKq(10,N,t.submitted&&t.f.city.errors)),c.xp6(1),c.Q6J("ngIf",t.submitted&&t.f.city.errors),c.xp6(7),c.Q6J("ngClass",c.VKq(12,N,t.submitted&&t.f.status.errors)),c.xp6(5),c.Q6J("ngIf",t.submitted&&t.f.status.errors)}}const Y=function(){return[10,25,50]},F=function(){return["state","city"]};let S=(()=>{class t{constructor(t,e,i,s,n,o,r,c){this.http=t,this.dialog=e,this.modalService=i,this._location=s,this.cdr=n,this.masterService=o,this.toasterService=r,this.userservice=c,this.cityForm=new a.cw({stateId:new a.NI("",a.kI.required),city:new a.NI("",a.kI.required),status:new a.NI("",a.kI.required)}),this.title="datatables",this.dtOptions={},this.posts=[{userId:1,id:1,city:"Chennai"},{userId:1,id:2,city:"Kolkata"},{userId:1,id:3,city:"Bangalore"},{userId:1,id:4,city:"Mumbai"},{userId:1,id:5,city:"Ahmedabad"}],this.cities=[],this.loading=!0,this.states=[],this.submitted=!1}openModal(t){this.modalRef=this.modalService.show(t,{class:"modal-dialog-centered"})}openDialog(){this.dialog.open(o.F,{height:"170px",width:"400px"})}backClicked(){this._location.back()}ngOnInit(){this.userservice.getMstate().subscribe(t=>{this.states=t,this.cdr.detectChanges()}),this.userservice.getMcity().subscribe(t=>{this.cities=t,this.cdr.detectChanges(),this.loading=!1}),this.dtOptions={pagingType:"full_numbers",pageLength:10,processing:!0}}onSubmit(){if(this.submitted=!0,!this.cityForm.valid)return!1;this.cityForm.valid&&this.masterService.saveMaster(this.cityForm.value,"14").subscribe(t=>{var e;null===(e=this.modalRef)||void 0===e||e.hide(),this.submitted=!1,this.cityForm.reset(),this.toasterService.success("Created successfully"),this.userservice.getMcity().subscribe(t=>{this.cities=t,this.cdr.detectChanges(),this.loading=!1})},t=>{this.toasterService.error("Failed to create")})}editCity(t){this.dialog.open(r.j,{height:"auto",width:"auto",data:{data:t,type:"14"}}).afterClosed().subscribe(t=>{})}get f(){return this.cityForm.controls}}return t.\u0275fac=function(e){return new(e||t)(c.Y36(l.eN),c.Y36(d.uw),c.Y36(u.tT),c.Y36(s.Ye),c.Y36(c.sBO),c.Y36(g.$),c.Y36(p.Y),c.Y36(Z.x))},t.\u0275cmp=c.Xpm({type:t,selectors:[["app-masters-city"]],decls:15,vars:9,consts:[[1,""],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-trigger","hover","title","Create Program",1,"card-toolbar","text-end","pb-5"],["type","button",1,"btn","btn-sm","btn-secondary","back_btn",3,"click"],[1,"btn","btn-sm","btn-primary",3,"click"],[1,"card","appointment_card"],["dataKey","id","styleClass","p-datatable-gridlines","responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries",3,"value","rows","showCurrentPageReport","rowsPerPageOptions","loading","paginator","globalFilterFields"],["dt1",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["template",""],[1,"d-flex","px-5","align-items-center","justify-content-between"],["pButton","","label","Clear","icon","pi pi-filter-slash",1,"p-button-outlined",3,"click"],[1,"p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search",1,"w-100",3,"input"],[1,"midtable"],[1,"flex","justify-content-center","fs-5","fw-bolder","align-items-center"],["pSortableColumn","state"],[1,"d-flex","justify-content-center","fs-5","align-items-center","justify-content-between"],[3,"field"],["type","text","field","state","display","menu",1,""],["pSortableColumn","city"],["type","text","field","city","display","menu",1,""],[1,"actiontable"],[1,"flex","justify-content-center","fs-5","align-items-center"],[1,"text-dark","fw-bolder"],[1,"flex-shrink-0"],["data-bs-toggle","tooltip","data-bs-placement","top","data-bs-trigger","hover","title","Edit",1,"btn","btn-icon","btn-bg-light","btn-active-color-primary","btn-sm","m-1",3,"click"],[1,"svg-icon","svg-icon-3",3,"inlineSVG"],["colspan","7"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"btn-close","close","pull-right",3,"click"],["aria-hidden","true",1,"visually-hidden"],[1,"modal-body"],[1,"form",3,"formGroup","ngSubmit"],[1,"row","mb-3"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-12","fv-row"],["formControlName","stateId",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"ngClass"],[3,"value",4,"ngFor","ngForOf"],["class","invalid-feedback",4,"ngIf"],["type","text","placeholder","Enter city","formControlName","city",1,"form-control","form-control-lg","mb-3","mb-lg-0",3,"ngClass"],["formControlName","status",1,"form-control",3,"ngClass"],["value","active"],["value","inactive"],[1,"d-flex","justify-content-end","py-","mt-8"],["type","submit",1,"btn","btn-primary"],[3,"value"],[1,"invalid-feedback"],[4,"ngIf"]],template:function(t,e){if(1&t){const t=c.EpF();c.TgZ(0,"div",0),c.TgZ(1,"div",1),c.TgZ(2,"button",2),c.NdJ("click",function(){return e.backClicked()}),c._uU(3,"Back"),c.qZA(),c.TgZ(4,"button",3),c.NdJ("click",function(){c.CHM(t);const i=c.MAs(14);return e.openModal(i)}),c._uU(5," + Create"),c.qZA(),c.qZA(),c.TgZ(6,"div",4),c.TgZ(7,"p-table",5,6),c.YNc(9,v,5,0,"ng-template",7),c.YNc(10,A,19,2,"ng-template",8),c.YNc(11,T,11,4,"ng-template",9),c.YNc(12,y,3,0,"ng-template",10),c.qZA(),c.qZA(),c.qZA(),c.YNc(13,J,40,14,"ng-template",null,11,c.W1O)}2&t&&(c.xp6(7),c.Q6J("value",e.cities)("rows",10)("showCurrentPageReport",!0)("rowsPerPageOptions",c.DdM(7,Y))("loading",e.loading)("paginator",!0)("globalFilterFields",c.DdM(8,F)))},directives:[f.iA,m.jx,b.Hq,h.o,f.lQ,f.fz,f.xl,q.d$,a._Y,a.JL,a.sg,a.EJ,a.JJ,a.u,s.mk,s.sg,s.O5,a.Fj,a.YN,a.Kr],styles:[""]}),t})(),M=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.oAB({type:t}),t.\u0275inj=c.cJS({imports:[[s.ez,n.Bz.forChild([{path:"",component:S}])]]}),t})()}}]);