(self.webpackChunkdemo1=self.webpackChunkdemo1||[]).push([[8507],{72620:function(e,t,i){"use strict";i.d(t,{Y:function(){return r}});var s=i(37716),o=i(76458);let r=(()=>{class e{constructor(e){this.snackbar=e}success(e){return this.snackbar.open(e,void 0,{duration:3e3,panelClass:["snackbar-success"]})}error(e){return this.snackbar.open(e,void 0,{duration:3e3,panelClass:["snackbar-error"]})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(o.ux))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},8507:function(e,t,i){"use strict";i.r(t),i.d(t,{AccountModule:function(){return I}});var s=i(38583),o=i(72789),r=i(95987),n=i(37716);let a=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-overview"]],decls:71,vars:2,consts:[["id","kt_profile_details_view",1,"card","mb-5","mb-xl-10"],[1,"card-header","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["routerLink","/crafted/account/settings",1,"btn","btn-primary","align-self-center"],[1,"card-body","p-9"],[1,"row","mb-7"],[1,"col-lg-4","fw-bold","text-muted"],[1,"col-lg-8"],[1,"fw-bolder","fs-6","text-dark"],[1,"col-lg-8","fv-row"],[1,"fw-bold","fs-6"],["data-bs-toggle","tooltip","title","Phone number must be active",1,"fas","fa-exclamation-circle","ms-1","fs-7"],[1,"col-lg-8","d-flex","align-items-center"],[1,"fw-bolder","fs-6","me-2"],[1,"badge","badge-success"],["href","#",1,"fw-bold","fs-6","text-dark","text-hover-primary"],["data-bs-toggle","tooltip","title","Country of origination",1,"fas","fa-exclamation-circle","ms-1","fs-7"],[1,"row","mb-10"],[1,"notice","d-flex","bg-light-warning","rounded","border-warning","border","border-dashed","p-6"],[1,"svg-icon","svg-icon-2tx","svg-icon-warning","me-4",3,"inlineSVG"],[1,"d-flex","flex-stack","flex-grow-1"],[1,"fw-bold"],[1,"text-gray-800","fw-bolder"],[1,"fs-6","text-gray-600"],["routerLink","/crafted/account/settings",1,"fw-bolder"],[1,"row","gy-10","gx-xl-10"],[1,"col-xl-6"]],template:function(e,t){1&e&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div",2),n.TgZ(3,"h3",3),n._uU(4,"Profile Details"),n.qZA(),n.qZA(),n.TgZ(5,"a",4),n._uU(6," Edit Profile "),n.qZA(),n.qZA(),n.TgZ(7,"div",5),n.TgZ(8,"div",6),n.TgZ(9,"label",7),n._uU(10,"Full Name"),n.qZA(),n.TgZ(11,"div",8),n.TgZ(12,"span",9),n._uU(13,"Max Smith"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(14,"div",6),n.TgZ(15,"label",7),n._uU(16,"Company"),n.qZA(),n.TgZ(17,"div",10),n.TgZ(18,"span",11),n._uU(19,"Keenthemes"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(20,"div",6),n.TgZ(21,"label",7),n._uU(22," Contact Phone "),n._UZ(23,"i",12),n.qZA(),n.TgZ(24,"div",13),n.TgZ(25,"span",14),n._uU(26,"044 3276 454 935"),n.qZA(),n.TgZ(27,"span",15),n._uU(28,"Verified"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(29,"div",6),n.TgZ(30,"label",7),n._uU(31,"Company Site"),n.qZA(),n.TgZ(32,"div",8),n.TgZ(33,"a",16),n._uU(34," keenthemes.com "),n.qZA(),n.qZA(),n.qZA(),n.TgZ(35,"div",6),n.TgZ(36,"label",7),n._uU(37," Country "),n._UZ(38,"i",17),n.qZA(),n.TgZ(39,"div",8),n.TgZ(40,"span",9),n._uU(41,"Germany"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(42,"div",6),n.TgZ(43,"label",7),n._uU(44,"Communication"),n.qZA(),n.TgZ(45,"div",8),n.TgZ(46,"span",9),n._uU(47,"Email, Phone"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(48,"div",18),n.TgZ(49,"label",7),n._uU(50,"Allow Changes"),n.qZA(),n.TgZ(51,"div",8),n.TgZ(52,"span",11),n._uU(53,"Yes"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(54,"div",19),n._UZ(55,"span",20),n.TgZ(56,"div",21),n.TgZ(57,"div",22),n.TgZ(58,"h4",23),n._uU(59,"We need your attention!"),n.qZA(),n.TgZ(60,"div",24),n._uU(61," Your payment was declined. To start using tools, please "),n.TgZ(62,"a",25),n._uU(63),n.qZA(),n._uU(64," . "),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(65,"div",26),n._UZ(66,"div",27),n._UZ(67,"div",27),n.qZA(),n.TgZ(68,"div",26),n._UZ(69,"div",27),n._UZ(70,"div",27),n.qZA()),2&e&&(n.xp6(55),n.Q6J("inlineSVG","./assets/media/icons/duotune/general/gen044.svg"),n.xp6(8),n.hij(" "," "," Add Payment Method "))},directives:[r.yS,o.d$],encapsulation:2}),e})(),l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-account"]],decls:1,vars:0,template:function(e,t){1&e&&n._UZ(0,"router-outlet")},directives:[r.lC],encapsulation:2}),e})();var c=i(26215),u=i(3679),d=i(30240),p=i(72620),g=i(80610);function Z(e,t){if(1&e&&(n.TgZ(0,"option",26),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.state)}}function f(e,t){if(1&e&&(n.TgZ(0,"option",26),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.city)}}function m(e,t){1&e&&(n.ynx(0),n._uU(1,"Save Changes"),n.BQk())}function h(e,t){1&e&&(n.ynx(0),n.TgZ(1,"span",27),n._uU(2),n._UZ(3,"span",28),n.qZA(),n.BQk()),2&e&&(n.xp6(1),n.Udp("display","block"),n.xp6(1),n.hij(" Please wait..."," "," "))}function v(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n.TgZ(3,"h3",4),n._uU(4,"Profile Details"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"div",5),n.TgZ(6,"form",6),n.NdJ("ngSubmit",function(){return n.CHM(e),n.oxw().saveSettings()}),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"label",9),n._uU(10,"Name"),n.qZA(),n.TgZ(11,"div",10),n.TgZ(12,"div",11),n.TgZ(13,"div",12),n._UZ(14,"input",13),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",8),n.TgZ(16,"label",14),n.TgZ(17,"span",15),n._uU(18,"Phone"),n.qZA(),n.qZA(),n.TgZ(19,"div",16),n._UZ(20,"input",17),n.qZA(),n.qZA(),n.TgZ(21,"div",8),n.TgZ(22,"label",9),n._uU(23,"Address"),n.qZA(),n.TgZ(24,"div",16),n._UZ(25,"input",18),n.qZA(),n.qZA(),n.TgZ(26,"div",8),n.TgZ(27,"label",14),n.TgZ(28,"span",15),n._uU(29,"State"),n.qZA(),n.qZA(),n.TgZ(30,"div",16),n.TgZ(31,"select",19),n.NdJ("change",function(){return n.CHM(e),n.oxw().onStateChange()}),n.YNc(32,Z,2,2,"option",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(33,"div",8),n.TgZ(34,"label",9),n._uU(35,"City"),n.qZA(),n.TgZ(36,"div",16),n.TgZ(37,"select",21),n.YNc(38,f,2,2,"option",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(39,"div",8),n.TgZ(40,"label",14),n.TgZ(41,"span",15),n._uU(42,"Pincode"),n.qZA(),n.qZA(),n.TgZ(43,"div",16),n._UZ(44,"input",22),n.qZA(),n.qZA(),n.qZA(),n.TgZ(45,"div",23),n.TgZ(46,"button",24),n.YNc(47,m,2,0,"ng-container",25),n.YNc(48,h,4,3,"ng-container",25),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(6),n.Q6J("formGroup",e.profileForm),n.xp6(26),n.Q6J("ngForOf",e.states),n.xp6(6),n.Q6J("ngForOf",e.cities),n.xp6(8),n.Q6J("disabled",e.isLoading),n.xp6(1),n.Q6J("ngIf",!e.isLoading),n.xp6(1),n.Q6J("ngIf",e.isLoading)}}function q(e,t){if(1&e&&(n.TgZ(0,"option",26),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.type)}}function T(e,t){if(1&e&&(n.TgZ(0,"option",26),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.state)}}function A(e,t){if(1&e&&(n.TgZ(0,"option",26),n._uU(1),n.qZA()),2&e){const e=t.$implicit;n.s9C("value",e._id),n.xp6(1),n.Oqu(e.city)}}function b(e,t){1&e&&(n.ynx(0),n._uU(1,"Save Changes"),n.BQk())}function _(e,t){1&e&&(n.ynx(0),n.TgZ(1,"span",27),n._uU(2),n._UZ(3,"span",28),n.qZA(),n.BQk()),2&e&&(n.xp6(1),n.Udp("display","block"),n.xp6(1),n.hij(" Please wait..."," "," "))}function w(e,t){if(1&e){const e=n.EpF();n.TgZ(0,"div",1),n.TgZ(1,"div",2),n.TgZ(2,"div",3),n.TgZ(3,"h3",4),n._uU(4,"Profile Details"),n.qZA(),n.qZA(),n.qZA(),n.TgZ(5,"div",5),n.TgZ(6,"form",6),n.NdJ("ngSubmit",function(){return n.CHM(e),n.oxw().saveSettings()}),n.TgZ(7,"div",7),n.TgZ(8,"div",8),n.TgZ(9,"label",9),n._uU(10,"Hospital Name"),n.qZA(),n.TgZ(11,"div",10),n.TgZ(12,"div",11),n.TgZ(13,"div",12),n._UZ(14,"input",29),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(15,"div",8),n.TgZ(16,"label",14),n.TgZ(17,"span",15),n._uU(18,"Hospital Type"),n.qZA(),n.qZA(),n.TgZ(19,"div",16),n.TgZ(20,"select",30),n.YNc(21,q,2,2,"option",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(22,"div",8),n.TgZ(23,"label",14),n.TgZ(24,"span",15),n._uU(25,"Phone"),n.qZA(),n.qZA(),n.TgZ(26,"div",16),n._UZ(27,"input",17),n.qZA(),n.qZA(),n.TgZ(28,"div",8),n.TgZ(29,"label",9),n._uU(30,"Address"),n.qZA(),n.TgZ(31,"div",16),n._UZ(32,"input",18),n.qZA(),n.qZA(),n.TgZ(33,"div",8),n.TgZ(34,"label",14),n.TgZ(35,"span",15),n._uU(36,"State"),n.qZA(),n.qZA(),n.TgZ(37,"div",16),n.TgZ(38,"select",19),n.NdJ("change",function(){return n.CHM(e),n.oxw().onStateChange()}),n.YNc(39,T,2,2,"option",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(40,"div",8),n.TgZ(41,"label",9),n._uU(42,"City"),n.qZA(),n.TgZ(43,"div",16),n.TgZ(44,"select",21),n.YNc(45,A,2,2,"option",20),n.qZA(),n.qZA(),n.qZA(),n.TgZ(46,"div",8),n.TgZ(47,"label",14),n.TgZ(48,"span",15),n._uU(49,"Pincode"),n.qZA(),n.qZA(),n.TgZ(50,"div",16),n._UZ(51,"input",22),n.qZA(),n.qZA(),n.qZA(),n.TgZ(52,"div",23),n.TgZ(53,"button",24),n.YNc(54,b,2,0,"ng-container",25),n.YNc(55,_,4,3,"ng-container",25),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA()}if(2&e){const e=n.oxw();n.xp6(6),n.Q6J("formGroup",e.hospitalForm),n.xp6(15),n.Q6J("ngForOf",e.hospitalTypes),n.xp6(18),n.Q6J("ngForOf",e.states),n.xp6(6),n.Q6J("ngForOf",e.cities),n.xp6(8),n.Q6J("disabled",e.isLoading),n.xp6(1),n.Q6J("ngIf",!e.isLoading),n.xp6(1),n.Q6J("ngIf",e.isLoading)}}let y=(()=>{class e{constructor(e,t,i,s){this.cdr=e,this.userService=t,this.toasterService=i,this.masterService=s,this.isLoading$=new c.X(!1),this.unsubscribe=[],this.profileForm=new u.cw({name:new u.NI("",u.kI.required),phone:new u.NI("",u.kI.required),address:new u.NI("",u.kI.required),state:new u.NI("",u.kI.required),city:new u.NI("",u.kI.required),pincode:new u.NI("",u.kI.required),hospital:new u.NI(""),password:new u.NI("")}),this.hospitalTypes=[],this.hospitalForm=new u.cw({hospitalName:new u.NI("",u.kI.required),hospitalType:new u.NI("",u.kI.required),address:new u.NI("",u.kI.required),city:new u.NI("",u.kI.required),state:new u.NI("",u.kI.required),pincode:new u.NI("",u.kI.required),phone:new u.NI("",u.kI.required),status:new u.NI("",u.kI.required)}),this.states=[],this.cities=[],this.role=0;const o=this.isLoading$.asObservable().subscribe(e=>this.isLoading=e);this.unsubscribe.push(o)}ngOnInit(){this.role=parseInt(localStorage.getItem("role")||""),this.masterService.getStates().subscribe(e=>{this.states=e,this.cdr.detectChanges()}),this.masterService.getHospitalTypes().subscribe(e=>{this.hospitalTypes=e,this.cdr.detectChanges()});let e=JSON.parse(localStorage.getItem("userDetails")||"");this.userDetails=e,this.profileForm.patchValue(e),this.onStateChange(),2==this.role&&this.hospitalForm.patchValue(this.userDetails)}onStateChange(){var e,t=null===(e=this.profileForm.get("state"))||void 0===e?void 0:e.value;this.masterService.getCityByState(t).subscribe(e=>{this.cities=e,this.cdr.detectChanges()})}saveSettings(){if(1!=this.role&&2!==this.role){if(!this.profileForm.valid)return!1;this.profileForm.valid&&(this.isLoading$.next(!0),this.userService.updateHospitalUsers(this.profileForm.value,this.userDetails._id).subscribe(e=>{console.log("profile update response",e),this.toasterService.success("Profile updated Successfully"),localStorage.getItem("role");let t=JSON.parse(localStorage.getItem("userObj")||"");this.userService.getUserByToken(t.role,t._id).subscribe(e=>{this.profileForm.patchValue(e.user[0]),localStorage.setItem("userDetails",JSON.stringify(e.user[0]))}),this.isLoading$.next(!1),this.cdr.detectChanges()},e=>{this.toasterService.error("Failed to update profile")}))}if(2==this.role){if(!this.hospitalForm.valid)return!1;this.hospitalForm.valid&&(this.isLoading$.next(!0),this.userService.updateHospital(this.hospitalForm.value,this.userDetails._id).subscribe(e=>{this.toasterService.success("updated successfully"),localStorage.getItem("role");let t=JSON.parse(localStorage.getItem("userObj")||"");this.userService.getUserByToken(t.role,t._id).subscribe(e=>{this.profileForm.patchValue(e.user[0]),localStorage.setItem("userDetails",JSON.stringify(e.user[0]))}),this.isLoading$.next(!1),this.cdr.detectChanges()},e=>{this.toasterService.error("Failed ! Please try again later!")}))}}get f(){return this.profileForm.controls}ngOnDestroy(){this.unsubscribe.forEach(e=>e.unsubscribe())}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(n.sBO),n.Y36(d.x),n.Y36(p.Y),n.Y36(g.$))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-profile-details"]],decls:2,vars:2,consts:[["class","card mb-5 mb-xl-10",4,"ngIf"],[1,"card","mb-5","mb-xl-10"],["role","button","data-bs-toggle","collapse","data-bs-target","#kt_account_profile_details","aria-expanded","true","aria-controls","kt_account_profile_details",1,"card-header","border-0","cursor-pointer"],[1,"card-title","m-0"],[1,"fw-bolder","m-0"],["id","kt_account_profile_details",1,"collapse","show"],[1,"form",3,"formGroup","ngSubmit"],[1,"card-body","border-top","p-9"],[1,"row","mb-6"],[1,"col-lg-4","col-form-label","required","fw-bold","fs-6"],[1,"col-lg-8"],[1,"row"],[1,"col-lg-12","fv-row"],["type","text","placeholder","First name","formControlName","name",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],[1,"col-lg-4","col-form-label","fw-bold","fs-6"],[1,"required"],[1,"col-lg-8","fv-row"],["type","tel","placeholder","Phone number","formControlName","phone",1,"form-control","form-control-lg","form-control-solid"],["type","text","placeholder","Company name","formControlName","address",1,"form-control","form-control-lg","form-control-solid"],["formControlName","state",1,"form-select","form-select-solid","form-select-lg","fw-bold",3,"change"],[3,"value",4,"ngFor","ngForOf"],["formControlName","city",1,"form-select","form-select-solid","form-select-lg"],["type","tel","formControlName","pincode",1,"form-control","form-control-lg","form-control-solid"],[1,"card-footer","d-flex","justify-content-end","py-6","px-9"],["type","submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],[3,"value"],["clas","indicator-progress"],[1,"spinner-border","spinner-border-sm","align-middle","ms-2"],["type","text","placeholder","Hospital Name","formControlName","hospitalName",1,"form-control","form-control-lg","form-control-solid","mb-3","mb-lg-0"],["formControlName","hospitalType",1,"form-select","form-select-solid","form-select-lg","fw-bold"]],template:function(e,t){1&e&&(n.YNc(0,v,49,6,"div",0),n.YNc(1,w,56,7,"div",0)),2&e&&(n.Q6J("ngIf",4==t.role),n.xp6(1),n.Q6J("ngIf",2==t.role))},directives:[s.O5,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,u.EJ,s.sg,u.YN,u.Kr],encapsulation:2}),e})(),x=(()=>{class e{constructor(){}saveSettings(){alert("Account has been successfully deleted!")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-deactivate-account"]],decls:0,vars:0,template:function(e,t){},encapsulation:2}),e})();const U=[{path:"",component:l,children:[{path:"overview",component:a},{path:"settings",component:(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-settings"]],decls:2,vars:0,template:function(e,t){1&e&&(n._UZ(0,"app-profile-details"),n._UZ(1,"app-deactivate-account"))},directives:[y,x],encapsulation:2}),e})()},{path:"",redirectTo:"overview",pathMatch:"full"},{path:"**",redirectTo:"overview",pathMatch:"full"}]}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[r.Bz.forChild(U)],r.Bz]}),e})();var N=i(91843);let I=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[s.ez,S,o.vi,N.QX,u.u5,u.UX]]}),e})()},80610:function(e,t,i){"use strict";i.d(t,{$:function(){return r}});var s=i(91841),o=i(37716);let r=(()=>{class e{constructor(e){this.httpclient=e,this.httpHeader={headers:new s.WM({"Content-Type":"application/json"})}}saveMaster(e,t){return e.type=t,this.httpclient.post("https://65njeuink2.execute-api.us-east-2.amazonaws.com/DEV/save-masters",JSON.stringify(e),this.httpHeader)}updateMaster(e,t){return e.type=t,this.httpclient.put("https://m2m1ln6pgl.execute-api.us-east-2.amazonaws.com/DEV/update-master",JSON.stringify(e),this.httpHeader)}getStates(){return this.httpclient.get("https://wsjtm9rlig.execute-api.us-east-2.amazonaws.com/DEV/states")}getCityByState(e){return this.httpclient.get("https://vjp422w8qj.execute-api.us-east-2.amazonaws.com/DEV/city-by-state?stateId="+e)}getPrograms(){return this.httpclient.get("https://u9y3qsagy3.execute-api.us-east-2.amazonaws.com/DEV/programs")}getProgramManagements(){return this.httpclient.get("https://onrt9k4hma.execute-api.us-east-2.amazonaws.com/DEV/programs-list")}getRoles(){return this.httpclient.get("https://4jlqz169v7.execute-api.us-east-2.amazonaws.com/DEV/roles")}getHospitalTypes(){return this.httpclient.get("https://zmif3ap4jf.execute-api.us-east-2.amazonaws.com/beta/hospital-types")}}return e.\u0275fac=function(t){return new(t||e)(o.LFG(s.eN))},e.\u0275prov=o.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()}}]);